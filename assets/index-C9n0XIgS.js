(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const f of l.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();var au=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fb(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var mm={exports:{}},Nh={},ym={exports:{}},At={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K_;function hb(){if(K_)return At;K_=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),v=Symbol.iterator;function y(B){return B===null||typeof B!="object"?null:(B=v&&B[v]||B["@@iterator"],typeof B=="function"?B:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,S={};function A(B,W,Z){this.props=B,this.context=W,this.refs=S,this.updater=Z||_}A.prototype.isReactComponent={},A.prototype.setState=function(B,W){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,W,"setState")},A.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function b(){}b.prototype=A.prototype;function R(B,W,Z){this.props=B,this.context=W,this.refs=S,this.updater=Z||_}var M=R.prototype=new b;M.constructor=R,P(M,A.prototype),M.isPureReactComponent=!0;var I=Array.isArray,q=Object.prototype.hasOwnProperty,$={current:null},L={key:!0,ref:!0,__self:!0,__source:!0};function O(B,W,Z){var ue,se={},Y=null,ie=null;if(W!=null)for(ue in W.ref!==void 0&&(ie=W.ref),W.key!==void 0&&(Y=""+W.key),W)q.call(W,ue)&&!L.hasOwnProperty(ue)&&(se[ue]=W[ue]);var pe=arguments.length-2;if(pe===1)se.children=Z;else if(1<pe){for(var me=Array(pe),Se=0;Se<pe;Se++)me[Se]=arguments[Se+2];se.children=me}if(B&&B.defaultProps)for(ue in pe=B.defaultProps,pe)se[ue]===void 0&&(se[ue]=pe[ue]);return{$$typeof:i,type:B,key:Y,ref:ie,props:se,_owner:$.current}}function F(B,W){return{$$typeof:i,type:B.type,key:W,ref:B.ref,props:B.props,_owner:B._owner}}function D(B){return typeof B=="object"&&B!==null&&B.$$typeof===i}function k(B){var W={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(Z){return W[Z]})}var U=/\/+/g;function V(B,W){return typeof B=="object"&&B!==null&&B.key!=null?k(""+B.key):W.toString(36)}function J(B,W,Z,ue,se){var Y=typeof B;(Y==="undefined"||Y==="boolean")&&(B=null);var ie=!1;if(B===null)ie=!0;else switch(Y){case"string":case"number":ie=!0;break;case"object":switch(B.$$typeof){case i:case e:ie=!0}}if(ie)return ie=B,se=se(ie),B=ue===""?"."+V(ie,0):ue,I(se)?(Z="",B!=null&&(Z=B.replace(U,"$&/")+"/"),J(se,W,Z,"",function(Se){return Se})):se!=null&&(D(se)&&(se=F(se,Z+(!se.key||ie&&ie.key===se.key?"":(""+se.key).replace(U,"$&/")+"/")+B)),W.push(se)),1;if(ie=0,ue=ue===""?".":ue+":",I(B))for(var pe=0;pe<B.length;pe++){Y=B[pe];var me=ue+V(Y,pe);ie+=J(Y,W,Z,me,se)}else if(me=y(B),typeof me=="function")for(B=me.call(B),pe=0;!(Y=B.next()).done;)Y=Y.value,me=ue+V(Y,pe++),ie+=J(Y,W,Z,me,se);else if(Y==="object")throw W=String(B),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return ie}function ee(B,W,Z){if(B==null)return B;var ue=[],se=0;return J(B,ue,"","",function(Y){return W.call(Z,Y,se++)}),ue}function fe(B){if(B._status===-1){var W=B._result;W=W(),W.then(function(Z){(B._status===0||B._status===-1)&&(B._status=1,B._result=Z)},function(Z){(B._status===0||B._status===-1)&&(B._status=2,B._result=Z)}),B._status===-1&&(B._status=0,B._result=W)}if(B._status===1)return B._result.default;throw B._result}var ce={current:null},de={transition:null},re={ReactCurrentDispatcher:ce,ReactCurrentBatchConfig:de,ReactCurrentOwner:$};function X(){throw Error("act(...) is not supported in production builds of React.")}return At.Children={map:ee,forEach:function(B,W,Z){ee(B,function(){W.apply(this,arguments)},Z)},count:function(B){var W=0;return ee(B,function(){W++}),W},toArray:function(B){return ee(B,function(W){return W})||[]},only:function(B){if(!D(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},At.Component=A,At.Fragment=t,At.Profiler=o,At.PureComponent=R,At.StrictMode=r,At.Suspense=g,At.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=re,At.act=X,At.cloneElement=function(B,W,Z){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var ue=P({},B.props),se=B.key,Y=B.ref,ie=B._owner;if(W!=null){if(W.ref!==void 0&&(Y=W.ref,ie=$.current),W.key!==void 0&&(se=""+W.key),B.type&&B.type.defaultProps)var pe=B.type.defaultProps;for(me in W)q.call(W,me)&&!L.hasOwnProperty(me)&&(ue[me]=W[me]===void 0&&pe!==void 0?pe[me]:W[me])}var me=arguments.length-2;if(me===1)ue.children=Z;else if(1<me){pe=Array(me);for(var Se=0;Se<me;Se++)pe[Se]=arguments[Se+2];ue.children=pe}return{$$typeof:i,type:B.type,key:se,ref:Y,props:ue,_owner:ie}},At.createContext=function(B){return B={$$typeof:f,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:l,_context:B},B.Consumer=B},At.createElement=O,At.createFactory=function(B){var W=O.bind(null,B);return W.type=B,W},At.createRef=function(){return{current:null}},At.forwardRef=function(B){return{$$typeof:p,render:B}},At.isValidElement=D,At.lazy=function(B){return{$$typeof:w,_payload:{_status:-1,_result:B},_init:fe}},At.memo=function(B,W){return{$$typeof:E,type:B,compare:W===void 0?null:W}},At.startTransition=function(B){var W=de.transition;de.transition={};try{B()}finally{de.transition=W}},At.unstable_act=X,At.useCallback=function(B,W){return ce.current.useCallback(B,W)},At.useContext=function(B){return ce.current.useContext(B)},At.useDebugValue=function(){},At.useDeferredValue=function(B){return ce.current.useDeferredValue(B)},At.useEffect=function(B,W){return ce.current.useEffect(B,W)},At.useId=function(){return ce.current.useId()},At.useImperativeHandle=function(B,W,Z){return ce.current.useImperativeHandle(B,W,Z)},At.useInsertionEffect=function(B,W){return ce.current.useInsertionEffect(B,W)},At.useLayoutEffect=function(B,W){return ce.current.useLayoutEffect(B,W)},At.useMemo=function(B,W){return ce.current.useMemo(B,W)},At.useReducer=function(B,W,Z){return ce.current.useReducer(B,W,Z)},At.useRef=function(B){return ce.current.useRef(B)},At.useState=function(B){return ce.current.useState(B)},At.useSyncExternalStore=function(B,W,Z){return ce.current.useSyncExternalStore(B,W,Z)},At.useTransition=function(){return ce.current.useTransition()},At.version="18.3.1",At}var G_;function ag(){return G_||(G_=1,ym.exports=hb()),ym.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q_;function db(){if(Q_)return Nh;Q_=1;var i=ag(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function f(p,g,E){var w,v={},y=null,_=null;E!==void 0&&(y=""+E),g.key!==void 0&&(y=""+g.key),g.ref!==void 0&&(_=g.ref);for(w in g)r.call(g,w)&&!l.hasOwnProperty(w)&&(v[w]=g[w]);if(p&&p.defaultProps)for(w in g=p.defaultProps,g)v[w]===void 0&&(v[w]=g[w]);return{$$typeof:e,type:p,key:y,ref:_,props:v,_owner:o.current}}return Nh.Fragment=t,Nh.jsx=f,Nh.jsxs=f,Nh}var Y_;function pb(){return Y_||(Y_=1,mm.exports=db()),mm.exports}var uu=pb(),af=ag(),Ep={},vm={exports:{}},ti={},_m={exports:{}},Em={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X_;function gb(){return X_||(X_=1,function(i){function e(de,re){var X=de.length;de.push(re);e:for(;0<X;){var B=X-1>>>1,W=de[B];if(0<o(W,re))de[B]=re,de[X]=W,X=B;else break e}}function t(de){return de.length===0?null:de[0]}function r(de){if(de.length===0)return null;var re=de[0],X=de.pop();if(X!==re){de[0]=X;e:for(var B=0,W=de.length,Z=W>>>1;B<Z;){var ue=2*(B+1)-1,se=de[ue],Y=ue+1,ie=de[Y];if(0>o(se,X))Y<W&&0>o(ie,se)?(de[B]=ie,de[Y]=X,B=Y):(de[B]=se,de[ue]=X,B=ue);else if(Y<W&&0>o(ie,X))de[B]=ie,de[Y]=X,B=Y;else break e}}return re}function o(de,re){var X=de.sortIndex-re.sortIndex;return X!==0?X:de.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;i.unstable_now=function(){return l.now()}}else{var f=Date,p=f.now();i.unstable_now=function(){return f.now()-p}}var g=[],E=[],w=1,v=null,y=3,_=!1,P=!1,S=!1,A=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(de){for(var re=t(E);re!==null;){if(re.callback===null)r(E);else if(re.startTime<=de)r(E),re.sortIndex=re.expirationTime,e(g,re);else break;re=t(E)}}function I(de){if(S=!1,M(de),!P)if(t(g)!==null)P=!0,fe(q);else{var re=t(E);re!==null&&ce(I,re.startTime-de)}}function q(de,re){P=!1,S&&(S=!1,b(O),O=-1),_=!0;var X=y;try{for(M(re),v=t(g);v!==null&&(!(v.expirationTime>re)||de&&!k());){var B=v.callback;if(typeof B=="function"){v.callback=null,y=v.priorityLevel;var W=B(v.expirationTime<=re);re=i.unstable_now(),typeof W=="function"?v.callback=W:v===t(g)&&r(g),M(re)}else r(g);v=t(g)}if(v!==null)var Z=!0;else{var ue=t(E);ue!==null&&ce(I,ue.startTime-re),Z=!1}return Z}finally{v=null,y=X,_=!1}}var $=!1,L=null,O=-1,F=5,D=-1;function k(){return!(i.unstable_now()-D<F)}function U(){if(L!==null){var de=i.unstable_now();D=de;var re=!0;try{re=L(!0,de)}finally{re?V():($=!1,L=null)}}else $=!1}var V;if(typeof R=="function")V=function(){R(U)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,ee=J.port2;J.port1.onmessage=U,V=function(){ee.postMessage(null)}}else V=function(){A(U,0)};function fe(de){L=de,$||($=!0,V())}function ce(de,re){O=A(function(){de(i.unstable_now())},re)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(de){de.callback=null},i.unstable_continueExecution=function(){P||_||(P=!0,fe(q))},i.unstable_forceFrameRate=function(de){0>de||125<de?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<de?Math.floor(1e3/de):5},i.unstable_getCurrentPriorityLevel=function(){return y},i.unstable_getFirstCallbackNode=function(){return t(g)},i.unstable_next=function(de){switch(y){case 1:case 2:case 3:var re=3;break;default:re=y}var X=y;y=re;try{return de()}finally{y=X}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(de,re){switch(de){case 1:case 2:case 3:case 4:case 5:break;default:de=3}var X=y;y=de;try{return re()}finally{y=X}},i.unstable_scheduleCallback=function(de,re,X){var B=i.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?B+X:B):X=B,de){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=X+W,de={id:w++,callback:re,priorityLevel:de,startTime:X,expirationTime:W,sortIndex:-1},X>B?(de.sortIndex=X,e(E,de),t(g)===null&&de===t(E)&&(S?(b(O),O=-1):S=!0,ce(I,X-B))):(de.sortIndex=W,e(g,de),P||_||(P=!0,fe(q))),de},i.unstable_shouldYield=k,i.unstable_wrapCallback=function(de){var re=y;return function(){var X=y;y=re;try{return de.apply(this,arguments)}finally{y=X}}}}(Em)),Em}var J_;function mb(){return J_||(J_=1,_m.exports=gb()),_m.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z_;function yb(){if(Z_)return ti;Z_=1;var i=ag(),e=mb();function t(n){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+n,c=1;c<arguments.length;c++)s+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function l(n,s){f(n,s),f(n+"Capture",s)}function f(n,s){for(o[n]=s,n=0;n<s.length;n++)r.add(s[n])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,E=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},v={};function y(n){return g.call(v,n)?!0:g.call(w,n)?!1:E.test(n)?v[n]=!0:(w[n]=!0,!1)}function _(n,s,c,d){if(c!==null&&c.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return d?!1:c!==null?!c.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function P(n,s,c,d){if(s===null||typeof s>"u"||_(n,s,c,d))return!0;if(d)return!1;if(c!==null)switch(c.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function S(n,s,c,d,T,N,H){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=d,this.attributeNamespace=T,this.mustUseProperty=c,this.propertyName=n,this.type=s,this.sanitizeURL=N,this.removeEmptyString=H}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){A[n]=new S(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var s=n[0];A[s]=new S(s,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){A[n]=new S(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){A[n]=new S(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){A[n]=new S(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){A[n]=new S(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){A[n]=new S(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){A[n]=new S(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){A[n]=new S(n,5,!1,n.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function R(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var s=n.replace(b,R);A[s]=new S(s,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var s=n.replace(b,R);A[s]=new S(s,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var s=n.replace(b,R);A[s]=new S(s,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){A[n]=new S(n,1,!1,n.toLowerCase(),null,!1,!1)}),A.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){A[n]=new S(n,1,!1,n.toLowerCase(),null,!0,!0)});function M(n,s,c,d){var T=A.hasOwnProperty(s)?A[s]:null;(T!==null?T.type!==0:d||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(P(s,c,T,d)&&(c=null),d||T===null?y(s)&&(c===null?n.removeAttribute(s):n.setAttribute(s,""+c)):T.mustUseProperty?n[T.propertyName]=c===null?T.type===3?!1:"":c:(s=T.attributeName,d=T.attributeNamespace,c===null?n.removeAttribute(s):(T=T.type,c=T===3||T===4&&c===!0?"":""+c,d?n.setAttributeNS(d,s,c):n.setAttribute(s,c))))}var I=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,q=Symbol.for("react.element"),$=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),k=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),ee=Symbol.for("react.memo"),fe=Symbol.for("react.lazy"),ce=Symbol.for("react.offscreen"),de=Symbol.iterator;function re(n){return n===null||typeof n!="object"?null:(n=de&&n[de]||n["@@iterator"],typeof n=="function"?n:null)}var X=Object.assign,B;function W(n){if(B===void 0)try{throw Error()}catch(c){var s=c.stack.trim().match(/\n( *(at )?)/);B=s&&s[1]||""}return`
`+B+n}var Z=!1;function ue(n,s){if(!n||Z)return"";Z=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(we){var d=we}Reflect.construct(n,[],s)}else{try{s.call()}catch(we){d=we}n.call(s.prototype)}else{try{throw Error()}catch(we){d=we}n()}}catch(we){if(we&&d&&typeof we.stack=="string"){for(var T=we.stack.split(`
`),N=d.stack.split(`
`),H=T.length-1,te=N.length-1;1<=H&&0<=te&&T[H]!==N[te];)te--;for(;1<=H&&0<=te;H--,te--)if(T[H]!==N[te]){if(H!==1||te!==1)do if(H--,te--,0>te||T[H]!==N[te]){var oe=`
`+T[H].replace(" at new "," at ");return n.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",n.displayName)),oe}while(1<=H&&0<=te);break}}}finally{Z=!1,Error.prepareStackTrace=c}return(n=n?n.displayName||n.name:"")?W(n):""}function se(n){switch(n.tag){case 5:return W(n.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return n=ue(n.type,!1),n;case 11:return n=ue(n.type.render,!1),n;case 1:return n=ue(n.type,!0),n;default:return""}}function Y(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case L:return"Fragment";case $:return"Portal";case F:return"Profiler";case O:return"StrictMode";case V:return"Suspense";case J:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case k:return(n.displayName||"Context")+".Consumer";case D:return(n._context.displayName||"Context")+".Provider";case U:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case ee:return s=n.displayName||null,s!==null?s:Y(n.type)||"Memo";case fe:s=n._payload,n=n._init;try{return Y(n(s))}catch{}}return null}function ie(n){var s=n.type;switch(n.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=s.render,n=n.displayName||n.name||"",s.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Y(s);case 8:return s===O?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function pe(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function me(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Se(n){var s=me(n)?"checked":"value",c=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),d=""+n[s];if(!n.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var T=c.get,N=c.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return T.call(this)},set:function(H){d=""+H,N.call(this,H)}}),Object.defineProperty(n,s,{enumerable:c.enumerable}),{getValue:function(){return d},setValue:function(H){d=""+H},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function qe(n){n._valueTracker||(n._valueTracker=Se(n))}function Ye(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var c=s.getValue(),d="";return n&&(d=me(n)?n.checked?"true":"false":n.value),n=d,n!==c?(s.setValue(n),!0):!1}function Je(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Xe(n,s){var c=s.checked;return X({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??n._wrapperState.initialChecked})}function yt(n,s){var c=s.defaultValue==null?"":s.defaultValue,d=s.checked!=null?s.checked:s.defaultChecked;c=pe(s.value!=null?s.value:c),n._wrapperState={initialChecked:d,initialValue:c,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function mn(n,s){s=s.checked,s!=null&&M(n,"checked",s,!1)}function Ot(n,s){mn(n,s);var c=pe(s.value),d=s.type;if(c!=null)d==="number"?(c===0&&n.value===""||n.value!=c)&&(n.value=""+c):n.value!==""+c&&(n.value=""+c);else if(d==="submit"||d==="reset"){n.removeAttribute("value");return}s.hasOwnProperty("value")?be(n,s.type,c):s.hasOwnProperty("defaultValue")&&be(n,s.type,pe(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(n.defaultChecked=!!s.defaultChecked)}function Ie(n,s,c){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var d=s.type;if(!(d!=="submit"&&d!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+n._wrapperState.initialValue,c||s===n.value||(n.value=s),n.defaultValue=s}c=n.name,c!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,c!==""&&(n.name=c)}function be(n,s,c){(s!=="number"||Je(n.ownerDocument)!==n)&&(c==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+c&&(n.defaultValue=""+c))}var Ve=Array.isArray;function Ue(n,s,c,d){if(n=n.options,s){s={};for(var T=0;T<c.length;T++)s["$"+c[T]]=!0;for(c=0;c<n.length;c++)T=s.hasOwnProperty("$"+n[c].value),n[c].selected!==T&&(n[c].selected=T),T&&d&&(n[c].defaultSelected=!0)}else{for(c=""+pe(c),s=null,T=0;T<n.length;T++){if(n[T].value===c){n[T].selected=!0,d&&(n[T].defaultSelected=!0);return}s!==null||n[T].disabled||(s=n[T])}s!==null&&(s.selected=!0)}}function Oe(n,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return X({},s,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function st(n,s){var c=s.value;if(c==null){if(c=s.children,s=s.defaultValue,c!=null){if(s!=null)throw Error(t(92));if(Ve(c)){if(1<c.length)throw Error(t(93));c=c[0]}s=c}s==null&&(s=""),c=s}n._wrapperState={initialValue:pe(c)}}function lt(n,s){var c=pe(s.value),d=pe(s.defaultValue);c!=null&&(c=""+c,c!==n.value&&(n.value=c),s.defaultValue==null&&n.defaultValue!==c&&(n.defaultValue=c)),d!=null&&(n.defaultValue=""+d)}function ut(n){var s=n.textContent;s===n._wrapperState.initialValue&&s!==""&&s!==null&&(n.value=s)}function Dt(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ct(n,s){return n==null||n==="http://www.w3.org/1999/xhtml"?Dt(s):n==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Et,Xi=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,c,d,T){MSApp.execUnsafeLocalFunction(function(){return n(s,c,d,T)})}:n}(function(n,s){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=s;else{for(Et=Et||document.createElement("div"),Et.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Et.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;s.firstChild;)n.appendChild(s.firstChild)}});function qt(n,s){if(s){var c=n.firstChild;if(c&&c===n.lastChild&&c.nodeType===3){c.nodeValue=s;return}}n.textContent=s}var Cn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ji=["Webkit","ms","Moz","O"];Object.keys(Cn).forEach(function(n){Ji.forEach(function(s){s=s+n.charAt(0).toUpperCase()+n.substring(1),Cn[s]=Cn[n]})});function co(n,s,c){return s==null||typeof s=="boolean"||s===""?"":c||typeof s!="number"||s===0||Cn.hasOwnProperty(n)&&Cn[n]?(""+s).trim():s+"px"}function fo(n,s){n=n.style;for(var c in s)if(s.hasOwnProperty(c)){var d=c.indexOf("--")===0,T=co(c,s[c],d);c==="float"&&(c="cssFloat"),d?n.setProperty(c,T):n[c]=T}}var ho=X({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function po(n,s){if(s){if(ho[n]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function go(n,s){if(n.indexOf("-")===-1)return typeof s.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mo=null;function ua(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var la=null,br=null,si=null;function ca(n){if(n=Yn(n)){if(typeof la!="function")throw Error(t(280));var s=n.stateNode;s&&(s=sc(s),la(n.stateNode,n.type,s))}}function ki(n){br?si?si.push(n):si=[n]:br=n}function Iu(){if(br){var n=br,s=si;if(si=br=null,ca(n),s)for(n=0;n<s.length;n++)ca(s[n])}}function yo(n,s){return n(s)}function fa(){}var Zi=!1;function Au(n,s,c){if(Zi)return n(s,c);Zi=!0;try{return yo(n,s,c)}finally{Zi=!1,(br!==null||si!==null)&&(fa(),Iu())}}function fn(n,s){var c=n.stateNode;if(c===null)return null;var d=sc(c);if(d===null)return null;c=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(n=n.type,d=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!d;break e;default:n=!1}if(n)return null;if(c&&typeof c!="function")throw Error(t(231,s,typeof c));return c}var Rs=!1;if(p)try{var oi={};Object.defineProperty(oi,"passive",{get:function(){Rs=!0}}),window.addEventListener("test",oi,oi),window.removeEventListener("test",oi,oi)}catch{Rs=!1}function es(n,s,c,d,T,N,H,te,oe){var we=Array.prototype.slice.call(arguments,3);try{s.apply(c,we)}catch(Ne){this.onError(Ne)}}var vo=!1,ha=null,ai=!1,Su=null,bf={onError:function(n){vo=!0,ha=n}};function da(n,s,c,d,T,N,H,te,oe){vo=!1,ha=null,es.apply(bf,arguments)}function Ll(n,s,c,d,T,N,H,te,oe){if(da.apply(this,arguments),vo){if(vo){var we=ha;vo=!1,ha=null}else throw Error(t(198));ai||(ai=!0,Su=we)}}function ui(n){var s=n,c=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,s.flags&4098&&(c=s.return),n=s.return;while(n)}return s.tag===3?c:null}function Ps(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function li(n){if(ui(n)!==n)throw Error(t(188))}function Dl(n){var s=n.alternate;if(!s){if(s=ui(n),s===null)throw Error(t(188));return s!==n?null:n}for(var c=n,d=s;;){var T=c.return;if(T===null)break;var N=T.alternate;if(N===null){if(d=T.return,d!==null){c=d;continue}break}if(T.child===N.child){for(N=T.child;N;){if(N===c)return li(T),n;if(N===d)return li(T),s;N=N.sibling}throw Error(t(188))}if(c.return!==d.return)c=T,d=N;else{for(var H=!1,te=T.child;te;){if(te===c){H=!0,c=T,d=N;break}if(te===d){H=!0,d=T,c=N;break}te=te.sibling}if(!H){for(te=N.child;te;){if(te===c){H=!0,c=N,d=T;break}if(te===d){H=!0,d=N,c=T;break}te=te.sibling}if(!H)throw Error(t(189))}}if(c.alternate!==d)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?n:s}function bu(n){return n=Dl(n),n!==null?pa(n):null}function pa(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var s=pa(n);if(s!==null)return s;n=n.sibling}return null}var ga=e.unstable_scheduleCallback,Ru=e.unstable_cancelCallback,_o=e.unstable_shouldYield,Rf=e.unstable_requestPaint,zt=e.unstable_now,Ml=e.unstable_getCurrentPriorityLevel,Eo=e.unstable_ImmediatePriority,ks=e.unstable_UserBlockingPriority,Rr=e.unstable_NormalPriority,ma=e.unstable_LowPriority,Pu=e.unstable_IdlePriority,wo=null,Pr=null;function Vl(n){if(Pr&&typeof Pr.onCommitFiberRoot=="function")try{Pr.onCommitFiberRoot(wo,n,void 0,(n.current.flags&128)===128)}catch{}}var ir=Math.clz32?Math.clz32:Ou,ya=Math.log,ku=Math.LN2;function Ou(n){return n>>>=0,n===0?32:31-(ya(n)/ku|0)|0}var Os=64,va=4194304;function ts(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Oi(n,s){var c=n.pendingLanes;if(c===0)return 0;var d=0,T=n.suspendedLanes,N=n.pingedLanes,H=c&268435455;if(H!==0){var te=H&~T;te!==0?d=ts(te):(N&=H,N!==0&&(d=ts(N)))}else H=c&~T,H!==0?d=ts(H):N!==0&&(d=ts(N));if(d===0)return 0;if(s!==0&&s!==d&&!(s&T)&&(T=d&-d,N=s&-s,T>=N||T===16&&(N&4194240)!==0))return s;if(d&4&&(d|=c&16),s=n.entangledLanes,s!==0)for(n=n.entanglements,s&=d;0<s;)c=31-ir(s),T=1<<c,d|=n[c],s&=~T;return d}function Ul(n,s){switch(n){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ns(n,s){for(var c=n.suspendedLanes,d=n.pingedLanes,T=n.expirationTimes,N=n.pendingLanes;0<N;){var H=31-ir(N),te=1<<H,oe=T[H];oe===-1?(!(te&c)||te&d)&&(T[H]=Ul(te,s)):oe<=s&&(n.expiredLanes|=te),N&=~te}}function pr(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Cs(){var n=Os;return Os<<=1,!(Os&4194240)&&(Os=64),n}function Ci(n){for(var s=[],c=0;31>c;c++)s.push(n);return s}function Ns(n,s,c){n.pendingLanes|=s,s!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,s=31-ir(s),n[s]=c}function Kt(n,s){var c=n.pendingLanes&~s;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=s,n.mutableReadLanes&=s,n.entangledLanes&=s,s=n.entanglements;var d=n.eventTimes;for(n=n.expirationTimes;0<c;){var T=31-ir(c),N=1<<T;s[T]=0,d[T]=-1,n[T]=-1,c&=~N}}function Ni(n,s){var c=n.entangledLanes|=s;for(n=n.entanglements;c;){var d=31-ir(c),T=1<<d;T&s|n[d]&s&&(n[d]|=s),c&=~T}}var Tt=0;function kr(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var Cu,To,Fl,Nu,xu,_a=!1,ci=[],Vn=null,fi=null,hi=null,rs=new Map,Vr=new Map,xi=[],Pf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ql(n,s){switch(n){case"focusin":case"focusout":Vn=null;break;case"dragenter":case"dragleave":fi=null;break;case"mouseover":case"mouseout":hi=null;break;case"pointerover":case"pointerout":rs.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vr.delete(s.pointerId)}}function Wn(n,s,c,d,T,N){return n===null||n.nativeEvent!==N?(n={blockedOn:s,domEventName:c,eventSystemFlags:d,nativeEvent:N,targetContainers:[T]},s!==null&&(s=Yn(s),s!==null&&To(s)),n):(n.eventSystemFlags|=d,s=n.targetContainers,T!==null&&s.indexOf(T)===-1&&s.push(T),n)}function kf(n,s,c,d,T){switch(s){case"focusin":return Vn=Wn(Vn,n,s,c,d,T),!0;case"dragenter":return fi=Wn(fi,n,s,c,d,T),!0;case"mouseover":return hi=Wn(hi,n,s,c,d,T),!0;case"pointerover":var N=T.pointerId;return rs.set(N,Wn(rs.get(N)||null,n,s,c,d,T)),!0;case"gotpointercapture":return N=T.pointerId,Vr.set(N,Wn(Vr.get(N)||null,n,s,c,d,T)),!0}return!1}function Bl(n){var s=Vi(n.target);if(s!==null){var c=ui(s);if(c!==null){if(s=c.tag,s===13){if(s=Ps(c),s!==null){n.blockedOn=s,xu(n.priority,function(){Fl(c)});return}}else if(s===3&&c.stateNode.current.memoizedState.isDehydrated){n.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}n.blockedOn=null}function is(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var c=So(n.domEventName,n.eventSystemFlags,s[0],n.nativeEvent);if(c===null){c=n.nativeEvent;var d=new c.constructor(c.type,c);mo=d,c.target.dispatchEvent(d),mo=null}else return s=Yn(c),s!==null&&To(s),n.blockedOn=c,!1;s.shift()}return!0}function Io(n,s,c){is(n)&&c.delete(s)}function jl(){_a=!1,Vn!==null&&is(Vn)&&(Vn=null),fi!==null&&is(fi)&&(fi=null),hi!==null&&is(hi)&&(hi=null),rs.forEach(Io),Vr.forEach(Io)}function bt(n,s){n.blockedOn===s&&(n.blockedOn=null,_a||(_a=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,jl)))}function It(n){function s(T){return bt(T,n)}if(0<ci.length){bt(ci[0],n);for(var c=1;c<ci.length;c++){var d=ci[c];d.blockedOn===n&&(d.blockedOn=null)}}for(Vn!==null&&bt(Vn,n),fi!==null&&bt(fi,n),hi!==null&&bt(hi,n),rs.forEach(s),Vr.forEach(s),c=0;c<xi.length;c++)d=xi[c],d.blockedOn===n&&(d.blockedOn=null);for(;0<xi.length&&(c=xi[0],c.blockedOn===null);)Bl(c),c.blockedOn===null&&xi.shift()}var ss=I.ReactCurrentBatchConfig,xs=!0;function tn(n,s,c,d){var T=Tt,N=ss.transition;ss.transition=null;try{Tt=1,Lu(n,s,c,d)}finally{Tt=T,ss.transition=N}}function Of(n,s,c,d){var T=Tt,N=ss.transition;ss.transition=null;try{Tt=4,Lu(n,s,c,d)}finally{Tt=T,ss.transition=N}}function Lu(n,s,c,d){if(xs){var T=So(n,s,c,d);if(T===null)Df(n,s,d,Ao,c),ql(n,d);else if(kf(T,n,s,c,d))d.stopPropagation();else if(ql(n,d),s&4&&-1<Pf.indexOf(n)){for(;T!==null;){var N=Yn(T);if(N!==null&&Cu(N),N=So(n,s,c,d),N===null&&Df(n,s,d,Ao,c),N===T)break;T=N}T!==null&&d.stopPropagation()}else Df(n,s,d,null,c)}}var Ao=null;function So(n,s,c,d){if(Ao=null,n=ua(d),n=Vi(n),n!==null)if(s=ui(n),s===null)n=null;else if(c=s.tag,c===13){if(n=Ps(s),n!==null)return n;n=null}else if(c===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null);return Ao=n,null}function Du(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ml()){case Eo:return 1;case ks:return 4;case Rr:case ma:return 16;case Pu:return 536870912;default:return 16}default:return 16}}var $t=null,Ls=null,yn=null;function Ea(){if(yn)return yn;var n,s=Ls,c=s.length,d,T="value"in $t?$t.value:$t.textContent,N=T.length;for(n=0;n<c&&s[n]===T[n];n++);var H=c-n;for(d=1;d<=H&&s[c-d]===T[N-d];d++);return yn=T.slice(n,1<d?1-d:void 0)}function Ds(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function hn(){return!0}function wa(){return!1}function Nn(n){function s(c,d,T,N,H){this._reactName=c,this._targetInst=T,this.type=d,this.nativeEvent=N,this.target=H,this.currentTarget=null;for(var te in n)n.hasOwnProperty(te)&&(c=n[te],this[te]=c?c(N):N[te]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?hn:wa,this.isPropagationStopped=wa,this}return X(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=hn)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=hn)},persist:function(){},isPersistent:hn}),s}var Ur={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bo=Nn(Ur),di=X({},Ur,{view:0,detail:0}),zl=Nn(di),xn,os,In,Ro=X({},di,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Li,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==In&&(In&&n.type==="mousemove"?(xn=n.screenX-In.screenX,os=n.screenY-In.screenY):os=xn=0,In=n),xn)},movementY:function(n){return"movementY"in n?n.movementY:os}}),Po=Nn(Ro),Fr=X({},Ro,{dataTransfer:0}),ko=Nn(Fr),Ms=X({},di,{relatedTarget:0}),Ht=Nn(Ms),pi=X({},Ur,{animationName:0,elapsedTime:0,pseudoElement:0}),gi=Nn(pi),$l=X({},Ur,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ta=Nn($l),Hl=X({},Ur,{data:0}),Mu=Nn(Hl),Ia={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Oo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function as(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=Oo[n])?!!s[n]:!1}function Li(){return as}var h=X({},di,{key:function(n){if(n.key){var s=Ia[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Ds(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Kn[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Li,charCode:function(n){return n.type==="keypress"?Ds(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ds(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),C=Nn(h),j=X({},Ro,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),G=Nn(j),ye=X({},di,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Li}),Te=Nn(ye),Fe=X({},Ur,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bt=Nn(Fe),An=X({},Ro,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Rt=Nn(An),jt=[9,13,27,32],an=p&&"CompositionEvent"in window,Gn=null;p&&"documentMode"in document&&(Gn=document.documentMode);var gr=p&&"TextEvent"in window&&!Gn,Vs=p&&(!an||Gn&&8<Gn&&11>=Gn),Aa=" ",vd=!1;function _d(n,s){switch(n){case"keyup":return jt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ed(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Sa=!1;function ba(n,s){switch(n){case"compositionend":return Ed(s);case"keypress":return s.which!==32?null:(vd=!0,Aa);case"textInput":return n=s.data,n===Aa&&vd?null:n;default:return null}}function Ng(n,s){if(Sa)return n==="compositionend"||!an&&_d(n,s)?(n=Ea(),yn=Ls=$t=null,Sa=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Vs&&s.locale!=="ko"?null:s.data;default:return null}}var xg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wl(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!xg[n.type]:s==="textarea"}function Cf(n,s,c,d){ki(d),s=tc(s,"onChange"),0<s.length&&(c=new bo("onChange","change",null,c,d),n.push({event:c,listeners:s}))}var qr=null,Us=null;function Lg(n){Rd(n,0)}function Kl(n){var s=gt(n);if(Ye(s))return n}function Dg(n,s){if(n==="change")return s}var Co=!1;if(p){var Or;if(p){var Gl="oninput"in document;if(!Gl){var wd=document.createElement("div");wd.setAttribute("oninput","return;"),Gl=typeof wd.oninput=="function"}Or=Gl}else Or=!1;Co=Or&&(!document.documentMode||9<document.documentMode)}function Td(){qr&&(qr.detachEvent("onpropertychange",Id),Us=qr=null)}function Id(n){if(n.propertyName==="value"&&Kl(Us)){var s=[];Cf(s,Us,n,ua(n)),Au(Lg,s)}}function Mg(n,s,c){n==="focusin"?(Td(),qr=s,Us=c,qr.attachEvent("onpropertychange",Id)):n==="focusout"&&Td()}function Vg(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Kl(Us)}function Ra(n,s){if(n==="click")return Kl(s)}function he(n,s){if(n==="input"||n==="change")return Kl(s)}function Ae(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var Ee=typeof Object.is=="function"?Object.is:Ae;function je(n,s){if(Ee(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var c=Object.keys(n),d=Object.keys(s);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var T=c[d];if(!g.call(s,T)||!Ee(n[T],s[T]))return!1}return!0}function ct(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Mt(n,s){var c=ct(n);n=0;for(var d;c;){if(c.nodeType===3){if(d=n+c.textContent.length,n<=s&&d>=s)return{node:c,offset:s-n};n=d}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=ct(c)}}function vn(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?vn(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Gt(){for(var n=window,s=Je();s instanceof n.HTMLIFrameElement;){try{var c=typeof s.contentWindow.location.href=="string"}catch{c=!1}if(c)n=s.contentWindow;else break;s=Je(n.document)}return s}function Vu(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}function Ug(n){var s=Gt(),c=n.focusedElem,d=n.selectionRange;if(s!==c&&c&&c.ownerDocument&&vn(c.ownerDocument.documentElement,c)){if(d!==null&&Vu(c)){if(s=d.start,n=d.end,n===void 0&&(n=s),"selectionStart"in c)c.selectionStart=s,c.selectionEnd=Math.min(n,c.value.length);else if(n=(s=c.ownerDocument||document)&&s.defaultView||window,n.getSelection){n=n.getSelection();var T=c.textContent.length,N=Math.min(d.start,T);d=d.end===void 0?N:Math.min(d.end,T),!n.extend&&N>d&&(T=d,d=N,N=T),T=Mt(c,N);var H=Mt(c,d);T&&H&&(n.rangeCount!==1||n.anchorNode!==T.node||n.anchorOffset!==T.offset||n.focusNode!==H.node||n.focusOffset!==H.offset)&&(s=s.createRange(),s.setStart(T.node,T.offset),n.removeAllRanges(),N>d?(n.addRange(s),n.extend(H.node,H.offset)):(s.setEnd(H.node,H.offset),n.addRange(s)))}}for(s=[],n=c;n=n.parentNode;)n.nodeType===1&&s.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<s.length;c++)n=s[c],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Br=p&&"documentMode"in document&&11>=document.documentMode,us=null,Nf=null,Di=null,Pa=!1;function Uu(n,s,c){var d=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Pa||us==null||us!==Je(d)||(d=us,"selectionStart"in d&&Vu(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Di&&je(Di,d)||(Di=d,d=tc(Nf,"onSelect"),0<d.length&&(s=new bo("onSelect","select",null,s,c),n.push({event:s,listeners:d}),s.target=us)))}function Vt(n,s){var c={};return c[n.toLowerCase()]=s.toLowerCase(),c["Webkit"+n]="webkit"+s,c["Moz"+n]="moz"+s,c}var ka={animationend:Vt("Animation","AnimationEnd"),animationiteration:Vt("Animation","AnimationIteration"),animationstart:Vt("Animation","AnimationStart"),transitionend:Vt("Transition","TransitionEnd")},Ql={},Fu={};p&&(Fu=document.createElement("div").style,"AnimationEvent"in window||(delete ka.animationend.animation,delete ka.animationiteration.animation,delete ka.animationstart.animation),"TransitionEvent"in window||delete ka.transitionend.transition);function Yl(n){if(Ql[n])return Ql[n];if(!ka[n])return n;var s=ka[n],c;for(c in s)if(s.hasOwnProperty(c)&&c in Fu)return Ql[n]=s[c];return n}var Ad=Yl("animationend"),Sd=Yl("animationiteration"),qu=Yl("animationstart"),ls=Yl("transitionend"),Bu=new Map,xf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mi(n,s){Bu.set(n,s),l(s,[n])}for(var Xl=0;Xl<xf.length;Xl++){var Jl=xf[Xl],Zl=Jl.toLowerCase(),bd=Jl[0].toUpperCase()+Jl.slice(1);mi(Zl,"on"+bd)}mi(Ad,"onAnimationEnd"),mi(Sd,"onAnimationIteration"),mi(qu,"onAnimationStart"),mi("dblclick","onDoubleClick"),mi("focusin","onFocus"),mi("focusout","onBlur"),mi(ls,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),No=new Set("cancel close invalid load scroll toggle".split(" ").concat(cs));function ju(n,s,c){var d=n.type||"unknown-event";n.currentTarget=c,Ll(d,s,void 0,n),n.currentTarget=null}function Rd(n,s){s=(s&4)!==0;for(var c=0;c<n.length;c++){var d=n[c],T=d.event;d=d.listeners;e:{var N=void 0;if(s)for(var H=d.length-1;0<=H;H--){var te=d[H],oe=te.instance,we=te.currentTarget;if(te=te.listener,oe!==N&&T.isPropagationStopped())break e;ju(T,te,we),N=oe}else for(H=0;H<d.length;H++){if(te=d[H],oe=te.instance,we=te.currentTarget,te=te.listener,oe!==N&&T.isPropagationStopped())break e;ju(T,te,we),N=oe}}}if(ai)throw n=Su,ai=!1,Su=null,n}function Jt(n,s){var c=s[ic];c===void 0&&(c=s[ic]=new Set);var d=n+"__bubble";c.has(d)||(ec(s,n,2,!1),c.add(d))}function Lf(n,s,c){var d=0;s&&(d|=4),ec(c,n,d,s)}var xo="_reactListening"+Math.random().toString(36).slice(2);function Fs(n){if(!n[xo]){n[xo]=!0,r.forEach(function(c){c!=="selectionchange"&&(No.has(c)||Lf(c,!1,n),Lf(c,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[xo]||(s[xo]=!0,Lf("selectionchange",!1,s))}}function ec(n,s,c,d){switch(Du(s)){case 1:var T=tn;break;case 4:T=Of;break;default:T=Lu}c=T.bind(null,s,c,n),T=void 0,!Rs||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(T=!0),d?T!==void 0?n.addEventListener(s,c,{capture:!0,passive:T}):n.addEventListener(s,c,!0):T!==void 0?n.addEventListener(s,c,{passive:T}):n.addEventListener(s,c,!1)}function Df(n,s,c,d,T){var N=d;if(!(s&1)&&!(s&2)&&d!==null)e:for(;;){if(d===null)return;var H=d.tag;if(H===3||H===4){var te=d.stateNode.containerInfo;if(te===T||te.nodeType===8&&te.parentNode===T)break;if(H===4)for(H=d.return;H!==null;){var oe=H.tag;if((oe===3||oe===4)&&(oe=H.stateNode.containerInfo,oe===T||oe.nodeType===8&&oe.parentNode===T))return;H=H.return}for(;te!==null;){if(H=Vi(te),H===null)return;if(oe=H.tag,oe===5||oe===6){d=N=H;continue e}te=te.parentNode}}d=d.return}Au(function(){var we=N,Ne=ua(c),Le=[];e:{var Ce=Bu.get(n);if(Ce!==void 0){var ze=bo,We=n;switch(n){case"keypress":if(Ds(c)===0)break e;case"keydown":case"keyup":ze=C;break;case"focusin":We="focus",ze=Ht;break;case"focusout":We="blur",ze=Ht;break;case"beforeblur":case"afterblur":ze=Ht;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ze=Po;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ze=ko;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ze=Te;break;case Ad:case Sd:case qu:ze=gi;break;case ls:ze=Bt;break;case"scroll":ze=zl;break;case"wheel":ze=Rt;break;case"copy":case"cut":case"paste":ze=Ta;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ze=G}var Ke=(s&4)!==0,ln=!Ke&&n==="scroll",ve=Ke?Ce!==null?Ce+"Capture":null:Ce;Ke=[];for(var le=we,_e;le!==null;){_e=le;var Me=_e.stateNode;if(_e.tag===5&&Me!==null&&(_e=Me,ve!==null&&(Me=fn(le,ve),Me!=null&&Ke.push(Oa(le,Me,_e)))),ln)break;le=le.return}0<Ke.length&&(Ce=new ze(Ce,We,null,c,Ne),Le.push({event:Ce,listeners:Ke}))}}if(!(s&7)){e:{if(Ce=n==="mouseover"||n==="pointerover",ze=n==="mouseout"||n==="pointerout",Ce&&c!==mo&&(We=c.relatedTarget||c.fromElement)&&(Vi(We)||We[Cr]))break e;if((ze||Ce)&&(Ce=Ne.window===Ne?Ne:(Ce=Ne.ownerDocument)?Ce.defaultView||Ce.parentWindow:window,ze?(We=c.relatedTarget||c.toElement,ze=we,We=We?Vi(We):null,We!==null&&(ln=ui(We),We!==ln||We.tag!==5&&We.tag!==6)&&(We=null)):(ze=null,We=we),ze!==We)){if(Ke=Po,Me="onMouseLeave",ve="onMouseEnter",le="mouse",(n==="pointerout"||n==="pointerover")&&(Ke=G,Me="onPointerLeave",ve="onPointerEnter",le="pointer"),ln=ze==null?Ce:gt(ze),_e=We==null?Ce:gt(We),Ce=new Ke(Me,le+"leave",ze,c,Ne),Ce.target=ln,Ce.relatedTarget=_e,Me=null,Vi(Ne)===we&&(Ke=new Ke(ve,le+"enter",We,c,Ne),Ke.target=_e,Ke.relatedTarget=ln,Me=Ke),ln=Me,ze&&We)t:{for(Ke=ze,ve=We,le=0,_e=Ke;_e;_e=Ca(_e))le++;for(_e=0,Me=ve;Me;Me=Ca(Me))_e++;for(;0<le-_e;)Ke=Ca(Ke),le--;for(;0<_e-le;)ve=Ca(ve),_e--;for(;le--;){if(Ke===ve||ve!==null&&Ke===ve.alternate)break t;Ke=Ca(Ke),ve=Ca(ve)}Ke=null}else Ke=null;ze!==null&&_n(Le,Ce,ze,Ke,!1),We!==null&&ln!==null&&_n(Le,ln,We,Ke,!0)}}e:{if(Ce=we?gt(we):window,ze=Ce.nodeName&&Ce.nodeName.toLowerCase(),ze==="select"||ze==="input"&&Ce.type==="file")var Ge=Dg;else if(Wl(Ce))if(Co)Ge=he;else{Ge=Vg;var Ze=Mg}else(ze=Ce.nodeName)&&ze.toLowerCase()==="input"&&(Ce.type==="checkbox"||Ce.type==="radio")&&(Ge=Ra);if(Ge&&(Ge=Ge(n,we))){Cf(Le,Ge,c,Ne);break e}Ze&&Ze(n,Ce,we),n==="focusout"&&(Ze=Ce._wrapperState)&&Ze.controlled&&Ce.type==="number"&&be(Ce,"number",Ce.value)}switch(Ze=we?gt(we):window,n){case"focusin":(Wl(Ze)||Ze.contentEditable==="true")&&(us=Ze,Nf=we,Di=null);break;case"focusout":Di=Nf=us=null;break;case"mousedown":Pa=!0;break;case"contextmenu":case"mouseup":case"dragend":Pa=!1,Uu(Le,c,Ne);break;case"selectionchange":if(Br)break;case"keydown":case"keyup":Uu(Le,c,Ne)}var et;if(an)e:{switch(n){case"compositionstart":var rt="onCompositionStart";break e;case"compositionend":rt="onCompositionEnd";break e;case"compositionupdate":rt="onCompositionUpdate";break e}rt=void 0}else Sa?_d(n,c)&&(rt="onCompositionEnd"):n==="keydown"&&c.keyCode===229&&(rt="onCompositionStart");rt&&(Vs&&c.locale!=="ko"&&(Sa||rt!=="onCompositionStart"?rt==="onCompositionEnd"&&Sa&&(et=Ea()):($t=Ne,Ls="value"in $t?$t.value:$t.textContent,Sa=!0)),Ze=tc(we,rt),0<Ze.length&&(rt=new Mu(rt,n,null,c,Ne),Le.push({event:rt,listeners:Ze}),et?rt.data=et:(et=Ed(c),et!==null&&(rt.data=et)))),(et=gr?ba(n,c):Ng(n,c))&&(we=tc(we,"onBeforeInput"),0<we.length&&(Ne=new Mu("onBeforeInput","beforeinput",null,c,Ne),Le.push({event:Ne,listeners:we}),Ne.data=et))}Rd(Le,s)})}function Oa(n,s,c){return{instance:n,listener:s,currentTarget:c}}function tc(n,s){for(var c=s+"Capture",d=[];n!==null;){var T=n,N=T.stateNode;T.tag===5&&N!==null&&(T=N,N=fn(n,c),N!=null&&d.unshift(Oa(n,N,T)),N=fn(n,s),N!=null&&d.push(Oa(n,N,T))),n=n.return}return d}function Ca(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function _n(n,s,c,d,T){for(var N=s._reactName,H=[];c!==null&&c!==d;){var te=c,oe=te.alternate,we=te.stateNode;if(oe!==null&&oe===d)break;te.tag===5&&we!==null&&(te=we,T?(oe=fn(c,N),oe!=null&&H.unshift(Oa(c,oe,te))):T||(oe=fn(c,N),oe!=null&&H.push(Oa(c,oe,te)))),c=c.return}H.length!==0&&n.push({event:s,listeners:H})}var Qn=/\r\n?/g,Fg=/\u0000|\uFFFD/g;function Pd(n){return(typeof n=="string"?n:""+n).replace(Qn,`
`).replace(Fg,"")}function zu(n,s,c){if(s=Pd(s),Pd(n)!==s&&c)throw Error(t(425))}function nc(){}var $u=null,Lo=null;function Hu(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var qs=typeof setTimeout=="function"?setTimeout:void 0,Wu=typeof clearTimeout=="function"?clearTimeout:void 0,Na=typeof Promise=="function"?Promise:void 0,rc=typeof queueMicrotask=="function"?queueMicrotask:typeof Na<"u"?function(n){return Na.resolve(null).then(n).catch(xa)}:qs;function xa(n){setTimeout(function(){throw n})}function Mf(n,s){var c=s,d=0;do{var T=c.nextSibling;if(n.removeChild(c),T&&T.nodeType===8)if(c=T.data,c==="/$"){if(d===0){n.removeChild(T),It(s);return}d--}else c!=="$"&&c!=="$?"&&c!=="$!"||d++;c=T}while(c);It(s)}function Bs(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return n}function kd(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var c=n.data;if(c==="$"||c==="$!"||c==="$?"){if(s===0)return n;s--}else c==="/$"&&s++}n=n.previousSibling}return null}var La=Math.random().toString(36).slice(2),Mi="__reactFiber$"+La,js="__reactProps$"+La,Cr="__reactContainer$"+La,ic="__reactEvents$"+La,K="__reactListeners$"+La,Da="__reactHandles$"+La;function Vi(n){var s=n[Mi];if(s)return s;for(var c=n.parentNode;c;){if(s=c[Cr]||c[Mi]){if(c=s.alternate,s.child!==null||c!==null&&c.child!==null)for(n=kd(n);n!==null;){if(c=n[Mi])return c;n=kd(n)}return s}n=c,c=n.parentNode}return null}function Yn(n){return n=n[Mi]||n[Cr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function gt(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function sc(n){return n[js]||null}var Vf=[],Ma=-1;function mr(n){return{current:n}}function Zt(n){0>Ma||(n.current=Vf[Ma],Vf[Ma]=null,Ma--)}function Xt(n,s){Ma++,Vf[Ma]=n.current,n.current=s}var zs={},Xn=mr(zs),yr=mr(!1),sr=zs;function Va(n,s){var c=n.type.contextTypes;if(!c)return zs;var d=n.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===s)return d.__reactInternalMemoizedMaskedChildContext;var T={},N;for(N in c)T[N]=s[N];return d&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=T),T}function vr(n){return n=n.childContextTypes,n!=null}function oc(){Zt(yr),Zt(Xn)}function Od(n,s,c){if(Xn.current!==zs)throw Error(t(168));Xt(Xn,s),Xt(yr,c)}function Cd(n,s,c){var d=n.stateNode;if(s=s.childContextTypes,typeof d.getChildContext!="function")return c;d=d.getChildContext();for(var T in d)if(!(T in s))throw Error(t(108,ie(n)||"Unknown",T));return X({},c,d)}function jr(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||zs,sr=Xn.current,Xt(Xn,n),Xt(yr,yr.current),!0}function Nd(n,s,c){var d=n.stateNode;if(!d)throw Error(t(169));c?(n=Cd(n,s,sr),d.__reactInternalMemoizedMergedChildContext=n,Zt(yr),Zt(Xn),Xt(Xn,n)):Zt(yr),Xt(yr,c)}var fs=null,ac=!1,Uf=!1;function xd(n){fs===null?fs=[n]:fs.push(n)}function Do(n){ac=!0,xd(n)}function $s(){if(!Uf&&fs!==null){Uf=!0;var n=0,s=Tt;try{var c=fs;for(Tt=1;n<c.length;n++){var d=c[n];do d=d(!0);while(d!==null)}fs=null,ac=!1}catch(T){throw fs!==null&&(fs=fs.slice(n+1)),ga(Eo,$s),T}finally{Tt=s,Uf=!1}}return null}var Ua=[],Jn=0,uc=null,lc=0,zr=[],$r=0,Mo=null,Ui=1,Fi="";function Vo(n,s){Ua[Jn++]=lc,Ua[Jn++]=uc,uc=n,lc=s}function Ld(n,s,c){zr[$r++]=Ui,zr[$r++]=Fi,zr[$r++]=Mo,Mo=n;var d=Ui;n=Fi;var T=32-ir(d)-1;d&=~(1<<T),c+=1;var N=32-ir(s)+T;if(30<N){var H=T-T%5;N=(d&(1<<H)-1).toString(32),d>>=H,T-=H,Ui=1<<32-ir(s)+T|c<<T|d,Fi=N+n}else Ui=1<<N|c<<T|d,Fi=n}function Ku(n){n.return!==null&&(Vo(n,1),Ld(n,1,0))}function Uo(n){for(;n===uc;)uc=Ua[--Jn],Ua[Jn]=null,lc=Ua[--Jn],Ua[Jn]=null;for(;n===Mo;)Mo=zr[--$r],zr[$r]=null,Fi=zr[--$r],zr[$r]=null,Ui=zr[--$r],zr[$r]=null}var Zn=null,Nr=null,en=!1,yi=null;function qi(n,s){var c=Xr(5,null,null,0);c.elementType="DELETED",c.stateNode=s,c.return=n,s=n.deletions,s===null?(n.deletions=[c],n.flags|=16):s.push(c)}function cc(n,s){switch(n.tag){case 5:var c=n.type;return s=s.nodeType!==1||c.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(n.stateNode=s,Zn=n,Nr=Bs(s.firstChild),!0):!1;case 6:return s=n.pendingProps===""||s.nodeType!==3?null:s,s!==null?(n.stateNode=s,Zn=n,Nr=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(c=Mo!==null?{id:Ui,overflow:Fi}:null,n.memoizedState={dehydrated:s,treeContext:c,retryLane:1073741824},c=Xr(18,null,null,0),c.stateNode=s,c.return=n,n.child=c,Zn=n,Nr=null,!0):!1;default:return!1}}function hs(n){return(n.mode&1)!==0&&(n.flags&128)===0}function _r(n){if(en){var s=Nr;if(s){var c=s;if(!cc(n,s)){if(hs(n))throw Error(t(418));s=Bs(c.nextSibling);var d=Zn;s&&cc(n,s)?qi(d,c):(n.flags=n.flags&-4097|2,en=!1,Zn=n)}}else{if(hs(n))throw Error(t(418));n.flags=n.flags&-4097|2,en=!1,Zn=n}}}function Dd(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Zn=n}function Gu(n){if(n!==Zn)return!1;if(!en)return Dd(n),en=!0,!1;var s;if((s=n.tag!==3)&&!(s=n.tag!==5)&&(s=n.type,s=s!=="head"&&s!=="body"&&!Hu(n.type,n.memoizedProps)),s&&(s=Nr)){if(hs(n))throw Ff(),Error(t(418));for(;s;)qi(n,s),s=Bs(s.nextSibling)}if(Dd(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8){var c=n.data;if(c==="/$"){if(s===0){Nr=Bs(n.nextSibling);break e}s--}else c!=="$"&&c!=="$!"&&c!=="$?"||s++}n=n.nextSibling}Nr=null}}else Nr=Zn?Bs(n.stateNode.nextSibling):null;return!0}function Ff(){for(var n=Nr;n;)n=Bs(n.nextSibling)}function Bi(){Nr=Zn=null,en=!1}function ji(n){yi===null?yi=[n]:yi.push(n)}var Md=I.ReactCurrentBatchConfig;function Qu(n,s,c){if(n=c.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var d=c.stateNode}if(!d)throw Error(t(147,n));var T=d,N=""+n;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===N?s.ref:(s=function(H){var te=T.refs;H===null?delete te[N]:te[N]=H},s._stringRef=N,s)}if(typeof n!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,n))}return n}function Fo(n,s){throw n=Object.prototype.toString.call(s),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n))}function Vd(n){var s=n._init;return s(n._payload)}function qf(n){function s(ve,le){if(n){var _e=ve.deletions;_e===null?(ve.deletions=[le],ve.flags|=16):_e.push(le)}}function c(ve,le){if(!n)return null;for(;le!==null;)s(ve,le),le=le.sibling;return null}function d(ve,le){for(ve=new Map;le!==null;)le.key!==null?ve.set(le.key,le):ve.set(le.index,le),le=le.sibling;return ve}function T(ve,le){return ve=Ai(ve,le),ve.index=0,ve.sibling=null,ve}function N(ve,le,_e){return ve.index=_e,n?(_e=ve.alternate,_e!==null?(_e=_e.index,_e<le?(ve.flags|=2,le):_e):(ve.flags|=2,le)):(ve.flags|=1048576,le)}function H(ve){return n&&ve.alternate===null&&(ve.flags|=2),ve}function te(ve,le,_e,Me){return le===null||le.tag!==6?(le=bh(_e,ve.mode,Me),le.return=ve,le):(le=T(le,_e),le.return=ve,le)}function oe(ve,le,_e,Me){var Ge=_e.type;return Ge===L?Ne(ve,le,_e.props.children,Me,_e.key):le!==null&&(le.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===fe&&Vd(Ge)===le.type)?(Me=T(le,_e.props),Me.ref=Qu(ve,le,_e),Me.return=ve,Me):(Me=Hc(_e.type,_e.key,_e.props,null,ve.mode,Me),Me.ref=Qu(ve,le,_e),Me.return=ve,Me)}function we(ve,le,_e,Me){return le===null||le.tag!==4||le.stateNode.containerInfo!==_e.containerInfo||le.stateNode.implementation!==_e.implementation?(le=Rh(_e,ve.mode,Me),le.return=ve,le):(le=T(le,_e.children||[]),le.return=ve,le)}function Ne(ve,le,_e,Me,Ge){return le===null||le.tag!==7?(le=Yo(_e,ve.mode,Me,Ge),le.return=ve,le):(le=T(le,_e),le.return=ve,le)}function Le(ve,le,_e){if(typeof le=="string"&&le!==""||typeof le=="number")return le=bh(""+le,ve.mode,_e),le.return=ve,le;if(typeof le=="object"&&le!==null){switch(le.$$typeof){case q:return _e=Hc(le.type,le.key,le.props,null,ve.mode,_e),_e.ref=Qu(ve,null,le),_e.return=ve,_e;case $:return le=Rh(le,ve.mode,_e),le.return=ve,le;case fe:var Me=le._init;return Le(ve,Me(le._payload),_e)}if(Ve(le)||re(le))return le=Yo(le,ve.mode,_e,null),le.return=ve,le;Fo(ve,le)}return null}function Ce(ve,le,_e,Me){var Ge=le!==null?le.key:null;if(typeof _e=="string"&&_e!==""||typeof _e=="number")return Ge!==null?null:te(ve,le,""+_e,Me);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case q:return _e.key===Ge?oe(ve,le,_e,Me):null;case $:return _e.key===Ge?we(ve,le,_e,Me):null;case fe:return Ge=_e._init,Ce(ve,le,Ge(_e._payload),Me)}if(Ve(_e)||re(_e))return Ge!==null?null:Ne(ve,le,_e,Me,null);Fo(ve,_e)}return null}function ze(ve,le,_e,Me,Ge){if(typeof Me=="string"&&Me!==""||typeof Me=="number")return ve=ve.get(_e)||null,te(le,ve,""+Me,Ge);if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case q:return ve=ve.get(Me.key===null?_e:Me.key)||null,oe(le,ve,Me,Ge);case $:return ve=ve.get(Me.key===null?_e:Me.key)||null,we(le,ve,Me,Ge);case fe:var Ze=Me._init;return ze(ve,le,_e,Ze(Me._payload),Ge)}if(Ve(Me)||re(Me))return ve=ve.get(_e)||null,Ne(le,ve,Me,Ge,null);Fo(le,Me)}return null}function We(ve,le,_e,Me){for(var Ge=null,Ze=null,et=le,rt=le=0,Rn=null;et!==null&&rt<_e.length;rt++){et.index>rt?(Rn=et,et=null):Rn=et.sibling;var Ut=Ce(ve,et,_e[rt],Me);if(Ut===null){et===null&&(et=Rn);break}n&&et&&Ut.alternate===null&&s(ve,et),le=N(Ut,le,rt),Ze===null?Ge=Ut:Ze.sibling=Ut,Ze=Ut,et=Rn}if(rt===_e.length)return c(ve,et),en&&Vo(ve,rt),Ge;if(et===null){for(;rt<_e.length;rt++)et=Le(ve,_e[rt],Me),et!==null&&(le=N(et,le,rt),Ze===null?Ge=et:Ze.sibling=et,Ze=et);return en&&Vo(ve,rt),Ge}for(et=d(ve,et);rt<_e.length;rt++)Rn=ze(et,ve,rt,_e[rt],Me),Rn!==null&&(n&&Rn.alternate!==null&&et.delete(Rn.key===null?rt:Rn.key),le=N(Rn,le,rt),Ze===null?Ge=Rn:Ze.sibling=Rn,Ze=Rn);return n&&et.forEach(function(no){return s(ve,no)}),en&&Vo(ve,rt),Ge}function Ke(ve,le,_e,Me){var Ge=re(_e);if(typeof Ge!="function")throw Error(t(150));if(_e=Ge.call(_e),_e==null)throw Error(t(151));for(var Ze=Ge=null,et=le,rt=le=0,Rn=null,Ut=_e.next();et!==null&&!Ut.done;rt++,Ut=_e.next()){et.index>rt?(Rn=et,et=null):Rn=et.sibling;var no=Ce(ve,et,Ut.value,Me);if(no===null){et===null&&(et=Rn);break}n&&et&&no.alternate===null&&s(ve,et),le=N(no,le,rt),Ze===null?Ge=no:Ze.sibling=no,Ze=no,et=Rn}if(Ut.done)return c(ve,et),en&&Vo(ve,rt),Ge;if(et===null){for(;!Ut.done;rt++,Ut=_e.next())Ut=Le(ve,Ut.value,Me),Ut!==null&&(le=N(Ut,le,rt),Ze===null?Ge=Ut:Ze.sibling=Ut,Ze=Ut);return en&&Vo(ve,rt),Ge}for(et=d(ve,et);!Ut.done;rt++,Ut=_e.next())Ut=ze(et,ve,rt,Ut.value,Me),Ut!==null&&(n&&Ut.alternate!==null&&et.delete(Ut.key===null?rt:Ut.key),le=N(Ut,le,rt),Ze===null?Ge=Ut:Ze.sibling=Ut,Ze=Ut);return n&&et.forEach(function(im){return s(ve,im)}),en&&Vo(ve,rt),Ge}function ln(ve,le,_e,Me){if(typeof _e=="object"&&_e!==null&&_e.type===L&&_e.key===null&&(_e=_e.props.children),typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case q:e:{for(var Ge=_e.key,Ze=le;Ze!==null;){if(Ze.key===Ge){if(Ge=_e.type,Ge===L){if(Ze.tag===7){c(ve,Ze.sibling),le=T(Ze,_e.props.children),le.return=ve,ve=le;break e}}else if(Ze.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===fe&&Vd(Ge)===Ze.type){c(ve,Ze.sibling),le=T(Ze,_e.props),le.ref=Qu(ve,Ze,_e),le.return=ve,ve=le;break e}c(ve,Ze);break}else s(ve,Ze);Ze=Ze.sibling}_e.type===L?(le=Yo(_e.props.children,ve.mode,Me,_e.key),le.return=ve,ve=le):(Me=Hc(_e.type,_e.key,_e.props,null,ve.mode,Me),Me.ref=Qu(ve,le,_e),Me.return=ve,ve=Me)}return H(ve);case $:e:{for(Ze=_e.key;le!==null;){if(le.key===Ze)if(le.tag===4&&le.stateNode.containerInfo===_e.containerInfo&&le.stateNode.implementation===_e.implementation){c(ve,le.sibling),le=T(le,_e.children||[]),le.return=ve,ve=le;break e}else{c(ve,le);break}else s(ve,le);le=le.sibling}le=Rh(_e,ve.mode,Me),le.return=ve,ve=le}return H(ve);case fe:return Ze=_e._init,ln(ve,le,Ze(_e._payload),Me)}if(Ve(_e))return We(ve,le,_e,Me);if(re(_e))return Ke(ve,le,_e,Me);Fo(ve,_e)}return typeof _e=="string"&&_e!==""||typeof _e=="number"?(_e=""+_e,le!==null&&le.tag===6?(c(ve,le.sibling),le=T(le,_e),le.return=ve,ve=le):(c(ve,le),le=bh(_e,ve.mode,Me),le.return=ve,ve=le),H(ve)):c(ve,le)}return ln}var un=qf(!0),fc=qf(!1),Yu=mr(null),xr=null,Hs=null,Fa=null;function ds(){Fa=Hs=xr=null}function hc(n){var s=Yu.current;Zt(Yu),n._currentValue=s}function Un(n,s,c){for(;n!==null;){var d=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),n===c)break;n=n.return}}function Ws(n,s){xr=n,Fa=Hs=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&s&&(ar=!0),n.firstContext=null)}function Hr(n){var s=n._currentValue;if(Fa!==n)if(n={context:n,memoizedValue:s,next:null},Hs===null){if(xr===null)throw Error(t(308));Hs=n,xr.dependencies={lanes:0,firstContext:n}}else Hs=Hs.next=n;return s}var qo=null;function Bf(n){qo===null?qo=[n]:qo.push(n)}function dc(n,s,c,d){var T=s.interleaved;return T===null?(c.next=c,Bf(s)):(c.next=T.next,T.next=c),s.interleaved=c,ps(n,d)}function ps(n,s){n.lanes|=s;var c=n.alternate;for(c!==null&&(c.lanes|=s),c=n,n=n.return;n!==null;)n.childLanes|=s,c=n.alternate,c!==null&&(c.childLanes|=s),c=n,n=n.return;return c.tag===3?c.stateNode:null}var Wr=!1;function pc(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ud(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function gs(n,s){return{eventTime:n,lane:s,tag:0,payload:null,callback:null,next:null}}function Kr(n,s,c){var d=n.updateQueue;if(d===null)return null;if(d=d.shared,Nt&2){var T=d.pending;return T===null?s.next=s:(s.next=T.next,T.next=s),d.pending=s,ps(n,c)}return T=d.interleaved,T===null?(s.next=s,Bf(d)):(s.next=T.next,T.next=s),d.interleaved=s,ps(n,c)}function gc(n,s,c){if(s=s.updateQueue,s!==null&&(s=s.shared,(c&4194240)!==0)){var d=s.lanes;d&=n.pendingLanes,c|=d,s.lanes=c,Ni(n,c)}}function Fd(n,s){var c=n.updateQueue,d=n.alternate;if(d!==null&&(d=d.updateQueue,c===d)){var T=null,N=null;if(c=c.firstBaseUpdate,c!==null){do{var H={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};N===null?T=N=H:N=N.next=H,c=c.next}while(c!==null);N===null?T=N=s:N=N.next=s}else T=N=s;c={baseState:d.baseState,firstBaseUpdate:T,lastBaseUpdate:N,shared:d.shared,effects:d.effects},n.updateQueue=c;return}n=c.lastBaseUpdate,n===null?c.firstBaseUpdate=s:n.next=s,c.lastBaseUpdate=s}function qa(n,s,c,d){var T=n.updateQueue;Wr=!1;var N=T.firstBaseUpdate,H=T.lastBaseUpdate,te=T.shared.pending;if(te!==null){T.shared.pending=null;var oe=te,we=oe.next;oe.next=null,H===null?N=we:H.next=we,H=oe;var Ne=n.alternate;Ne!==null&&(Ne=Ne.updateQueue,te=Ne.lastBaseUpdate,te!==H&&(te===null?Ne.firstBaseUpdate=we:te.next=we,Ne.lastBaseUpdate=oe))}if(N!==null){var Le=T.baseState;H=0,Ne=we=oe=null,te=N;do{var Ce=te.lane,ze=te.eventTime;if((d&Ce)===Ce){Ne!==null&&(Ne=Ne.next={eventTime:ze,lane:0,tag:te.tag,payload:te.payload,callback:te.callback,next:null});e:{var We=n,Ke=te;switch(Ce=s,ze=c,Ke.tag){case 1:if(We=Ke.payload,typeof We=="function"){Le=We.call(ze,Le,Ce);break e}Le=We;break e;case 3:We.flags=We.flags&-65537|128;case 0:if(We=Ke.payload,Ce=typeof We=="function"?We.call(ze,Le,Ce):We,Ce==null)break e;Le=X({},Le,Ce);break e;case 2:Wr=!0}}te.callback!==null&&te.lane!==0&&(n.flags|=64,Ce=T.effects,Ce===null?T.effects=[te]:Ce.push(te))}else ze={eventTime:ze,lane:Ce,tag:te.tag,payload:te.payload,callback:te.callback,next:null},Ne===null?(we=Ne=ze,oe=Le):Ne=Ne.next=ze,H|=Ce;if(te=te.next,te===null){if(te=T.shared.pending,te===null)break;Ce=te,te=Ce.next,Ce.next=null,T.lastBaseUpdate=Ce,T.shared.pending=null}}while(!0);if(Ne===null&&(oe=Le),T.baseState=oe,T.firstBaseUpdate=we,T.lastBaseUpdate=Ne,s=T.shared.interleaved,s!==null){T=s;do H|=T.lane,T=T.next;while(T!==s)}else N===null&&(T.shared.lanes=0);Xs|=H,n.lanes=H,n.memoizedState=Le}}function jf(n,s,c){if(n=s.effects,s.effects=null,n!==null)for(s=0;s<n.length;s++){var d=n[s],T=d.callback;if(T!==null){if(d.callback=null,d=c,typeof T!="function")throw Error(t(191,T));T.call(d)}}}var Xu={},zi=mr(Xu),Ju=mr(Xu),Ba=mr(Xu);function ms(n){if(n===Xu)throw Error(t(174));return n}function zf(n,s){switch(Xt(Ba,s),Xt(Ju,n),Xt(zi,Xu),n=s.nodeType,n){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Ct(null,"");break;default:n=n===8?s.parentNode:s,s=n.namespaceURI||null,n=n.tagName,s=Ct(s,n)}Zt(zi),Xt(zi,s)}function Ks(){Zt(zi),Zt(Ju),Zt(Ba)}function $f(n){ms(Ba.current);var s=ms(zi.current),c=Ct(s,n.type);s!==c&&(Xt(Ju,n),Xt(zi,c))}function mc(n){Ju.current===n&&(Zt(zi),Zt(Ju))}var nn=mr(0);function Bo(n){for(var s=n;s!==null;){if(s.tag===13){var c=s.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Hf=[];function yc(){for(var n=0;n<Hf.length;n++)Hf[n]._workInProgressVersionPrimary=null;Hf.length=0}var Zu=I.ReactCurrentDispatcher,Wf=I.ReactCurrentBatchConfig,Gs=0,sn=null,dn=null,Sn=null,ja=!1,el=!1,jo=0,vt=0;function er(){throw Error(t(321))}function Kf(n,s){if(s===null)return!1;for(var c=0;c<s.length&&c<n.length;c++)if(!Ee(n[c],s[c]))return!1;return!0}function zo(n,s,c,d,T,N){if(Gs=N,sn=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Zu.current=n===null||n.memoizedState===null?Bg:Ac,n=c(d,T),el){N=0;do{if(el=!1,jo=0,25<=N)throw Error(t(301));N+=1,Sn=dn=null,s.updateQueue=null,Zu.current=Wa,n=c(d,T)}while(el)}if(Zu.current=Ic,s=dn!==null&&dn.next!==null,Gs=0,Sn=dn=sn=null,ja=!1,s)throw Error(t(300));return n}function vc(){var n=jo!==0;return jo=0,n}function $i(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Sn===null?sn.memoizedState=Sn=n:Sn=Sn.next=n,Sn}function Gr(){if(dn===null){var n=sn.alternate;n=n!==null?n.memoizedState:null}else n=dn.next;var s=Sn===null?sn.memoizedState:Sn.next;if(s!==null)Sn=s,dn=n;else{if(n===null)throw Error(t(310));dn=n,n={memoizedState:dn.memoizedState,baseState:dn.baseState,baseQueue:dn.baseQueue,queue:dn.queue,next:null},Sn===null?sn.memoizedState=Sn=n:Sn=Sn.next=n}return Sn}function tr(n,s){return typeof s=="function"?s(n):s}function Gf(n){var s=Gr(),c=s.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=n;var d=dn,T=d.baseQueue,N=c.pending;if(N!==null){if(T!==null){var H=T.next;T.next=N.next,N.next=H}d.baseQueue=T=N,c.pending=null}if(T!==null){N=T.next,d=d.baseState;var te=H=null,oe=null,we=N;do{var Ne=we.lane;if((Gs&Ne)===Ne)oe!==null&&(oe=oe.next={lane:0,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null}),d=we.hasEagerState?we.eagerState:n(d,we.action);else{var Le={lane:Ne,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null};oe===null?(te=oe=Le,H=d):oe=oe.next=Le,sn.lanes|=Ne,Xs|=Ne}we=we.next}while(we!==null&&we!==N);oe===null?H=d:oe.next=te,Ee(d,s.memoizedState)||(ar=!0),s.memoizedState=d,s.baseState=H,s.baseQueue=oe,c.lastRenderedState=d}if(n=c.interleaved,n!==null){T=n;do N=T.lane,sn.lanes|=N,Xs|=N,T=T.next;while(T!==n)}else T===null&&(c.lanes=0);return[s.memoizedState,c.dispatch]}function za(n){var s=Gr(),c=s.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=n;var d=c.dispatch,T=c.pending,N=s.memoizedState;if(T!==null){c.pending=null;var H=T=T.next;do N=n(N,H.action),H=H.next;while(H!==T);Ee(N,s.memoizedState)||(ar=!0),s.memoizedState=N,s.baseQueue===null&&(s.baseState=N),c.lastRenderedState=N}return[N,d]}function _c(){}function Qf(n,s){var c=sn,d=Gr(),T=s(),N=!Ee(d.memoizedState,T);if(N&&(d.memoizedState=T,ar=!0),d=d.queue,Hi(ys.bind(null,c,d,n),[n]),d.getSnapshot!==s||N||Sn!==null&&Sn.memoizedState.tag&1){if(c.flags|=2048,$a(9,Er.bind(null,c,d,T,s),void 0,null),Dn===null)throw Error(t(349));Gs&30||Yf(c,s,T)}return T}function Yf(n,s,c){n.flags|=16384,n={getSnapshot:s,value:c},s=sn.updateQueue,s===null?(s={lastEffect:null,stores:null},sn.updateQueue=s,s.stores=[n]):(c=s.stores,c===null?s.stores=[n]:c.push(n))}function Er(n,s,c,d){s.value=c,s.getSnapshot=d,Ec(s)&&Xf(n)}function ys(n,s,c){return c(function(){Ec(s)&&Xf(n)})}function Ec(n){var s=n.getSnapshot;n=n.value;try{var c=s();return!Ee(n,c)}catch{return!0}}function Xf(n){var s=ps(n,1);s!==null&&Ii(s,n,1,-1)}function tl(n){var s=$i();return typeof n=="function"&&(n=n()),s.memoizedState=s.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tr,lastRenderedState:n},s.queue=n,n=n.dispatch=Hd.bind(null,sn,n),[s.memoizedState,n]}function $a(n,s,c,d){return n={tag:n,create:s,destroy:c,deps:d,next:null},s=sn.updateQueue,s===null?(s={lastEffect:null,stores:null},sn.updateQueue=s,s.lastEffect=n.next=n):(c=s.lastEffect,c===null?s.lastEffect=n.next=n:(d=c.next,c.next=n,n.next=d,s.lastEffect=n)),n}function wc(){return Gr().memoizedState}function nl(n,s,c,d){var T=$i();sn.flags|=n,T.memoizedState=$a(1|s,c,void 0,d===void 0?null:d)}function Ha(n,s,c,d){var T=Gr();d=d===void 0?null:d;var N=void 0;if(dn!==null){var H=dn.memoizedState;if(N=H.destroy,d!==null&&Kf(d,H.deps)){T.memoizedState=$a(s,c,N,d);return}}sn.flags|=n,T.memoizedState=$a(1|s,c,N,d)}function Tc(n,s){return nl(8390656,8,n,s)}function Hi(n,s){return Ha(2048,8,n,s)}function qd(n,s){return Ha(4,2,n,s)}function vs(n,s){return Ha(4,4,n,s)}function Jf(n,s){if(typeof s=="function")return n=n(),s(n),function(){s(null)};if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function Zf(n,s,c){return c=c!=null?c.concat([n]):null,Ha(4,4,Jf.bind(null,s,n),c)}function rl(){}function Bd(n,s){var c=Gr();s=s===void 0?null:s;var d=c.memoizedState;return d!==null&&s!==null&&Kf(s,d[1])?d[0]:(c.memoizedState=[n,s],n)}function jd(n,s){var c=Gr();s=s===void 0?null:s;var d=c.memoizedState;return d!==null&&s!==null&&Kf(s,d[1])?d[0]:(n=n(),c.memoizedState=[n,s],n)}function zd(n,s,c){return Gs&21?(Ee(c,s)||(c=Cs(),sn.lanes|=c,Xs|=c,n.baseState=!0),s):(n.baseState&&(n.baseState=!1,ar=!0),n.memoizedState=c)}function $d(n,s){var c=Tt;Tt=c!==0&&4>c?c:4,n(!0);var d=Wf.transition;Wf.transition={};try{n(!1),s()}finally{Tt=c,Wf.transition=d}}function eh(){return Gr().memoizedState}function qg(n,s,c){var d=eo(n);if(c={lane:d,action:c,hasEagerState:!1,eagerState:null,next:null},th(n))or(s,c);else if(c=dc(n,s,c,d),c!==null){var T=cr();Ii(c,n,d,T),vi(c,s,d)}}function Hd(n,s,c){var d=eo(n),T={lane:d,action:c,hasEagerState:!1,eagerState:null,next:null};if(th(n))or(s,T);else{var N=n.alternate;if(n.lanes===0&&(N===null||N.lanes===0)&&(N=s.lastRenderedReducer,N!==null))try{var H=s.lastRenderedState,te=N(H,c);if(T.hasEagerState=!0,T.eagerState=te,Ee(te,H)){var oe=s.interleaved;oe===null?(T.next=T,Bf(s)):(T.next=oe.next,oe.next=T),s.interleaved=T;return}}catch{}finally{}c=dc(n,s,T,d),c!==null&&(T=cr(),Ii(c,n,d,T),vi(c,s,d))}}function th(n){var s=n.alternate;return n===sn||s!==null&&s===sn}function or(n,s){el=ja=!0;var c=n.pending;c===null?s.next=s:(s.next=c.next,c.next=s),n.pending=s}function vi(n,s,c){if(c&4194240){var d=s.lanes;d&=n.pendingLanes,c|=d,s.lanes=c,Ni(n,c)}}var Ic={readContext:Hr,useCallback:er,useContext:er,useEffect:er,useImperativeHandle:er,useInsertionEffect:er,useLayoutEffect:er,useMemo:er,useReducer:er,useRef:er,useState:er,useDebugValue:er,useDeferredValue:er,useTransition:er,useMutableSource:er,useSyncExternalStore:er,useId:er,unstable_isNewReconciler:!1},Bg={readContext:Hr,useCallback:function(n,s){return $i().memoizedState=[n,s===void 0?null:s],n},useContext:Hr,useEffect:Tc,useImperativeHandle:function(n,s,c){return c=c!=null?c.concat([n]):null,nl(4194308,4,Jf.bind(null,s,n),c)},useLayoutEffect:function(n,s){return nl(4194308,4,n,s)},useInsertionEffect:function(n,s){return nl(4,2,n,s)},useMemo:function(n,s){var c=$i();return s=s===void 0?null:s,n=n(),c.memoizedState=[n,s],n},useReducer:function(n,s,c){var d=$i();return s=c!==void 0?c(s):s,d.memoizedState=d.baseState=s,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:s},d.queue=n,n=n.dispatch=qg.bind(null,sn,n),[d.memoizedState,n]},useRef:function(n){var s=$i();return n={current:n},s.memoizedState=n},useState:tl,useDebugValue:rl,useDeferredValue:function(n){return $i().memoizedState=n},useTransition:function(){var n=tl(!1),s=n[0];return n=$d.bind(null,n[1]),$i().memoizedState=n,[s,n]},useMutableSource:function(){},useSyncExternalStore:function(n,s,c){var d=sn,T=$i();if(en){if(c===void 0)throw Error(t(407));c=c()}else{if(c=s(),Dn===null)throw Error(t(349));Gs&30||Yf(d,s,c)}T.memoizedState=c;var N={value:c,getSnapshot:s};return T.queue=N,Tc(ys.bind(null,d,N,n),[n]),d.flags|=2048,$a(9,Er.bind(null,d,N,c,s),void 0,null),c},useId:function(){var n=$i(),s=Dn.identifierPrefix;if(en){var c=Fi,d=Ui;c=(d&~(1<<32-ir(d)-1)).toString(32)+c,s=":"+s+"R"+c,c=jo++,0<c&&(s+="H"+c.toString(32)),s+=":"}else c=vt++,s=":"+s+"r"+c.toString(32)+":";return n.memoizedState=s},unstable_isNewReconciler:!1},Ac={readContext:Hr,useCallback:Bd,useContext:Hr,useEffect:Hi,useImperativeHandle:Zf,useInsertionEffect:qd,useLayoutEffect:vs,useMemo:jd,useReducer:Gf,useRef:wc,useState:function(){return Gf(tr)},useDebugValue:rl,useDeferredValue:function(n){var s=Gr();return zd(s,dn.memoizedState,n)},useTransition:function(){var n=Gf(tr)[0],s=Gr().memoizedState;return[n,s]},useMutableSource:_c,useSyncExternalStore:Qf,useId:eh,unstable_isNewReconciler:!1},Wa={readContext:Hr,useCallback:Bd,useContext:Hr,useEffect:Hi,useImperativeHandle:Zf,useInsertionEffect:qd,useLayoutEffect:vs,useMemo:jd,useReducer:za,useRef:wc,useState:function(){return za(tr)},useDebugValue:rl,useDeferredValue:function(n){var s=Gr();return dn===null?s.memoizedState=n:zd(s,dn.memoizedState,n)},useTransition:function(){var n=za(tr)[0],s=Gr().memoizedState;return[n,s]},useMutableSource:_c,useSyncExternalStore:Qf,useId:eh,unstable_isNewReconciler:!1};function Qr(n,s){if(n&&n.defaultProps){s=X({},s),n=n.defaultProps;for(var c in n)s[c]===void 0&&(s[c]=n[c]);return s}return s}function Sc(n,s,c,d){s=n.memoizedState,c=c(d,s),c=c==null?s:X({},s,c),n.memoizedState=c,n.lanes===0&&(n.updateQueue.baseState=c)}var bc={isMounted:function(n){return(n=n._reactInternals)?ui(n)===n:!1},enqueueSetState:function(n,s,c){n=n._reactInternals;var d=cr(),T=eo(n),N=gs(d,T);N.payload=s,c!=null&&(N.callback=c),s=Kr(n,N,T),s!==null&&(Ii(s,n,T,d),gc(s,n,T))},enqueueReplaceState:function(n,s,c){n=n._reactInternals;var d=cr(),T=eo(n),N=gs(d,T);N.tag=1,N.payload=s,c!=null&&(N.callback=c),s=Kr(n,N,T),s!==null&&(Ii(s,n,T,d),gc(s,n,T))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var c=cr(),d=eo(n),T=gs(c,d);T.tag=2,s!=null&&(T.callback=s),s=Kr(n,T,d),s!==null&&(Ii(s,n,d,c),gc(s,n,d))}};function nh(n,s,c,d,T,N,H){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(d,N,H):s.prototype&&s.prototype.isPureReactComponent?!je(c,d)||!je(T,N):!0}function $o(n,s,c){var d=!1,T=zs,N=s.contextType;return typeof N=="object"&&N!==null?N=Hr(N):(T=vr(s)?sr:Xn.current,d=s.contextTypes,N=(d=d!=null)?Va(n,T):zs),s=new s(c,N),n.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=bc,n.stateNode=s,s._reactInternals=n,d&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=T,n.__reactInternalMemoizedMaskedChildContext=N),s}function Ka(n,s,c,d){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(c,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(c,d),s.state!==n&&bc.enqueueReplaceState(s,s.state,null)}function rh(n,s,c,d){var T=n.stateNode;T.props=c,T.state=n.memoizedState,T.refs={},pc(n);var N=s.contextType;typeof N=="object"&&N!==null?T.context=Hr(N):(N=vr(s)?sr:Xn.current,T.context=Va(n,N)),T.state=n.memoizedState,N=s.getDerivedStateFromProps,typeof N=="function"&&(Sc(n,s,N,c),T.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(s=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),s!==T.state&&bc.enqueueReplaceState(T,T.state,null),qa(n,c,T,d),T.state=n.memoizedState),typeof T.componentDidMount=="function"&&(n.flags|=4194308)}function Ho(n,s){try{var c="",d=s;do c+=se(d),d=d.return;while(d);var T=c}catch(N){T=`
Error generating stack: `+N.message+`
`+N.stack}return{value:n,source:s,stack:T,digest:null}}function Rc(n,s,c){return{value:n,source:null,stack:c??null,digest:s??null}}function Ga(n,s){try{console.error(s.value)}catch(c){setTimeout(function(){throw c})}}var Wd=typeof WeakMap=="function"?WeakMap:Map;function il(n,s,c){c=gs(-1,c),c.tag=3,c.payload={element:null};var d=s.value;return c.callback=function(){Uc||(Uc=!0,_h=d),Ga(n,s)},c}function Pc(n,s,c){c=gs(-1,c),c.tag=3;var d=n.type.getDerivedStateFromError;if(typeof d=="function"){var T=s.value;c.payload=function(){return d(T)},c.callback=function(){Ga(n,s)}}var N=n.stateNode;return N!==null&&typeof N.componentDidCatch=="function"&&(c.callback=function(){Ga(n,s),typeof d!="function"&&(Js===null?Js=new Set([this]):Js.add(this));var H=s.stack;this.componentDidCatch(s.value,{componentStack:H!==null?H:""})}),c}function sl(n,s,c){var d=n.pingCache;if(d===null){d=n.pingCache=new Wd;var T=new Set;d.set(s,T)}else T=d.get(s),T===void 0&&(T=new Set,d.set(s,T));T.has(c)||(T.add(c),n=Qg.bind(null,n,s,c),s.then(n,n))}function Kd(n){do{var s;if((s=n.tag===13)&&(s=n.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return n;n=n.return}while(n!==null);return null}function ih(n,s,c,d,T){return n.mode&1?(n.flags|=65536,n.lanes=T,n):(n===s?n.flags|=65536:(n.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(s=gs(-1,1),s.tag=2,Kr(c,s,1))),c.lanes|=1),n)}var kc=I.ReactCurrentOwner,ar=!1;function Fn(n,s,c,d){s.child=n===null?fc(s,null,c,d):un(s,n.child,c,d)}function Gd(n,s,c,d,T){c=c.render;var N=s.ref;return Ws(s,T),d=zo(n,s,c,d,N,T),c=vc(),n!==null&&!ar?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~T,_i(n,s,T)):(en&&c&&Ku(s),s.flags|=1,Fn(n,s,d,T),s.child)}function sh(n,s,c,d,T){if(n===null){var N=c.type;return typeof N=="function"&&!$c(N)&&N.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(s.tag=15,s.type=N,Wi(n,s,N,d,T)):(n=Hc(c.type,null,d,s,s.mode,T),n.ref=s.ref,n.return=s,s.child=n)}if(N=n.child,!(n.lanes&T)){var H=N.memoizedProps;if(c=c.compare,c=c!==null?c:je,c(H,d)&&n.ref===s.ref)return _i(n,s,T)}return s.flags|=1,n=Ai(N,d),n.ref=s.ref,n.return=s,s.child=n}function Wi(n,s,c,d,T){if(n!==null){var N=n.memoizedProps;if(je(N,d)&&n.ref===s.ref)if(ar=!1,s.pendingProps=d=N,(n.lanes&T)!==0)n.flags&131072&&(ar=!0);else return s.lanes=n.lanes,_i(n,s,T)}return uh(n,s,c,d,T)}function oh(n,s,c){var d=s.pendingProps,T=d.children,N=n!==null?n.memoizedState:null;if(d.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xt(Ja,Dr),Dr|=c;else{if(!(c&1073741824))return n=N!==null?N.baseLanes|c:c,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:n,cachePool:null,transitions:null},s.updateQueue=null,Xt(Ja,Dr),Dr|=n,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=N!==null?N.baseLanes:c,Xt(Ja,Dr),Dr|=d}else N!==null?(d=N.baseLanes|c,s.memoizedState=null):d=c,Xt(Ja,Dr),Dr|=d;return Fn(n,s,T,c),s.child}function ah(n,s){var c=s.ref;(n===null&&c!==null||n!==null&&n.ref!==c)&&(s.flags|=512,s.flags|=2097152)}function uh(n,s,c,d,T){var N=vr(c)?sr:Xn.current;return N=Va(s,N),Ws(s,T),c=zo(n,s,c,d,N,T),d=vc(),n!==null&&!ar?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~T,_i(n,s,T)):(en&&d&&Ku(s),s.flags|=1,Fn(n,s,c,T),s.child)}function lh(n,s,c,d,T){if(vr(c)){var N=!0;jr(s)}else N=!1;if(Ws(s,T),s.stateNode===null)Cc(n,s),$o(s,c,d),rh(s,c,d,T),d=!0;else if(n===null){var H=s.stateNode,te=s.memoizedProps;H.props=te;var oe=H.context,we=c.contextType;typeof we=="object"&&we!==null?we=Hr(we):(we=vr(c)?sr:Xn.current,we=Va(s,we));var Ne=c.getDerivedStateFromProps,Le=typeof Ne=="function"||typeof H.getSnapshotBeforeUpdate=="function";Le||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(te!==d||oe!==we)&&Ka(s,H,d,we),Wr=!1;var Ce=s.memoizedState;H.state=Ce,qa(s,d,H,T),oe=s.memoizedState,te!==d||Ce!==oe||yr.current||Wr?(typeof Ne=="function"&&(Sc(s,c,Ne,d),oe=s.memoizedState),(te=Wr||nh(s,c,te,d,Ce,oe,we))?(Le||typeof H.UNSAFE_componentWillMount!="function"&&typeof H.componentWillMount!="function"||(typeof H.componentWillMount=="function"&&H.componentWillMount(),typeof H.UNSAFE_componentWillMount=="function"&&H.UNSAFE_componentWillMount()),typeof H.componentDidMount=="function"&&(s.flags|=4194308)):(typeof H.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=oe),H.props=d,H.state=oe,H.context=we,d=te):(typeof H.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{H=s.stateNode,Ud(n,s),te=s.memoizedProps,we=s.type===s.elementType?te:Qr(s.type,te),H.props=we,Le=s.pendingProps,Ce=H.context,oe=c.contextType,typeof oe=="object"&&oe!==null?oe=Hr(oe):(oe=vr(c)?sr:Xn.current,oe=Va(s,oe));var ze=c.getDerivedStateFromProps;(Ne=typeof ze=="function"||typeof H.getSnapshotBeforeUpdate=="function")||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(te!==Le||Ce!==oe)&&Ka(s,H,d,oe),Wr=!1,Ce=s.memoizedState,H.state=Ce,qa(s,d,H,T);var We=s.memoizedState;te!==Le||Ce!==We||yr.current||Wr?(typeof ze=="function"&&(Sc(s,c,ze,d),We=s.memoizedState),(we=Wr||nh(s,c,we,d,Ce,We,oe)||!1)?(Ne||typeof H.UNSAFE_componentWillUpdate!="function"&&typeof H.componentWillUpdate!="function"||(typeof H.componentWillUpdate=="function"&&H.componentWillUpdate(d,We,oe),typeof H.UNSAFE_componentWillUpdate=="function"&&H.UNSAFE_componentWillUpdate(d,We,oe)),typeof H.componentDidUpdate=="function"&&(s.flags|=4),typeof H.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof H.componentDidUpdate!="function"||te===n.memoizedProps&&Ce===n.memoizedState||(s.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||te===n.memoizedProps&&Ce===n.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=We),H.props=d,H.state=We,H.context=oe,d=we):(typeof H.componentDidUpdate!="function"||te===n.memoizedProps&&Ce===n.memoizedState||(s.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||te===n.memoizedProps&&Ce===n.memoizedState||(s.flags|=1024),d=!1)}return ch(n,s,c,d,N,T)}function ch(n,s,c,d,T,N){ah(n,s);var H=(s.flags&128)!==0;if(!d&&!H)return T&&Nd(s,c,!1),_i(n,s,N);d=s.stateNode,kc.current=s;var te=H&&typeof c.getDerivedStateFromError!="function"?null:d.render();return s.flags|=1,n!==null&&H?(s.child=un(s,n.child,null,N),s.child=un(s,null,te,N)):Fn(n,s,te,N),s.memoizedState=d.state,T&&Nd(s,c,!0),s.child}function Qd(n){var s=n.stateNode;s.pendingContext?Od(n,s.pendingContext,s.pendingContext!==s.context):s.context&&Od(n,s.context,!1),zf(n,s.containerInfo)}function Ki(n,s,c,d,T){return Bi(),ji(T),s.flags|=256,Fn(n,s,c,d),s.child}var ol={dehydrated:null,treeContext:null,retryLane:0};function al(n){return{baseLanes:n,cachePool:null,transitions:null}}function Oc(n,s,c){var d=s.pendingProps,T=nn.current,N=!1,H=(s.flags&128)!==0,te;if((te=H)||(te=n!==null&&n.memoizedState===null?!1:(T&2)!==0),te?(N=!0,s.flags&=-129):(n===null||n.memoizedState!==null)&&(T|=1),Xt(nn,T&1),n===null)return _r(s),n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(s.mode&1?n.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(H=d.children,n=d.fallback,N?(d=s.mode,N=s.child,H={mode:"hidden",children:H},!(d&1)&&N!==null?(N.childLanes=0,N.pendingProps=H):N=Wc(H,d,0,null),n=Yo(n,d,c,null),N.return=s,n.return=s,N.sibling=n,s.child=N,s.child.memoizedState=al(c),s.memoizedState=ol,n):Qa(s,H));if(T=n.memoizedState,T!==null&&(te=T.dehydrated,te!==null))return tt(n,s,H,d,te,T,c);if(N){N=d.fallback,H=s.mode,T=n.child,te=T.sibling;var oe={mode:"hidden",children:d.children};return!(H&1)&&s.child!==T?(d=s.child,d.childLanes=0,d.pendingProps=oe,s.deletions=null):(d=Ai(T,oe),d.subtreeFlags=T.subtreeFlags&14680064),te!==null?N=Ai(te,N):(N=Yo(N,H,c,null),N.flags|=2),N.return=s,d.return=s,d.sibling=N,s.child=d,d=N,N=s.child,H=n.child.memoizedState,H=H===null?al(c):{baseLanes:H.baseLanes|c,cachePool:null,transitions:H.transitions},N.memoizedState=H,N.childLanes=n.childLanes&~c,s.memoizedState=ol,d}return N=n.child,n=N.sibling,d=Ai(N,{mode:"visible",children:d.children}),!(s.mode&1)&&(d.lanes=c),d.return=s,d.sibling=null,n!==null&&(c=s.deletions,c===null?(s.deletions=[n],s.flags|=16):c.push(n)),s.child=d,s.memoizedState=null,d}function Qa(n,s){return s=Wc({mode:"visible",children:s},n.mode,0,null),s.return=n,n.child=s}function _s(n,s,c,d){return d!==null&&ji(d),un(s,n.child,null,c),n=Qa(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function tt(n,s,c,d,T,N,H){if(c)return s.flags&256?(s.flags&=-257,d=Rc(Error(t(422))),_s(n,s,H,d)):s.memoizedState!==null?(s.child=n.child,s.flags|=128,null):(N=d.fallback,T=s.mode,d=Wc({mode:"visible",children:d.children},T,0,null),N=Yo(N,T,H,null),N.flags|=2,d.return=s,N.return=s,d.sibling=N,s.child=d,s.mode&1&&un(s,n.child,null,H),s.child.memoizedState=al(H),s.memoizedState=ol,N);if(!(s.mode&1))return _s(n,s,H,null);if(T.data==="$!"){if(d=T.nextSibling&&T.nextSibling.dataset,d)var te=d.dgst;return d=te,N=Error(t(419)),d=Rc(N,d,void 0),_s(n,s,H,d)}if(te=(H&n.childLanes)!==0,ar||te){if(d=Dn,d!==null){switch(H&-H){case 4:T=2;break;case 16:T=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:T=32;break;case 536870912:T=268435456;break;default:T=0}T=T&(d.suspendedLanes|H)?0:T,T!==0&&T!==N.retryLane&&(N.retryLane=T,ps(n,T),Ii(d,n,T,-1))}return Sh(),d=Rc(Error(t(421))),_s(n,s,H,d)}return T.data==="$?"?(s.flags|=128,s.child=n.child,s=Yg.bind(null,n),T._reactRetry=s,null):(n=N.treeContext,Nr=Bs(T.nextSibling),Zn=s,en=!0,yi=null,n!==null&&(zr[$r++]=Ui,zr[$r++]=Fi,zr[$r++]=Mo,Ui=n.id,Fi=n.overflow,Mo=s),s=Qa(s,d.children),s.flags|=4096,s)}function ul(n,s,c){n.lanes|=s;var d=n.alternate;d!==null&&(d.lanes|=s),Un(n.return,s,c)}function ll(n,s,c,d,T){var N=n.memoizedState;N===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:T}:(N.isBackwards=s,N.rendering=null,N.renderingStartTime=0,N.last=d,N.tail=c,N.tailMode=T)}function Qs(n,s,c){var d=s.pendingProps,T=d.revealOrder,N=d.tail;if(Fn(n,s,d.children,c),d=nn.current,d&2)d=d&1|2,s.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&ul(n,c,s);else if(n.tag===19)ul(n,c,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}d&=1}if(Xt(nn,d),!(s.mode&1))s.memoizedState=null;else switch(T){case"forwards":for(c=s.child,T=null;c!==null;)n=c.alternate,n!==null&&Bo(n)===null&&(T=c),c=c.sibling;c=T,c===null?(T=s.child,s.child=null):(T=c.sibling,c.sibling=null),ll(s,!1,T,c,N);break;case"backwards":for(c=null,T=s.child,s.child=null;T!==null;){if(n=T.alternate,n!==null&&Bo(n)===null){s.child=T;break}n=T.sibling,T.sibling=c,c=T,T=n}ll(s,!0,c,null,N);break;case"together":ll(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Cc(n,s){!(s.mode&1)&&n!==null&&(n.alternate=null,s.alternate=null,s.flags|=2)}function _i(n,s,c){if(n!==null&&(s.dependencies=n.dependencies),Xs|=s.lanes,!(c&s.childLanes))return null;if(n!==null&&s.child!==n.child)throw Error(t(153));if(s.child!==null){for(n=s.child,c=Ai(n,n.pendingProps),s.child=c,c.return=s;n.sibling!==null;)n=n.sibling,c=c.sibling=Ai(n,n.pendingProps),c.return=s;c.sibling=null}return s.child}function Yd(n,s,c){switch(s.tag){case 3:Qd(s),Bi();break;case 5:$f(s);break;case 1:vr(s.type)&&jr(s);break;case 4:zf(s,s.stateNode.containerInfo);break;case 10:var d=s.type._context,T=s.memoizedProps.value;Xt(Yu,d._currentValue),d._currentValue=T;break;case 13:if(d=s.memoizedState,d!==null)return d.dehydrated!==null?(Xt(nn,nn.current&1),s.flags|=128,null):c&s.child.childLanes?Oc(n,s,c):(Xt(nn,nn.current&1),n=_i(n,s,c),n!==null?n.sibling:null);Xt(nn,nn.current&1);break;case 19:if(d=(c&s.childLanes)!==0,n.flags&128){if(d)return Qs(n,s,c);s.flags|=128}if(T=s.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),Xt(nn,nn.current),d)break;return null;case 22:case 23:return s.lanes=0,oh(n,s,c)}return _i(n,s,c)}var qn,fh,Xd,hh;qn=function(n,s){for(var c=s.child;c!==null;){if(c.tag===5||c.tag===6)n.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},fh=function(){},Xd=function(n,s,c,d){var T=n.memoizedProps;if(T!==d){n=s.stateNode,ms(zi.current);var N=null;switch(c){case"input":T=Xe(n,T),d=Xe(n,d),N=[];break;case"select":T=X({},T,{value:void 0}),d=X({},d,{value:void 0}),N=[];break;case"textarea":T=Oe(n,T),d=Oe(n,d),N=[];break;default:typeof T.onClick!="function"&&typeof d.onClick=="function"&&(n.onclick=nc)}po(c,d);var H;c=null;for(we in T)if(!d.hasOwnProperty(we)&&T.hasOwnProperty(we)&&T[we]!=null)if(we==="style"){var te=T[we];for(H in te)te.hasOwnProperty(H)&&(c||(c={}),c[H]="")}else we!=="dangerouslySetInnerHTML"&&we!=="children"&&we!=="suppressContentEditableWarning"&&we!=="suppressHydrationWarning"&&we!=="autoFocus"&&(o.hasOwnProperty(we)?N||(N=[]):(N=N||[]).push(we,null));for(we in d){var oe=d[we];if(te=T!=null?T[we]:void 0,d.hasOwnProperty(we)&&oe!==te&&(oe!=null||te!=null))if(we==="style")if(te){for(H in te)!te.hasOwnProperty(H)||oe&&oe.hasOwnProperty(H)||(c||(c={}),c[H]="");for(H in oe)oe.hasOwnProperty(H)&&te[H]!==oe[H]&&(c||(c={}),c[H]=oe[H])}else c||(N||(N=[]),N.push(we,c)),c=oe;else we==="dangerouslySetInnerHTML"?(oe=oe?oe.__html:void 0,te=te?te.__html:void 0,oe!=null&&te!==oe&&(N=N||[]).push(we,oe)):we==="children"?typeof oe!="string"&&typeof oe!="number"||(N=N||[]).push(we,""+oe):we!=="suppressContentEditableWarning"&&we!=="suppressHydrationWarning"&&(o.hasOwnProperty(we)?(oe!=null&&we==="onScroll"&&Jt("scroll",n),N||te===oe||(N=[])):(N=N||[]).push(we,oe))}c&&(N=N||[]).push("style",c);var we=N;(s.updateQueue=we)&&(s.flags|=4)}},hh=function(n,s,c,d){c!==d&&(s.flags|=4)};function cl(n,s){if(!en)switch(n.tailMode){case"hidden":s=n.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?n.tail=null:c.sibling=null;break;case"collapsed":c=n.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:d.sibling=null}}function Bn(n){var s=n.alternate!==null&&n.alternate.child===n.child,c=0,d=0;if(s)for(var T=n.child;T!==null;)c|=T.lanes|T.childLanes,d|=T.subtreeFlags&14680064,d|=T.flags&14680064,T.return=n,T=T.sibling;else for(T=n.child;T!==null;)c|=T.lanes|T.childLanes,d|=T.subtreeFlags,d|=T.flags,T.return=n,T=T.sibling;return n.subtreeFlags|=d,n.childLanes=c,s}function jg(n,s,c){var d=s.pendingProps;switch(Uo(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bn(s),null;case 1:return vr(s.type)&&oc(),Bn(s),null;case 3:return d=s.stateNode,Ks(),Zt(yr),Zt(Xn),yc(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(n===null||n.child===null)&&(Gu(s)?s.flags|=4:n===null||n.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,yi!==null&&(Th(yi),yi=null))),fh(n,s),Bn(s),null;case 5:mc(s);var T=ms(Ba.current);if(c=s.type,n!==null&&s.stateNode!=null)Xd(n,s,c,d,T),n.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!d){if(s.stateNode===null)throw Error(t(166));return Bn(s),null}if(n=ms(zi.current),Gu(s)){d=s.stateNode,c=s.type;var N=s.memoizedProps;switch(d[Mi]=s,d[js]=N,n=(s.mode&1)!==0,c){case"dialog":Jt("cancel",d),Jt("close",d);break;case"iframe":case"object":case"embed":Jt("load",d);break;case"video":case"audio":for(T=0;T<cs.length;T++)Jt(cs[T],d);break;case"source":Jt("error",d);break;case"img":case"image":case"link":Jt("error",d),Jt("load",d);break;case"details":Jt("toggle",d);break;case"input":yt(d,N),Jt("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!N.multiple},Jt("invalid",d);break;case"textarea":st(d,N),Jt("invalid",d)}po(c,N),T=null;for(var H in N)if(N.hasOwnProperty(H)){var te=N[H];H==="children"?typeof te=="string"?d.textContent!==te&&(N.suppressHydrationWarning!==!0&&zu(d.textContent,te,n),T=["children",te]):typeof te=="number"&&d.textContent!==""+te&&(N.suppressHydrationWarning!==!0&&zu(d.textContent,te,n),T=["children",""+te]):o.hasOwnProperty(H)&&te!=null&&H==="onScroll"&&Jt("scroll",d)}switch(c){case"input":qe(d),Ie(d,N,!0);break;case"textarea":qe(d),ut(d);break;case"select":case"option":break;default:typeof N.onClick=="function"&&(d.onclick=nc)}d=T,s.updateQueue=d,d!==null&&(s.flags|=4)}else{H=T.nodeType===9?T:T.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Dt(c)),n==="http://www.w3.org/1999/xhtml"?c==="script"?(n=H.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof d.is=="string"?n=H.createElement(c,{is:d.is}):(n=H.createElement(c),c==="select"&&(H=n,d.multiple?H.multiple=!0:d.size&&(H.size=d.size))):n=H.createElementNS(n,c),n[Mi]=s,n[js]=d,qn(n,s,!1,!1),s.stateNode=n;e:{switch(H=go(c,d),c){case"dialog":Jt("cancel",n),Jt("close",n),T=d;break;case"iframe":case"object":case"embed":Jt("load",n),T=d;break;case"video":case"audio":for(T=0;T<cs.length;T++)Jt(cs[T],n);T=d;break;case"source":Jt("error",n),T=d;break;case"img":case"image":case"link":Jt("error",n),Jt("load",n),T=d;break;case"details":Jt("toggle",n),T=d;break;case"input":yt(n,d),T=Xe(n,d),Jt("invalid",n);break;case"option":T=d;break;case"select":n._wrapperState={wasMultiple:!!d.multiple},T=X({},d,{value:void 0}),Jt("invalid",n);break;case"textarea":st(n,d),T=Oe(n,d),Jt("invalid",n);break;default:T=d}po(c,T),te=T;for(N in te)if(te.hasOwnProperty(N)){var oe=te[N];N==="style"?fo(n,oe):N==="dangerouslySetInnerHTML"?(oe=oe?oe.__html:void 0,oe!=null&&Xi(n,oe)):N==="children"?typeof oe=="string"?(c!=="textarea"||oe!=="")&&qt(n,oe):typeof oe=="number"&&qt(n,""+oe):N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&N!=="autoFocus"&&(o.hasOwnProperty(N)?oe!=null&&N==="onScroll"&&Jt("scroll",n):oe!=null&&M(n,N,oe,H))}switch(c){case"input":qe(n),Ie(n,d,!1);break;case"textarea":qe(n),ut(n);break;case"option":d.value!=null&&n.setAttribute("value",""+pe(d.value));break;case"select":n.multiple=!!d.multiple,N=d.value,N!=null?Ue(n,!!d.multiple,N,!1):d.defaultValue!=null&&Ue(n,!!d.multiple,d.defaultValue,!0);break;default:typeof T.onClick=="function"&&(n.onclick=nc)}switch(c){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Bn(s),null;case 6:if(n&&s.stateNode!=null)hh(n,s,n.memoizedProps,d);else{if(typeof d!="string"&&s.stateNode===null)throw Error(t(166));if(c=ms(Ba.current),ms(zi.current),Gu(s)){if(d=s.stateNode,c=s.memoizedProps,d[Mi]=s,(N=d.nodeValue!==c)&&(n=Zn,n!==null))switch(n.tag){case 3:zu(d.nodeValue,c,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&zu(d.nodeValue,c,(n.mode&1)!==0)}N&&(s.flags|=4)}else d=(c.nodeType===9?c:c.ownerDocument).createTextNode(d),d[Mi]=s,s.stateNode=d}return Bn(s),null;case 13:if(Zt(nn),d=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(en&&Nr!==null&&s.mode&1&&!(s.flags&128))Ff(),Bi(),s.flags|=98560,N=!1;else if(N=Gu(s),d!==null&&d.dehydrated!==null){if(n===null){if(!N)throw Error(t(318));if(N=s.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(t(317));N[Mi]=s}else Bi(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;Bn(s),N=!1}else yi!==null&&(Th(yi),yi=null),N=!0;if(!N)return s.flags&65536?s:null}return s.flags&128?(s.lanes=c,s):(d=d!==null,d!==(n!==null&&n.memoizedState!==null)&&d&&(s.child.flags|=8192,s.mode&1&&(n===null||nn.current&1?bn===0&&(bn=3):Sh())),s.updateQueue!==null&&(s.flags|=4),Bn(s),null);case 4:return Ks(),fh(n,s),n===null&&Fs(s.stateNode.containerInfo),Bn(s),null;case 10:return hc(s.type._context),Bn(s),null;case 17:return vr(s.type)&&oc(),Bn(s),null;case 19:if(Zt(nn),N=s.memoizedState,N===null)return Bn(s),null;if(d=(s.flags&128)!==0,H=N.rendering,H===null)if(d)cl(N,!1);else{if(bn!==0||n!==null&&n.flags&128)for(n=s.child;n!==null;){if(H=Bo(n),H!==null){for(s.flags|=128,cl(N,!1),d=H.updateQueue,d!==null&&(s.updateQueue=d,s.flags|=4),s.subtreeFlags=0,d=c,c=s.child;c!==null;)N=c,n=d,N.flags&=14680066,H=N.alternate,H===null?(N.childLanes=0,N.lanes=n,N.child=null,N.subtreeFlags=0,N.memoizedProps=null,N.memoizedState=null,N.updateQueue=null,N.dependencies=null,N.stateNode=null):(N.childLanes=H.childLanes,N.lanes=H.lanes,N.child=H.child,N.subtreeFlags=0,N.deletions=null,N.memoizedProps=H.memoizedProps,N.memoizedState=H.memoizedState,N.updateQueue=H.updateQueue,N.type=H.type,n=H.dependencies,N.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),c=c.sibling;return Xt(nn,nn.current&1|2),s.child}n=n.sibling}N.tail!==null&&zt()>Wo&&(s.flags|=128,d=!0,cl(N,!1),s.lanes=4194304)}else{if(!d)if(n=Bo(H),n!==null){if(s.flags|=128,d=!0,c=n.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),cl(N,!0),N.tail===null&&N.tailMode==="hidden"&&!H.alternate&&!en)return Bn(s),null}else 2*zt()-N.renderingStartTime>Wo&&c!==1073741824&&(s.flags|=128,d=!0,cl(N,!1),s.lanes=4194304);N.isBackwards?(H.sibling=s.child,s.child=H):(c=N.last,c!==null?c.sibling=H:s.child=H,N.last=H)}return N.tail!==null?(s=N.tail,N.rendering=s,N.tail=s.sibling,N.renderingStartTime=zt(),s.sibling=null,c=nn.current,Xt(nn,d?c&1|2:c&1),s):(Bn(s),null);case 22:case 23:return Ah(),d=s.memoizedState!==null,n!==null&&n.memoizedState!==null!==d&&(s.flags|=8192),d&&s.mode&1?Dr&1073741824&&(Bn(s),s.subtreeFlags&6&&(s.flags|=8192)):Bn(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function zg(n,s){switch(Uo(s),s.tag){case 1:return vr(s.type)&&oc(),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return Ks(),Zt(yr),Zt(Xn),yc(),n=s.flags,n&65536&&!(n&128)?(s.flags=n&-65537|128,s):null;case 5:return mc(s),null;case 13:if(Zt(nn),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(t(340));Bi()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return Zt(nn),null;case 4:return Ks(),null;case 10:return hc(s.type._context),null;case 22:case 23:return Ah(),null;case 24:return null;default:return null}}var Nc=!1,rn=!1,ur=typeof WeakSet=="function"?WeakSet:Set,$e=null;function Ya(n,s){var c=n.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(d){on(n,s,d)}else c.current=null}function fl(n,s,c){try{c()}catch(d){on(n,s,d)}}var Jd=!1;function $g(n,s){if($u=xs,n=Gt(),Vu(n)){if("selectionStart"in n)var c={start:n.selectionStart,end:n.selectionEnd};else e:{c=(c=n.ownerDocument)&&c.defaultView||window;var d=c.getSelection&&c.getSelection();if(d&&d.rangeCount!==0){c=d.anchorNode;var T=d.anchorOffset,N=d.focusNode;d=d.focusOffset;try{c.nodeType,N.nodeType}catch{c=null;break e}var H=0,te=-1,oe=-1,we=0,Ne=0,Le=n,Ce=null;t:for(;;){for(var ze;Le!==c||T!==0&&Le.nodeType!==3||(te=H+T),Le!==N||d!==0&&Le.nodeType!==3||(oe=H+d),Le.nodeType===3&&(H+=Le.nodeValue.length),(ze=Le.firstChild)!==null;)Ce=Le,Le=ze;for(;;){if(Le===n)break t;if(Ce===c&&++we===T&&(te=H),Ce===N&&++Ne===d&&(oe=H),(ze=Le.nextSibling)!==null)break;Le=Ce,Ce=Le.parentNode}Le=ze}c=te===-1||oe===-1?null:{start:te,end:oe}}else c=null}c=c||{start:0,end:0}}else c=null;for(Lo={focusedElem:n,selectionRange:c},xs=!1,$e=s;$e!==null;)if(s=$e,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,$e=n;else for(;$e!==null;){s=$e;try{var We=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(We!==null){var Ke=We.memoizedProps,ln=We.memoizedState,ve=s.stateNode,le=ve.getSnapshotBeforeUpdate(s.elementType===s.type?Ke:Qr(s.type,Ke),ln);ve.__reactInternalSnapshotBeforeUpdate=le}break;case 3:var _e=s.stateNode.containerInfo;_e.nodeType===1?_e.textContent="":_e.nodeType===9&&_e.documentElement&&_e.removeChild(_e.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Me){on(s,s.return,Me)}if(n=s.sibling,n!==null){n.return=s.return,$e=n;break}$e=s.return}return We=Jd,Jd=!1,We}function Es(n,s,c){var d=s.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var T=d=d.next;do{if((T.tag&n)===n){var N=T.destroy;T.destroy=void 0,N!==void 0&&fl(s,c,N)}T=T.next}while(T!==d)}}function hl(n,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var c=s=s.next;do{if((c.tag&n)===n){var d=c.create;c.destroy=d()}c=c.next}while(c!==s)}}function xc(n){var s=n.ref;if(s!==null){var c=n.stateNode;switch(n.tag){case 5:n=c;break;default:n=c}typeof s=="function"?s(n):s.current=n}}function Zd(n){var s=n.alternate;s!==null&&(n.alternate=null,Zd(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&(delete s[Mi],delete s[js],delete s[ic],delete s[K],delete s[Da])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function ep(n){return n.tag===5||n.tag===3||n.tag===4}function tp(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||ep(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function dh(n,s,c){var d=n.tag;if(d===5||d===6)n=n.stateNode,s?c.nodeType===8?c.parentNode.insertBefore(n,s):c.insertBefore(n,s):(c.nodeType===8?(s=c.parentNode,s.insertBefore(n,c)):(s=c,s.appendChild(n)),c=c._reactRootContainer,c!=null||s.onclick!==null||(s.onclick=nc));else if(d!==4&&(n=n.child,n!==null))for(dh(n,s,c),n=n.sibling;n!==null;)dh(n,s,c),n=n.sibling}function Lc(n,s,c){var d=n.tag;if(d===5||d===6)n=n.stateNode,s?c.insertBefore(n,s):c.appendChild(n);else if(d!==4&&(n=n.child,n!==null))for(Lc(n,s,c),n=n.sibling;n!==null;)Lc(n,s,c),n=n.sibling}var Ln=null,Ei=!1;function Gi(n,s,c){for(c=c.child;c!==null;)ph(n,s,c),c=c.sibling}function ph(n,s,c){if(Pr&&typeof Pr.onCommitFiberUnmount=="function")try{Pr.onCommitFiberUnmount(wo,c)}catch{}switch(c.tag){case 5:rn||Ya(c,s);case 6:var d=Ln,T=Ei;Ln=null,Gi(n,s,c),Ln=d,Ei=T,Ln!==null&&(Ei?(n=Ln,c=c.stateNode,n.nodeType===8?n.parentNode.removeChild(c):n.removeChild(c)):Ln.removeChild(c.stateNode));break;case 18:Ln!==null&&(Ei?(n=Ln,c=c.stateNode,n.nodeType===8?Mf(n.parentNode,c):n.nodeType===1&&Mf(n,c),It(n)):Mf(Ln,c.stateNode));break;case 4:d=Ln,T=Ei,Ln=c.stateNode.containerInfo,Ei=!0,Gi(n,s,c),Ln=d,Ei=T;break;case 0:case 11:case 14:case 15:if(!rn&&(d=c.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){T=d=d.next;do{var N=T,H=N.destroy;N=N.tag,H!==void 0&&(N&2||N&4)&&fl(c,s,H),T=T.next}while(T!==d)}Gi(n,s,c);break;case 1:if(!rn&&(Ya(c,s),d=c.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=c.memoizedProps,d.state=c.memoizedState,d.componentWillUnmount()}catch(te){on(c,s,te)}Gi(n,s,c);break;case 21:Gi(n,s,c);break;case 22:c.mode&1?(rn=(d=rn)||c.memoizedState!==null,Gi(n,s,c),rn=d):Gi(n,s,c);break;default:Gi(n,s,c)}}function Xa(n){var s=n.updateQueue;if(s!==null){n.updateQueue=null;var c=n.stateNode;c===null&&(c=n.stateNode=new ur),s.forEach(function(d){var T=Xg.bind(null,n,d);c.has(d)||(c.add(d),d.then(T,T))})}}function Lr(n,s){var c=s.deletions;if(c!==null)for(var d=0;d<c.length;d++){var T=c[d];try{var N=n,H=s,te=H;e:for(;te!==null;){switch(te.tag){case 5:Ln=te.stateNode,Ei=!1;break e;case 3:Ln=te.stateNode.containerInfo,Ei=!0;break e;case 4:Ln=te.stateNode.containerInfo,Ei=!0;break e}te=te.return}if(Ln===null)throw Error(t(160));ph(N,H,T),Ln=null,Ei=!1;var oe=T.alternate;oe!==null&&(oe.return=null),T.return=null}catch(we){on(T,s,we)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)gh(s,n),s=s.sibling}function gh(n,s){var c=n.alternate,d=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Lr(s,n),wi(n),d&4){try{Es(3,n,n.return),hl(3,n)}catch(Ke){on(n,n.return,Ke)}try{Es(5,n,n.return)}catch(Ke){on(n,n.return,Ke)}}break;case 1:Lr(s,n),wi(n),d&512&&c!==null&&Ya(c,c.return);break;case 5:if(Lr(s,n),wi(n),d&512&&c!==null&&Ya(c,c.return),n.flags&32){var T=n.stateNode;try{qt(T,"")}catch(Ke){on(n,n.return,Ke)}}if(d&4&&(T=n.stateNode,T!=null)){var N=n.memoizedProps,H=c!==null?c.memoizedProps:N,te=n.type,oe=n.updateQueue;if(n.updateQueue=null,oe!==null)try{te==="input"&&N.type==="radio"&&N.name!=null&&mn(T,N),go(te,H);var we=go(te,N);for(H=0;H<oe.length;H+=2){var Ne=oe[H],Le=oe[H+1];Ne==="style"?fo(T,Le):Ne==="dangerouslySetInnerHTML"?Xi(T,Le):Ne==="children"?qt(T,Le):M(T,Ne,Le,we)}switch(te){case"input":Ot(T,N);break;case"textarea":lt(T,N);break;case"select":var Ce=T._wrapperState.wasMultiple;T._wrapperState.wasMultiple=!!N.multiple;var ze=N.value;ze!=null?Ue(T,!!N.multiple,ze,!1):Ce!==!!N.multiple&&(N.defaultValue!=null?Ue(T,!!N.multiple,N.defaultValue,!0):Ue(T,!!N.multiple,N.multiple?[]:"",!1))}T[js]=N}catch(Ke){on(n,n.return,Ke)}}break;case 6:if(Lr(s,n),wi(n),d&4){if(n.stateNode===null)throw Error(t(162));T=n.stateNode,N=n.memoizedProps;try{T.nodeValue=N}catch(Ke){on(n,n.return,Ke)}}break;case 3:if(Lr(s,n),wi(n),d&4&&c!==null&&c.memoizedState.isDehydrated)try{It(s.containerInfo)}catch(Ke){on(n,n.return,Ke)}break;case 4:Lr(s,n),wi(n);break;case 13:Lr(s,n),wi(n),T=n.child,T.flags&8192&&(N=T.memoizedState!==null,T.stateNode.isHidden=N,!N||T.alternate!==null&&T.alternate.memoizedState!==null||(vh=zt())),d&4&&Xa(n);break;case 22:if(Ne=c!==null&&c.memoizedState!==null,n.mode&1?(rn=(we=rn)||Ne,Lr(s,n),rn=we):Lr(s,n),wi(n),d&8192){if(we=n.memoizedState!==null,(n.stateNode.isHidden=we)&&!Ne&&n.mode&1)for($e=n,Ne=n.child;Ne!==null;){for(Le=$e=Ne;$e!==null;){switch(Ce=$e,ze=Ce.child,Ce.tag){case 0:case 11:case 14:case 15:Es(4,Ce,Ce.return);break;case 1:Ya(Ce,Ce.return);var We=Ce.stateNode;if(typeof We.componentWillUnmount=="function"){d=Ce,c=Ce.return;try{s=d,We.props=s.memoizedProps,We.state=s.memoizedState,We.componentWillUnmount()}catch(Ke){on(d,c,Ke)}}break;case 5:Ya(Ce,Ce.return);break;case 22:if(Ce.memoizedState!==null){Ys(Le);continue}}ze!==null?(ze.return=Ce,$e=ze):Ys(Le)}Ne=Ne.sibling}e:for(Ne=null,Le=n;;){if(Le.tag===5){if(Ne===null){Ne=Le;try{T=Le.stateNode,we?(N=T.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none"):(te=Le.stateNode,oe=Le.memoizedProps.style,H=oe!=null&&oe.hasOwnProperty("display")?oe.display:null,te.style.display=co("display",H))}catch(Ke){on(n,n.return,Ke)}}}else if(Le.tag===6){if(Ne===null)try{Le.stateNode.nodeValue=we?"":Le.memoizedProps}catch(Ke){on(n,n.return,Ke)}}else if((Le.tag!==22&&Le.tag!==23||Le.memoizedState===null||Le===n)&&Le.child!==null){Le.child.return=Le,Le=Le.child;continue}if(Le===n)break e;for(;Le.sibling===null;){if(Le.return===null||Le.return===n)break e;Ne===Le&&(Ne=null),Le=Le.return}Ne===Le&&(Ne=null),Le.sibling.return=Le.return,Le=Le.sibling}}break;case 19:Lr(s,n),wi(n),d&4&&Xa(n);break;case 21:break;default:Lr(s,n),wi(n)}}function wi(n){var s=n.flags;if(s&2){try{e:{for(var c=n.return;c!==null;){if(ep(c)){var d=c;break e}c=c.return}throw Error(t(160))}switch(d.tag){case 5:var T=d.stateNode;d.flags&32&&(qt(T,""),d.flags&=-33);var N=tp(n);Lc(n,N,T);break;case 3:case 4:var H=d.stateNode.containerInfo,te=tp(n);dh(n,te,H);break;default:throw Error(t(161))}}catch(oe){on(n,n.return,oe)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function Dc(n,s,c){$e=n,mh(n)}function mh(n,s,c){for(var d=(n.mode&1)!==0;$e!==null;){var T=$e,N=T.child;if(T.tag===22&&d){var H=T.memoizedState!==null||Nc;if(!H){var te=T.alternate,oe=te!==null&&te.memoizedState!==null||rn;te=Nc;var we=rn;if(Nc=H,(rn=oe)&&!we)for($e=T;$e!==null;)H=$e,oe=H.child,H.tag===22&&H.memoizedState!==null?np(T):oe!==null?(oe.return=H,$e=oe):np(T);for(;N!==null;)$e=N,mh(N),N=N.sibling;$e=T,Nc=te,rn=we}Ti(n)}else T.subtreeFlags&8772&&N!==null?(N.return=T,$e=N):Ti(n)}}function Ti(n){for(;$e!==null;){var s=$e;if(s.flags&8772){var c=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:rn||hl(5,s);break;case 1:var d=s.stateNode;if(s.flags&4&&!rn)if(c===null)d.componentDidMount();else{var T=s.elementType===s.type?c.memoizedProps:Qr(s.type,c.memoizedProps);d.componentDidUpdate(T,c.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var N=s.updateQueue;N!==null&&jf(s,N,d);break;case 3:var H=s.updateQueue;if(H!==null){if(c=null,s.child!==null)switch(s.child.tag){case 5:c=s.child.stateNode;break;case 1:c=s.child.stateNode}jf(s,H,c)}break;case 5:var te=s.stateNode;if(c===null&&s.flags&4){c=te;var oe=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":oe.autoFocus&&c.focus();break;case"img":oe.src&&(c.src=oe.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var we=s.alternate;if(we!==null){var Ne=we.memoizedState;if(Ne!==null){var Le=Ne.dehydrated;Le!==null&&It(Le)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}rn||s.flags&512&&xc(s)}catch(Ce){on(s,s.return,Ce)}}if(s===n){$e=null;break}if(c=s.sibling,c!==null){c.return=s.return,$e=c;break}$e=s.return}}function Ys(n){for(;$e!==null;){var s=$e;if(s===n){$e=null;break}var c=s.sibling;if(c!==null){c.return=s.return,$e=c;break}$e=s.return}}function np(n){for(;$e!==null;){var s=$e;try{switch(s.tag){case 0:case 11:case 15:var c=s.return;try{hl(4,s)}catch(oe){on(s,c,oe)}break;case 1:var d=s.stateNode;if(typeof d.componentDidMount=="function"){var T=s.return;try{d.componentDidMount()}catch(oe){on(s,T,oe)}}var N=s.return;try{xc(s)}catch(oe){on(s,N,oe)}break;case 5:var H=s.return;try{xc(s)}catch(oe){on(s,H,oe)}}}catch(oe){on(s,s.return,oe)}if(s===n){$e=null;break}var te=s.sibling;if(te!==null){te.return=s.return,$e=te;break}$e=s.return}}var rp=Math.ceil,Mc=I.ReactCurrentDispatcher,yh=I.ReactCurrentOwner,Yr=I.ReactCurrentBatchConfig,Nt=0,Dn=null,En=null,jn=0,Dr=0,Ja=mr(0),bn=0,dl=null,Xs=0,pl=0,Vc=0,gl=null,wr=null,vh=0,Wo=1/0,ws=null,Uc=!1,_h=null,Js=null,Fc=!1,Zs=null,lr=0,ml=0,Eh=null,qc=-1,yl=0;function cr(){return Nt&6?zt():qc!==-1?qc:qc=zt()}function eo(n){return n.mode&1?Nt&2&&jn!==0?jn&-jn:Md.transition!==null?(yl===0&&(yl=Cs()),yl):(n=Tt,n!==0||(n=window.event,n=n===void 0?16:Du(n.type)),n):1}function Ii(n,s,c,d){if(50<ml)throw ml=0,Eh=null,Error(t(185));Ns(n,c,d),(!(Nt&2)||n!==Dn)&&(n===Dn&&(!(Nt&2)&&(pl|=c),bn===4&&to(n,jn)),Tr(n,d),c===1&&Nt===0&&!(s.mode&1)&&(Wo=zt()+500,ac&&$s()))}function Tr(n,s){var c=n.callbackNode;ns(n,s);var d=Oi(n,n===Dn?jn:0);if(d===0)c!==null&&Ru(c),n.callbackNode=null,n.callbackPriority=0;else if(s=d&-d,n.callbackPriority!==s){if(c!=null&&Ru(c),s===1)n.tag===0?Do(ip.bind(null,n)):xd(ip.bind(null,n)),rc(function(){!(Nt&6)&&$s()}),c=null;else{switch(kr(d)){case 1:c=Eo;break;case 4:c=ks;break;case 16:c=Rr;break;case 536870912:c=Pu;break;default:c=Rr}c=fp(c,Bc.bind(null,n))}n.callbackPriority=s,n.callbackNode=c}}function Bc(n,s){if(qc=-1,yl=0,Nt&6)throw Error(t(327));var c=n.callbackNode;if(Za()&&n.callbackNode!==c)return null;var d=Oi(n,n===Dn?jn:0);if(d===0)return null;if(d&30||d&n.expiredLanes||s)s=jc(n,d);else{s=d;var T=Nt;Nt|=2;var N=op();(Dn!==n||jn!==s)&&(ws=null,Wo=zt()+500,Go(n,s));do try{Kg();break}catch(te){sp(n,te)}while(!0);ds(),Mc.current=N,Nt=T,En!==null?s=0:(Dn=null,jn=0,s=bn)}if(s!==0){if(s===2&&(T=pr(n),T!==0&&(d=T,s=wh(n,T))),s===1)throw c=dl,Go(n,0),to(n,d),Tr(n,zt()),c;if(s===6)to(n,d);else{if(T=n.current.alternate,!(d&30)&&!Hg(T)&&(s=jc(n,d),s===2&&(N=pr(n),N!==0&&(d=N,s=wh(n,N))),s===1))throw c=dl,Go(n,0),to(n,d),Tr(n,zt()),c;switch(n.finishedWork=T,n.finishedLanes=d,s){case 0:case 1:throw Error(t(345));case 2:Qo(n,wr,ws);break;case 3:if(to(n,d),(d&130023424)===d&&(s=vh+500-zt(),10<s)){if(Oi(n,0)!==0)break;if(T=n.suspendedLanes,(T&d)!==d){cr(),n.pingedLanes|=n.suspendedLanes&T;break}n.timeoutHandle=qs(Qo.bind(null,n,wr,ws),s);break}Qo(n,wr,ws);break;case 4:if(to(n,d),(d&4194240)===d)break;for(s=n.eventTimes,T=-1;0<d;){var H=31-ir(d);N=1<<H,H=s[H],H>T&&(T=H),d&=~N}if(d=T,d=zt()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*rp(d/1960))-d,10<d){n.timeoutHandle=qs(Qo.bind(null,n,wr,ws),d);break}Qo(n,wr,ws);break;case 5:Qo(n,wr,ws);break;default:throw Error(t(329))}}}return Tr(n,zt()),n.callbackNode===c?Bc.bind(null,n):null}function wh(n,s){var c=gl;return n.current.memoizedState.isDehydrated&&(Go(n,s).flags|=256),n=jc(n,s),n!==2&&(s=wr,wr=c,s!==null&&Th(s)),n}function Th(n){wr===null?wr=n:wr.push.apply(wr,n)}function Hg(n){for(var s=n;;){if(s.flags&16384){var c=s.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var d=0;d<c.length;d++){var T=c[d],N=T.getSnapshot;T=T.value;try{if(!Ee(N(),T))return!1}catch{return!1}}}if(c=s.child,s.subtreeFlags&16384&&c!==null)c.return=s,s=c;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function to(n,s){for(s&=~Vc,s&=~pl,n.suspendedLanes|=s,n.pingedLanes&=~s,n=n.expirationTimes;0<s;){var c=31-ir(s),d=1<<c;n[c]=-1,s&=~d}}function ip(n){if(Nt&6)throw Error(t(327));Za();var s=Oi(n,0);if(!(s&1))return Tr(n,zt()),null;var c=jc(n,s);if(n.tag!==0&&c===2){var d=pr(n);d!==0&&(s=d,c=wh(n,d))}if(c===1)throw c=dl,Go(n,0),to(n,s),Tr(n,zt()),c;if(c===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=s,Qo(n,wr,ws),Tr(n,zt()),null}function Ih(n,s){var c=Nt;Nt|=1;try{return n(s)}finally{Nt=c,Nt===0&&(Wo=zt()+500,ac&&$s())}}function Ko(n){Zs!==null&&Zs.tag===0&&!(Nt&6)&&Za();var s=Nt;Nt|=1;var c=Yr.transition,d=Tt;try{if(Yr.transition=null,Tt=1,n)return n()}finally{Tt=d,Yr.transition=c,Nt=s,!(Nt&6)&&$s()}}function Ah(){Dr=Ja.current,Zt(Ja)}function Go(n,s){n.finishedWork=null,n.finishedLanes=0;var c=n.timeoutHandle;if(c!==-1&&(n.timeoutHandle=-1,Wu(c)),En!==null)for(c=En.return;c!==null;){var d=c;switch(Uo(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&oc();break;case 3:Ks(),Zt(yr),Zt(Xn),yc();break;case 5:mc(d);break;case 4:Ks();break;case 13:Zt(nn);break;case 19:Zt(nn);break;case 10:hc(d.type._context);break;case 22:case 23:Ah()}c=c.return}if(Dn=n,En=n=Ai(n.current,null),jn=Dr=s,bn=0,dl=null,Vc=pl=Xs=0,wr=gl=null,qo!==null){for(s=0;s<qo.length;s++)if(c=qo[s],d=c.interleaved,d!==null){c.interleaved=null;var T=d.next,N=c.pending;if(N!==null){var H=N.next;N.next=T,d.next=H}c.pending=d}qo=null}return n}function sp(n,s){do{var c=En;try{if(ds(),Zu.current=Ic,ja){for(var d=sn.memoizedState;d!==null;){var T=d.queue;T!==null&&(T.pending=null),d=d.next}ja=!1}if(Gs=0,Sn=dn=sn=null,el=!1,jo=0,yh.current=null,c===null||c.return===null){bn=1,dl=s,En=null;break}e:{var N=n,H=c.return,te=c,oe=s;if(s=jn,te.flags|=32768,oe!==null&&typeof oe=="object"&&typeof oe.then=="function"){var we=oe,Ne=te,Le=Ne.tag;if(!(Ne.mode&1)&&(Le===0||Le===11||Le===15)){var Ce=Ne.alternate;Ce?(Ne.updateQueue=Ce.updateQueue,Ne.memoizedState=Ce.memoizedState,Ne.lanes=Ce.lanes):(Ne.updateQueue=null,Ne.memoizedState=null)}var ze=Kd(H);if(ze!==null){ze.flags&=-257,ih(ze,H,te,N,s),ze.mode&1&&sl(N,we,s),s=ze,oe=we;var We=s.updateQueue;if(We===null){var Ke=new Set;Ke.add(oe),s.updateQueue=Ke}else We.add(oe);break e}else{if(!(s&1)){sl(N,we,s),Sh();break e}oe=Error(t(426))}}else if(en&&te.mode&1){var ln=Kd(H);if(ln!==null){!(ln.flags&65536)&&(ln.flags|=256),ih(ln,H,te,N,s),ji(Ho(oe,te));break e}}N=oe=Ho(oe,te),bn!==4&&(bn=2),gl===null?gl=[N]:gl.push(N),N=H;do{switch(N.tag){case 3:N.flags|=65536,s&=-s,N.lanes|=s;var ve=il(N,oe,s);Fd(N,ve);break e;case 1:te=oe;var le=N.type,_e=N.stateNode;if(!(N.flags&128)&&(typeof le.getDerivedStateFromError=="function"||_e!==null&&typeof _e.componentDidCatch=="function"&&(Js===null||!Js.has(_e)))){N.flags|=65536,s&=-s,N.lanes|=s;var Me=Pc(N,te,s);Fd(N,Me);break e}}N=N.return}while(N!==null)}up(c)}catch(Ge){s=Ge,En===c&&c!==null&&(En=c=c.return);continue}break}while(!0)}function op(){var n=Mc.current;return Mc.current=Ic,n===null?Ic:n}function Sh(){(bn===0||bn===3||bn===2)&&(bn=4),Dn===null||!(Xs&268435455)&&!(pl&268435455)||to(Dn,jn)}function jc(n,s){var c=Nt;Nt|=2;var d=op();(Dn!==n||jn!==s)&&(ws=null,Go(n,s));do try{Wg();break}catch(T){sp(n,T)}while(!0);if(ds(),Nt=c,Mc.current=d,En!==null)throw Error(t(261));return Dn=null,jn=0,bn}function Wg(){for(;En!==null;)ap(En)}function Kg(){for(;En!==null&&!_o();)ap(En)}function ap(n){var s=cp(n.alternate,n,Dr);n.memoizedProps=n.pendingProps,s===null?up(n):En=s,yh.current=null}function up(n){var s=n;do{var c=s.alternate;if(n=s.return,s.flags&32768){if(c=zg(c,s),c!==null){c.flags&=32767,En=c;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{bn=6,En=null;return}}else if(c=jg(c,s,Dr),c!==null){En=c;return}if(s=s.sibling,s!==null){En=s;return}En=s=n}while(s!==null);bn===0&&(bn=5)}function Qo(n,s,c){var d=Tt,T=Yr.transition;try{Yr.transition=null,Tt=1,Gg(n,s,c,d)}finally{Yr.transition=T,Tt=d}return null}function Gg(n,s,c,d){do Za();while(Zs!==null);if(Nt&6)throw Error(t(327));c=n.finishedWork;var T=n.finishedLanes;if(c===null)return null;if(n.finishedWork=null,n.finishedLanes=0,c===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var N=c.lanes|c.childLanes;if(Kt(n,N),n===Dn&&(En=Dn=null,jn=0),!(c.subtreeFlags&2064)&&!(c.flags&2064)||Fc||(Fc=!0,fp(Rr,function(){return Za(),null})),N=(c.flags&15990)!==0,c.subtreeFlags&15990||N){N=Yr.transition,Yr.transition=null;var H=Tt;Tt=1;var te=Nt;Nt|=4,yh.current=null,$g(n,c),gh(c,n),Ug(Lo),xs=!!$u,Lo=$u=null,n.current=c,Dc(c),Rf(),Nt=te,Tt=H,Yr.transition=N}else n.current=c;if(Fc&&(Fc=!1,Zs=n,lr=T),N=n.pendingLanes,N===0&&(Js=null),Vl(c.stateNode),Tr(n,zt()),s!==null)for(d=n.onRecoverableError,c=0;c<s.length;c++)T=s[c],d(T.value,{componentStack:T.stack,digest:T.digest});if(Uc)throw Uc=!1,n=_h,_h=null,n;return lr&1&&n.tag!==0&&Za(),N=n.pendingLanes,N&1?n===Eh?ml++:(ml=0,Eh=n):ml=0,$s(),null}function Za(){if(Zs!==null){var n=kr(lr),s=Yr.transition,c=Tt;try{if(Yr.transition=null,Tt=16>n?16:n,Zs===null)var d=!1;else{if(n=Zs,Zs=null,lr=0,Nt&6)throw Error(t(331));var T=Nt;for(Nt|=4,$e=n.current;$e!==null;){var N=$e,H=N.child;if($e.flags&16){var te=N.deletions;if(te!==null){for(var oe=0;oe<te.length;oe++){var we=te[oe];for($e=we;$e!==null;){var Ne=$e;switch(Ne.tag){case 0:case 11:case 15:Es(8,Ne,N)}var Le=Ne.child;if(Le!==null)Le.return=Ne,$e=Le;else for(;$e!==null;){Ne=$e;var Ce=Ne.sibling,ze=Ne.return;if(Zd(Ne),Ne===we){$e=null;break}if(Ce!==null){Ce.return=ze,$e=Ce;break}$e=ze}}}var We=N.alternate;if(We!==null){var Ke=We.child;if(Ke!==null){We.child=null;do{var ln=Ke.sibling;Ke.sibling=null,Ke=ln}while(Ke!==null)}}$e=N}}if(N.subtreeFlags&2064&&H!==null)H.return=N,$e=H;else e:for(;$e!==null;){if(N=$e,N.flags&2048)switch(N.tag){case 0:case 11:case 15:Es(9,N,N.return)}var ve=N.sibling;if(ve!==null){ve.return=N.return,$e=ve;break e}$e=N.return}}var le=n.current;for($e=le;$e!==null;){H=$e;var _e=H.child;if(H.subtreeFlags&2064&&_e!==null)_e.return=H,$e=_e;else e:for(H=le;$e!==null;){if(te=$e,te.flags&2048)try{switch(te.tag){case 0:case 11:case 15:hl(9,te)}}catch(Ge){on(te,te.return,Ge)}if(te===H){$e=null;break e}var Me=te.sibling;if(Me!==null){Me.return=te.return,$e=Me;break e}$e=te.return}}if(Nt=T,$s(),Pr&&typeof Pr.onPostCommitFiberRoot=="function")try{Pr.onPostCommitFiberRoot(wo,n)}catch{}d=!0}return d}finally{Tt=c,Yr.transition=s}}return!1}function zc(n,s,c){s=Ho(c,s),s=il(n,s,1),n=Kr(n,s,1),s=cr(),n!==null&&(Ns(n,1,s),Tr(n,s))}function on(n,s,c){if(n.tag===3)zc(n,n,c);else for(;s!==null;){if(s.tag===3){zc(s,n,c);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Js===null||!Js.has(d))){n=Ho(c,n),n=Pc(s,n,1),s=Kr(s,n,1),n=cr(),s!==null&&(Ns(s,1,n),Tr(s,n));break}}s=s.return}}function Qg(n,s,c){var d=n.pingCache;d!==null&&d.delete(s),s=cr(),n.pingedLanes|=n.suspendedLanes&c,Dn===n&&(jn&c)===c&&(bn===4||bn===3&&(jn&130023424)===jn&&500>zt()-vh?Go(n,0):Vc|=c),Tr(n,s)}function lp(n,s){s===0&&(n.mode&1?(s=va,va<<=1,!(va&130023424)&&(va=4194304)):s=1);var c=cr();n=ps(n,s),n!==null&&(Ns(n,s,c),Tr(n,c))}function Yg(n){var s=n.memoizedState,c=0;s!==null&&(c=s.retryLane),lp(n,c)}function Xg(n,s){var c=0;switch(n.tag){case 13:var d=n.stateNode,T=n.memoizedState;T!==null&&(c=T.retryLane);break;case 19:d=n.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(s),lp(n,c)}var cp;cp=function(n,s,c){if(n!==null)if(n.memoizedProps!==s.pendingProps||yr.current)ar=!0;else{if(!(n.lanes&c)&&!(s.flags&128))return ar=!1,Yd(n,s,c);ar=!!(n.flags&131072)}else ar=!1,en&&s.flags&1048576&&Ld(s,lc,s.index);switch(s.lanes=0,s.tag){case 2:var d=s.type;Cc(n,s),n=s.pendingProps;var T=Va(s,Xn.current);Ws(s,c),T=zo(null,s,d,n,T,c);var N=vc();return s.flags|=1,typeof T=="object"&&T!==null&&typeof T.render=="function"&&T.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,vr(d)?(N=!0,jr(s)):N=!1,s.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,pc(s),T.updater=bc,s.stateNode=T,T._reactInternals=s,rh(s,d,n,c),s=ch(null,s,d,!0,N,c)):(s.tag=0,en&&N&&Ku(s),Fn(null,s,T,c),s=s.child),s;case 16:d=s.elementType;e:{switch(Cc(n,s),n=s.pendingProps,T=d._init,d=T(d._payload),s.type=d,T=s.tag=Zg(d),n=Qr(d,n),T){case 0:s=uh(null,s,d,n,c);break e;case 1:s=lh(null,s,d,n,c);break e;case 11:s=Gd(null,s,d,n,c);break e;case 14:s=sh(null,s,d,Qr(d.type,n),c);break e}throw Error(t(306,d,""))}return s;case 0:return d=s.type,T=s.pendingProps,T=s.elementType===d?T:Qr(d,T),uh(n,s,d,T,c);case 1:return d=s.type,T=s.pendingProps,T=s.elementType===d?T:Qr(d,T),lh(n,s,d,T,c);case 3:e:{if(Qd(s),n===null)throw Error(t(387));d=s.pendingProps,N=s.memoizedState,T=N.element,Ud(n,s),qa(s,d,null,c);var H=s.memoizedState;if(d=H.element,N.isDehydrated)if(N={element:d,isDehydrated:!1,cache:H.cache,pendingSuspenseBoundaries:H.pendingSuspenseBoundaries,transitions:H.transitions},s.updateQueue.baseState=N,s.memoizedState=N,s.flags&256){T=Ho(Error(t(423)),s),s=Ki(n,s,d,c,T);break e}else if(d!==T){T=Ho(Error(t(424)),s),s=Ki(n,s,d,c,T);break e}else for(Nr=Bs(s.stateNode.containerInfo.firstChild),Zn=s,en=!0,yi=null,c=fc(s,null,d,c),s.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Bi(),d===T){s=_i(n,s,c);break e}Fn(n,s,d,c)}s=s.child}return s;case 5:return $f(s),n===null&&_r(s),d=s.type,T=s.pendingProps,N=n!==null?n.memoizedProps:null,H=T.children,Hu(d,T)?H=null:N!==null&&Hu(d,N)&&(s.flags|=32),ah(n,s),Fn(n,s,H,c),s.child;case 6:return n===null&&_r(s),null;case 13:return Oc(n,s,c);case 4:return zf(s,s.stateNode.containerInfo),d=s.pendingProps,n===null?s.child=un(s,null,d,c):Fn(n,s,d,c),s.child;case 11:return d=s.type,T=s.pendingProps,T=s.elementType===d?T:Qr(d,T),Gd(n,s,d,T,c);case 7:return Fn(n,s,s.pendingProps,c),s.child;case 8:return Fn(n,s,s.pendingProps.children,c),s.child;case 12:return Fn(n,s,s.pendingProps.children,c),s.child;case 10:e:{if(d=s.type._context,T=s.pendingProps,N=s.memoizedProps,H=T.value,Xt(Yu,d._currentValue),d._currentValue=H,N!==null)if(Ee(N.value,H)){if(N.children===T.children&&!yr.current){s=_i(n,s,c);break e}}else for(N=s.child,N!==null&&(N.return=s);N!==null;){var te=N.dependencies;if(te!==null){H=N.child;for(var oe=te.firstContext;oe!==null;){if(oe.context===d){if(N.tag===1){oe=gs(-1,c&-c),oe.tag=2;var we=N.updateQueue;if(we!==null){we=we.shared;var Ne=we.pending;Ne===null?oe.next=oe:(oe.next=Ne.next,Ne.next=oe),we.pending=oe}}N.lanes|=c,oe=N.alternate,oe!==null&&(oe.lanes|=c),Un(N.return,c,s),te.lanes|=c;break}oe=oe.next}}else if(N.tag===10)H=N.type===s.type?null:N.child;else if(N.tag===18){if(H=N.return,H===null)throw Error(t(341));H.lanes|=c,te=H.alternate,te!==null&&(te.lanes|=c),Un(H,c,s),H=N.sibling}else H=N.child;if(H!==null)H.return=N;else for(H=N;H!==null;){if(H===s){H=null;break}if(N=H.sibling,N!==null){N.return=H.return,H=N;break}H=H.return}N=H}Fn(n,s,T.children,c),s=s.child}return s;case 9:return T=s.type,d=s.pendingProps.children,Ws(s,c),T=Hr(T),d=d(T),s.flags|=1,Fn(n,s,d,c),s.child;case 14:return d=s.type,T=Qr(d,s.pendingProps),T=Qr(d.type,T),sh(n,s,d,T,c);case 15:return Wi(n,s,s.type,s.pendingProps,c);case 17:return d=s.type,T=s.pendingProps,T=s.elementType===d?T:Qr(d,T),Cc(n,s),s.tag=1,vr(d)?(n=!0,jr(s)):n=!1,Ws(s,c),$o(s,d,T),rh(s,d,T,c),ch(null,s,d,!0,n,c);case 19:return Qs(n,s,c);case 22:return oh(n,s,c)}throw Error(t(156,s.tag))};function fp(n,s){return ga(n,s)}function Jg(n,s,c,d){this.tag=n,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xr(n,s,c,d){return new Jg(n,s,c,d)}function $c(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Zg(n){if(typeof n=="function")return $c(n)?1:0;if(n!=null){if(n=n.$$typeof,n===U)return 11;if(n===ee)return 14}return 2}function Ai(n,s){var c=n.alternate;return c===null?(c=Xr(n.tag,s,n.key,n.mode),c.elementType=n.elementType,c.type=n.type,c.stateNode=n.stateNode,c.alternate=n,n.alternate=c):(c.pendingProps=s,c.type=n.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=n.flags&14680064,c.childLanes=n.childLanes,c.lanes=n.lanes,c.child=n.child,c.memoizedProps=n.memoizedProps,c.memoizedState=n.memoizedState,c.updateQueue=n.updateQueue,s=n.dependencies,c.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},c.sibling=n.sibling,c.index=n.index,c.ref=n.ref,c}function Hc(n,s,c,d,T,N){var H=2;if(d=n,typeof n=="function")$c(n)&&(H=1);else if(typeof n=="string")H=5;else e:switch(n){case L:return Yo(c.children,T,N,s);case O:H=8,T|=8;break;case F:return n=Xr(12,c,s,T|2),n.elementType=F,n.lanes=N,n;case V:return n=Xr(13,c,s,T),n.elementType=V,n.lanes=N,n;case J:return n=Xr(19,c,s,T),n.elementType=J,n.lanes=N,n;case ce:return Wc(c,T,N,s);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case D:H=10;break e;case k:H=9;break e;case U:H=11;break e;case ee:H=14;break e;case fe:H=16,d=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return s=Xr(H,c,s,T),s.elementType=n,s.type=d,s.lanes=N,s}function Yo(n,s,c,d){return n=Xr(7,n,d,s),n.lanes=c,n}function Wc(n,s,c,d){return n=Xr(22,n,d,s),n.elementType=ce,n.lanes=c,n.stateNode={isHidden:!1},n}function bh(n,s,c){return n=Xr(6,n,null,s),n.lanes=c,n}function Rh(n,s,c){return s=Xr(4,n.children!==null?n.children:[],n.key,s),s.lanes=c,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}function em(n,s,c,d,T){this.tag=s,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ci(0),this.expirationTimes=Ci(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ci(0),this.identifierPrefix=d,this.onRecoverableError=T,this.mutableSourceEagerHydrationData=null}function Ph(n,s,c,d,T,N,H,te,oe){return n=new em(n,s,c,te,oe),s===1?(s=1,N===!0&&(s|=8)):s=0,N=Xr(3,null,null,s),n.current=N,N.stateNode=n,N.memoizedState={element:d,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},pc(N),n}function tm(n,s,c){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$,key:d==null?null:""+d,children:n,containerInfo:s,implementation:c}}function hp(n){if(!n)return zs;n=n._reactInternals;e:{if(ui(n)!==n||n.tag!==1)throw Error(t(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(vr(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(n.tag===1){var c=n.type;if(vr(c))return Cd(n,c,s)}return s}function dp(n,s,c,d,T,N,H,te,oe){return n=Ph(c,d,!0,n,T,N,H,te,oe),n.context=hp(null),c=n.current,d=cr(),T=eo(c),N=gs(d,T),N.callback=s??null,Kr(c,N,T),n.current.lanes=T,Ns(n,T,d),Tr(n,d),n}function Kc(n,s,c,d){var T=s.current,N=cr(),H=eo(T);return c=hp(c),s.context===null?s.context=c:s.pendingContext=c,s=gs(N,H),s.payload={element:n},d=d===void 0?null:d,d!==null&&(s.callback=d),n=Kr(T,s,H),n!==null&&(Ii(n,T,H,N),gc(n,T,H)),H}function Gc(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function pp(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var c=n.retryLane;n.retryLane=c!==0&&c<s?c:s}}function kh(n,s){pp(n,s),(n=n.alternate)&&pp(n,s)}var gp=typeof reportError=="function"?reportError:function(n){console.error(n)};function Oh(n){this._internalRoot=n}vl.prototype.render=Oh.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(t(409));Kc(n,s,null,null)},vl.prototype.unmount=Oh.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;Ko(function(){Kc(null,n,null,null)}),s[Cr]=null}};function vl(n){this._internalRoot=n}vl.prototype.unstable_scheduleHydration=function(n){if(n){var s=Nu();n={blockedOn:null,target:n,priority:s};for(var c=0;c<xi.length&&s!==0&&s<xi[c].priority;c++);xi.splice(c,0,n),c===0&&Bl(n)}};function Qc(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Yc(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function mp(){}function nm(n,s,c,d,T){if(T){if(typeof d=="function"){var N=d;d=function(){var we=Gc(H);N.call(we)}}var H=dp(s,d,n,0,null,!1,!1,"",mp);return n._reactRootContainer=H,n[Cr]=H.current,Fs(n.nodeType===8?n.parentNode:n),Ko(),H}for(;T=n.lastChild;)n.removeChild(T);if(typeof d=="function"){var te=d;d=function(){var we=Gc(oe);te.call(we)}}var oe=Ph(n,0,!1,null,null,!1,!1,"",mp);return n._reactRootContainer=oe,n[Cr]=oe.current,Fs(n.nodeType===8?n.parentNode:n),Ko(function(){Kc(s,oe,c,d)}),oe}function Xc(n,s,c,d,T){var N=c._reactRootContainer;if(N){var H=N;if(typeof T=="function"){var te=T;T=function(){var oe=Gc(H);te.call(oe)}}Kc(s,H,n,T)}else H=nm(c,s,n,T,d);return Gc(H)}Cu=function(n){switch(n.tag){case 3:var s=n.stateNode;if(s.current.memoizedState.isDehydrated){var c=ts(s.pendingLanes);c!==0&&(Ni(s,c|1),Tr(s,zt()),!(Nt&6)&&(Wo=zt()+500,$s()))}break;case 13:Ko(function(){var d=ps(n,1);if(d!==null){var T=cr();Ii(d,n,1,T)}}),kh(n,1)}},To=function(n){if(n.tag===13){var s=ps(n,134217728);if(s!==null){var c=cr();Ii(s,n,134217728,c)}kh(n,134217728)}},Fl=function(n){if(n.tag===13){var s=eo(n),c=ps(n,s);if(c!==null){var d=cr();Ii(c,n,s,d)}kh(n,s)}},Nu=function(){return Tt},xu=function(n,s){var c=Tt;try{return Tt=n,s()}finally{Tt=c}},la=function(n,s,c){switch(s){case"input":if(Ot(n,c),s=c.name,c.type==="radio"&&s!=null){for(c=n;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<c.length;s++){var d=c[s];if(d!==n&&d.form===n.form){var T=sc(d);if(!T)throw Error(t(90));Ye(d),Ot(d,T)}}}break;case"textarea":lt(n,c);break;case"select":s=c.value,s!=null&&Ue(n,!!c.multiple,s,!1)}},yo=Ih,fa=Ko;var Jc={usingClientEntryPoint:!1,Events:[Yn,gt,sc,ki,Iu,Ih]},_l={findFiberByHostInstance:Vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rm={bundleType:_l.bundleType,version:_l.version,rendererPackageName:_l.rendererPackageName,rendererConfig:_l.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=bu(n),n===null?null:n.stateNode},findFiberByHostInstance:_l.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zc.isDisabled&&Zc.supportsFiber)try{wo=Zc.inject(rm),Pr=Zc}catch{}}return ti.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jc,ti.createPortal=function(n,s){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qc(s))throw Error(t(200));return tm(n,s,null,c)},ti.createRoot=function(n,s){if(!Qc(n))throw Error(t(299));var c=!1,d="",T=gp;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(T=s.onRecoverableError)),s=Ph(n,1,!1,null,null,c,!1,d,T),n[Cr]=s.current,Fs(n.nodeType===8?n.parentNode:n),new Oh(s)},ti.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=bu(s),n=n===null?null:n.stateNode,n},ti.flushSync=function(n){return Ko(n)},ti.hydrate=function(n,s,c){if(!Yc(s))throw Error(t(200));return Xc(null,n,s,!0,c)},ti.hydrateRoot=function(n,s,c){if(!Qc(n))throw Error(t(405));var d=c!=null&&c.hydratedSources||null,T=!1,N="",H=gp;if(c!=null&&(c.unstable_strictMode===!0&&(T=!0),c.identifierPrefix!==void 0&&(N=c.identifierPrefix),c.onRecoverableError!==void 0&&(H=c.onRecoverableError)),s=dp(s,null,n,1,c??null,T,!1,N,H),n[Cr]=s.current,Fs(n),d)for(n=0;n<d.length;n++)c=d[n],T=c._getVersion,T=T(c._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[c,T]:s.mutableSourceEagerHydrationData.push(c,T);return new vl(s)},ti.render=function(n,s,c){if(!Yc(s))throw Error(t(200));return Xc(null,n,s,!1,c)},ti.unmountComponentAtNode=function(n){if(!Yc(n))throw Error(t(40));return n._reactRootContainer?(Ko(function(){Xc(null,null,n,!1,function(){n._reactRootContainer=null,n[Cr]=null})}),!0):!1},ti.unstable_batchedUpdates=Ih,ti.unstable_renderSubtreeIntoContainer=function(n,s,c,d){if(!Yc(c))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return Xc(n,s,c,!1,d)},ti.version="18.3.1-next-f1338f8080-20240426",ti}var e1;function aw(){if(e1)return vm.exports;e1=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),vm.exports=yb(),vm.exports}var t1;function vb(){if(t1)return Ep;t1=1;var i=aw();return Ep.createRoot=i.createRoot,Ep.hydrateRoot=i.hydrateRoot,Ep}var _b=vb(),n1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw=function(i){const e=[];let t=0;for(let r=0;r<i.length;r++){let o=i.charCodeAt(r);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++r)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},Eb=function(i){const e=[];let t=0,r=0;for(;t<i.length;){const o=i[t++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const l=i[t++];e[r++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=i[t++],f=i[t++],p=i[t++],g=((o&7)<<18|(l&63)<<12|(f&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const l=i[t++],f=i[t++];e[r++]=String.fromCharCode((o&15)<<12|(l&63)<<6|f&63)}}return e.join("")},lw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<i.length;o+=3){const l=i[o],f=o+1<i.length,p=f?i[o+1]:0,g=o+2<i.length,E=g?i[o+2]:0,w=l>>2,v=(l&3)<<4|p>>4;let y=(p&15)<<2|E>>6,_=E&63;g||(_=64,f||(y=64)),r.push(t[w],t[v],t[y],t[_])}return r.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(uw(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):Eb(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<i.length;){const l=t[i.charAt(o++)],p=o<i.length?t[i.charAt(o)]:0;++o;const E=o<i.length?t[i.charAt(o)]:64;++o;const v=o<i.length?t[i.charAt(o)]:64;if(++o,l==null||p==null||E==null||v==null)throw new wb;const y=l<<2|p>>4;if(r.push(y),E!==64){const _=p<<4&240|E>>2;if(r.push(_),v!==64){const P=E<<6&192|v;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class wb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Tb=function(i){const e=uw(i);return lw.encodeByteArray(e,!0)},Fp=function(i){return Tb(i).replace(/\./g,"")},jv=function(i){try{return lw.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ib(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab=()=>Ib().__FIREBASE_DEFAULTS__,Sb=()=>{if(typeof process>"u"||typeof n1>"u")return;const i=n1.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},bb=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&jv(i[1]);return e&&JSON.parse(e)},ug=()=>{try{return Ab()||Sb()||bb()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Rb=i=>{var e,t;return(t=(e=ug())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[i]},Pb=i=>{const e=Rb(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},cw=()=>{var i;return(i=ug())===null||i===void 0?void 0:i.config},kb=i=>{var e;return(e=ug())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cb(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",o=i.iat||0,l=i.sub||i.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Fp(JSON.stringify(t)),Fp(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function Nb(){var i;const e=(i=ug())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function dw(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function pw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xb(){const i=cn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function Lb(){return!Nb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Db(){try{return typeof indexedDB=="object"}catch{return!1}}function Mb(){return new Promise((i,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(r),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb="FirebaseError";class bs extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Vb,Object.setPrototypeOf(this,bs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wu.prototype.create)}}class wu{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],f=l?Ub(l,r):"Error",p=`${this.serviceName}: ${f} (${o}).`;return new bs(o,p,r)}}function Ub(i,e){return i.replace(Fb,(t,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const Fb=/\{\$([^}]+)}/g;function qb(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function qp(i,e){if(i===e)return!0;const t=Object.keys(i),r=Object.keys(e);for(const o of t){if(!r.includes(o))return!1;const l=i[o],f=e[o];if(r1(l)&&r1(f)){if(!qp(l,f))return!1}else if(l!==f)return!1}for(const o of r)if(!t.includes(o))return!1;return!0}function r1(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _f(i){const e=[];for(const[t,r]of Object.entries(i))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Bb(i){const e={};return i.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,l]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function gw(i,e){const t=new jb(i,e);return t.subscribe.bind(t)}class jb{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let o;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");zb(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:r},o.next===void 0&&(o.next=wm),o.error===void 0&&(o.error=wm),o.complete===void 0&&(o.complete=wm);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zb(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function wm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(i){return i&&i._delegate?i._delegate:i}class ra{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Ob;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Wb(e))try{this.getOrInitializeService({instanceIdentifier:wl})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});r.resolve(l)}catch{}}}}clearInstance(e=wl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=wl){return this.instances.has(e)}getOptions(e=wl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[l,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(l);r===p&&f.resolve(o)}return o}onInit(e,t){var r;const o=this.normalizeInstanceIdentifier(t),l=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;l.add(e),this.onInitCallbacks.set(o,l);const f=this.instances.get(o);return f&&e(f,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const o of r)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Hb(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=wl){return this.component?this.component.multipleInstances?e:wl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Hb(i){return i===wl?void 0:i}function Wb(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new $b(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(St||(St={}));const Gb={debug:St.DEBUG,verbose:St.VERBOSE,info:St.INFO,warn:St.WARN,error:St.ERROR,silent:St.SILENT},Qb=St.INFO,Yb={[St.DEBUG]:"log",[St.VERBOSE]:"log",[St.INFO]:"info",[St.WARN]:"warn",[St.ERROR]:"error"},Xb=(i,e,...t)=>{if(e<i.logLevel)return;const r=new Date().toISOString(),o=Yb[e];if(o)console[o](`[${r}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class lg{constructor(e){this.name=e,this._logLevel=Qb,this._logHandler=Xb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in St))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Gb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,St.DEBUG,...e),this._logHandler(this,St.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,St.VERBOSE,...e),this._logHandler(this,St.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,St.INFO,...e),this._logHandler(this,St.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,St.WARN,...e),this._logHandler(this,St.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,St.ERROR,...e),this._logHandler(this,St.ERROR,...e)}}const Jb=(i,e)=>e.some(t=>i instanceof t);let i1,s1;function Zb(){return i1||(i1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eR(){return s1||(s1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const mw=new WeakMap,dv=new WeakMap,yw=new WeakMap,Tm=new WeakMap,zv=new WeakMap;function tR(i){const e=new Promise((t,r)=>{const o=()=>{i.removeEventListener("success",l),i.removeEventListener("error",f)},l=()=>{t(cu(i.result)),o()},f=()=>{r(i.error),o()};i.addEventListener("success",l),i.addEventListener("error",f)});return e.then(t=>{t instanceof IDBCursor&&mw.set(t,i)}).catch(()=>{}),zv.set(e,i),e}function nR(i){if(dv.has(i))return;const e=new Promise((t,r)=>{const o=()=>{i.removeEventListener("complete",l),i.removeEventListener("error",f),i.removeEventListener("abort",f)},l=()=>{t(),o()},f=()=>{r(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",l),i.addEventListener("error",f),i.addEventListener("abort",f)});dv.set(i,e)}let pv={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return dv.get(i);if(e==="objectStoreNames")return i.objectStoreNames||yw.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return cu(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function rR(i){pv=i(pv)}function iR(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=i.call(Im(this),e,...t);return yw.set(r,e.sort?e.sort():[e]),cu(r)}:eR().includes(i)?function(...e){return i.apply(Im(this),e),cu(mw.get(this))}:function(...e){return cu(i.apply(Im(this),e))}}function sR(i){return typeof i=="function"?iR(i):(i instanceof IDBTransaction&&nR(i),Jb(i,Zb())?new Proxy(i,pv):i)}function cu(i){if(i instanceof IDBRequest)return tR(i);if(Tm.has(i))return Tm.get(i);const e=sR(i);return e!==i&&(Tm.set(i,e),zv.set(e,i)),e}const Im=i=>zv.get(i);function oR(i,e,{blocked:t,upgrade:r,blocking:o,terminated:l}={}){const f=indexedDB.open(i,e),p=cu(f);return r&&f.addEventListener("upgradeneeded",g=>{r(cu(f.result),g.oldVersion,g.newVersion,cu(f.transaction),g)}),t&&f.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),p.then(g=>{l&&g.addEventListener("close",()=>l()),o&&g.addEventListener("versionchange",E=>o(E.oldVersion,E.newVersion,E))}).catch(()=>{}),p}const aR=["get","getKey","getAll","getAllKeys","count"],uR=["put","add","delete","clear"],Am=new Map;function o1(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Am.get(e))return Am.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,o=uR.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(o||aR.includes(t)))return;const l=async function(f,...p){const g=this.transaction(f,o?"readwrite":"readonly");let E=g.store;return r&&(E=E.index(p.shift())),(await Promise.all([E[t](...p),o&&g.done]))[0]};return Am.set(e,l),l}rR(i=>({...i,get:(e,t,r)=>o1(e,t)||i.get(e,t,r),has:(e,t)=>!!o1(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(cR(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function cR(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const gv="@firebase/app",a1="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia=new lg("@firebase/app"),fR="@firebase/app-compat",hR="@firebase/analytics-compat",dR="@firebase/analytics",pR="@firebase/app-check-compat",gR="@firebase/app-check",mR="@firebase/auth",yR="@firebase/auth-compat",vR="@firebase/database",_R="@firebase/data-connect",ER="@firebase/database-compat",wR="@firebase/functions",TR="@firebase/functions-compat",IR="@firebase/installations",AR="@firebase/installations-compat",SR="@firebase/messaging",bR="@firebase/messaging-compat",RR="@firebase/performance",PR="@firebase/performance-compat",kR="@firebase/remote-config",OR="@firebase/remote-config-compat",CR="@firebase/storage",NR="@firebase/storage-compat",xR="@firebase/firestore",LR="@firebase/vertexai",DR="@firebase/firestore-compat",MR="firebase",VR="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv="[DEFAULT]",UR={[gv]:"fire-core",[fR]:"fire-core-compat",[dR]:"fire-analytics",[hR]:"fire-analytics-compat",[gR]:"fire-app-check",[pR]:"fire-app-check-compat",[mR]:"fire-auth",[yR]:"fire-auth-compat",[vR]:"fire-rtdb",[_R]:"fire-data-connect",[ER]:"fire-rtdb-compat",[wR]:"fire-fn",[TR]:"fire-fn-compat",[IR]:"fire-iid",[AR]:"fire-iid-compat",[SR]:"fire-fcm",[bR]:"fire-fcm-compat",[RR]:"fire-perf",[PR]:"fire-perf-compat",[kR]:"fire-rc",[OR]:"fire-rc-compat",[CR]:"fire-gcs",[NR]:"fire-gcs-compat",[xR]:"fire-fst",[DR]:"fire-fst-compat",[LR]:"fire-vertex","fire-js":"fire-js",[MR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bp=new Map,FR=new Map,yv=new Map;function u1(i,e){try{i.container.addComponent(e)}catch(t){ia.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function pu(i){const e=i.name;if(yv.has(e))return ia.debug(`There were multiple attempts to register component ${e}.`),!1;yv.set(e,i);for(const t of Bp.values())u1(t,i);for(const t of FR.values())u1(t,i);return!0}function $v(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function ri(i){return i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fu=new wu("app","Firebase",qR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ra("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fu.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tu=VR;function vw(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const r=Object.assign({name:mv,automaticDataCollectionEnabled:!1},e),o=r.name;if(typeof o!="string"||!o)throw fu.create("bad-app-name",{appName:String(o)});if(t||(t=cw()),!t)throw fu.create("no-options");const l=Bp.get(o);if(l){if(qp(t,l.options)&&qp(r,l.config))return l;throw fu.create("duplicate-app",{appName:o})}const f=new Kb(o);for(const g of yv.values())f.addComponent(g);const p=new BR(t,r,f);return Bp.set(o,p),p}function _w(i=mv){const e=Bp.get(i);if(!e&&i===mv&&cw())return vw();if(!e)throw fu.create("no-app",{appName:i});return e}function io(i,e,t){var r;let o=(r=UR[i])!==null&&r!==void 0?r:i;t&&(o+=`-${t}`);const l=o.match(/\s|\//),f=e.match(/\s|\//);if(l||f){const p=[`Unable to register library "${o}" with version "${e}":`];l&&p.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&f&&p.push("and"),f&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ia.warn(p.join(" "));return}pu(new ra(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR="firebase-heartbeat-database",zR=1,Xh="firebase-heartbeat-store";let Sm=null;function Ew(){return Sm||(Sm=oR(jR,zR,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Xh)}catch(t){console.warn(t)}}}}).catch(i=>{throw fu.create("idb-open",{originalErrorMessage:i.message})})),Sm}async function $R(i){try{const t=(await Ew()).transaction(Xh),r=await t.objectStore(Xh).get(ww(i));return await t.done,r}catch(e){if(e instanceof bs)ia.warn(e.message);else{const t=fu.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ia.warn(t.message)}}}async function l1(i,e){try{const r=(await Ew()).transaction(Xh,"readwrite");await r.objectStore(Xh).put(e,ww(i)),await r.done}catch(t){if(t instanceof bs)ia.warn(t.message);else{const r=fu.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ia.warn(r.message)}}}function ww(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR=1024,WR=30*24*60*60*1e3;class KR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new QR(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=c1();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(f=>f.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(f=>{const p=new Date(f.date).valueOf();return Date.now()-p<=WR}),this._storage.overwrite(this._heartbeatsCache))}catch(r){ia.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=c1(),{heartbeatsToSend:r,unsentEntries:o}=GR(this._heartbeatsCache.heartbeats),l=Fp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return ia.warn(t),""}}}function c1(){return new Date().toISOString().substring(0,10)}function GR(i,e=HR){const t=[];let r=i.slice();for(const o of i){const l=t.find(f=>f.agent===o.agent);if(l){if(l.dates.push(o.date),f1(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),f1(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class QR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Db()?Mb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await $R(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return l1(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return l1(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function f1(i){return Fp(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YR(i){pu(new ra("platform-logger",e=>new lR(e),"PRIVATE")),pu(new ra("heartbeat",e=>new KR(e),"PRIVATE")),io(gv,a1,i),io(gv,a1,"esm2017"),io("fire-js","")}YR("");var XR="firebase",JR="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */io(XR,JR,"app");function ud(i,e){var t={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&e.indexOf(r)<0&&(t[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(i);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(i,r[o])&&(t[r[o]]=i[r[o]]);return t}const jp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const r=new cg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:o,data:l}=t.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const p=Array.from(f).map(async E=>E(t.origin,l)),g=await ZR(p);t.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:g})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eP(i="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,f;return new Promise((p,g)=>{const E=eP("",20);o.port1.start();const w=setTimeout(()=>{g(new Error("unsupported_event"))},r);f={messageChannel:o,onMessage(v){const y=v;if(y.data.eventId===E)switch(y.data.status){case"ack":clearTimeout(w),l=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),p(y.data.response);break;default:clearTimeout(w),clearTimeout(l),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:E,data:t},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1(){return window}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tw(){return typeof h1().WorkerGlobalScope<"u"&&typeof h1().importScripts=="function"}async function nP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rP(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function iP(){return Tw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw="firebaseLocalStorageDb",sP=1,zp="firebaseLocalStorage",Aw="fbase_key";class ld{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function fg(i,e){return i.transaction([zp],e?"readwrite":"readonly").objectStore(zp)}function oP(){const i=indexedDB.deleteDatabase(Iw);return new ld(i).toPromise()}function vv(){const i=indexedDB.open(Iw,sP);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const r=i.result;try{r.createObjectStore(zp,{keyPath:Aw})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const r=i.result;r.objectStoreNames.contains(zp)?e(r):(r.close(),await oP(),e(await vv()))})})}async function d1(i,e,t){const r=fg(i,!0).put({[Aw]:e,value:t});return new ld(r).toPromise()}async function aP(i,e){const t=fg(i,!1).get(e),r=await new ld(t).toPromise();return r===void 0?null:r.value}function p1(i,e){const t=fg(i,!0).delete(e);return new ld(t).toPromise()}const uP=800,lP=3;class Sw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await vv(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>lP)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Tw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cg._getInstance(iP()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await nP(),!this.activeServiceWorker)return;this.sender=new tP(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||rP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await vv();return await d1(e,jp,"1"),await p1(e,jp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>d1(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>aP(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>p1(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=fg(o,!1).getAll();return new ld(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Sw.type="LOCAL";const cP=Sw;function bw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const fP=bw,Rw=new wu("auth","Firebase",bw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p=new lg("@firebase/auth");function hP(i,...e){$p.logLevel<=St.WARN&&$p.warn(`Auth (${Tu}): ${i}`,...e)}function Pp(i,...e){$p.logLevel<=St.ERROR&&$p.error(`Auth (${Tu}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ao(i,...e){throw Hv(i,...e)}function kl(i,...e){return Hv(i,...e)}function Pw(i,e,t){const r=Object.assign(Object.assign({},fP()),{[e]:t});return new wu("auth","Firebase",r).create(e,{appName:i.name})}function Al(i){return Pw(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Hv(i,...e){if(typeof i!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=i.name),i._errorFactory.create(t,...r)}return Rw.create(i,...e)}function dt(i,e,...t){if(!i)throw Hv(e,...t)}function ea(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Pp(e),new Error(e)}function gu(i,e){i||ea(e)}function dP(){return g1()==="http:"||g1()==="https:"}function g1(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(dP()||dw()||"connection"in navigator)?navigator.onLine:!0}function gP(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mP=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,gu(t>e,"Short delay should be less than long delay!"),this.isMobile=fw()||pw()}get(){return pP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kw(i,e){gu(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ow=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ea("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ea("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ea("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP=new mP(3e4,6e4);function Wv(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function Ef(i,e,t,r,o={}){return Cw(i,o,async()=>{let l={},f={};r&&(e==="GET"?f=r:l={body:JSON.stringify(r)});const p=_f(Object.assign({key:i.config.apiKey},f)).slice(1),g=await i._getAdditionalHeaders();g["Content-Type"]="application/json",i.languageCode&&(g["X-Firebase-Locale"]=i.languageCode);const E=Object.assign({method:e,headers:g},l);return hw()||(E.referrerPolicy="no-referrer"),Ow.fetch()(Nw(i,i.config.apiHost,t,p),E)})}async function Cw(i,e,t){i._canInitEmulator=!1;const r=Object.assign(Object.assign({},yP),e);try{const o=new EP(i),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const f=await l.json();if("needConfirmation"in f)throw wp(i,"account-exists-with-different-credential",f);if(l.ok&&!("errorMessage"in f))return f;{const p=l.ok?f.errorMessage:f.error.message,[g,E]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw wp(i,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw wp(i,"email-already-in-use",f);if(g==="USER_DISABLED")throw wp(i,"user-disabled",f);const w=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(E)throw Pw(i,w,E);ao(i,w)}}catch(o){if(o instanceof bs)throw o;ao(i,"network-request-failed",{message:String(o)})}}async function _P(i,e,t,r,o={}){const l=await Ef(i,e,t,r,o);return"mfaPendingCredential"in l&&ao(i,"multi-factor-auth-required",{_serverResponse:l}),l}function Nw(i,e,t,r){const o=`${e}${t}?${r}`;return i.config.emulator?kw(i.config,o):`${i.config.apiScheme}://${o}`}let EP=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(kl(this.auth,"network-request-failed")),vP.get())})}};function wp(i,e,t){const r={appName:i.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const o=kl(i,e,r);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wP(i,e){return Ef(i,"POST","/v1/accounts:delete",e)}async function xw(i,e){return Ef(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bh(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function TP(i,e=!1){const t=ii(i),r=await t.getIdToken(e),o=Kv(r);dt(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,f=l==null?void 0:l.sign_in_provider;return{claims:o,token:r,authTime:Bh(bm(o.auth_time)),issuedAtTime:Bh(bm(o.iat)),expirationTime:Bh(bm(o.exp)),signInProvider:f||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function bm(i){return Number(i)*1e3}function Kv(i){const[e,t,r]=i.split(".");if(e===void 0||t===void 0||r===void 0)return Pp("JWT malformed, contained fewer than 3 sections"),null;try{const o=jv(t);return o?JSON.parse(o):(Pp("Failed to decode base64 JWT payload"),null)}catch(o){return Pp("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function m1(i){const e=Kv(i);return dt(e,"internal-error"),dt(typeof e.exp<"u","internal-error"),dt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jh(i,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof bs&&IP(r)&&i.auth.currentUser===i&&await i.auth.signOut(),r}}function IP({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let AP=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _v=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bh(this.lastLoginAt),this.creationTime=Bh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hp(i){var e;const t=i.auth,r=await i.getIdToken(),o=await Jh(i,xw(t,{idToken:r}));dt(o==null?void 0:o.users.length,t,"internal-error");const l=o.users[0];i._notifyReloadListener(l);const f=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?Lw(l.providerUserInfo):[],p=bP(i.providerData,f),g=i.isAnonymous,E=!(i.email&&l.passwordHash)&&!(p!=null&&p.length),w=g?E:!1,v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:p,metadata:new _v(l.createdAt,l.lastLoginAt),isAnonymous:w};Object.assign(i,v)}async function SP(i){const e=ii(i);await Hp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function bP(i,e){return[...i.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function Lw(i){return i.map(e=>{var{providerId:t}=e,r=ud(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RP(i,e){const t=await Cw(i,{},async()=>{const r=_f({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=i.config,f=Nw(i,o,"/v1/token",`key=${l}`),p=await i._getAdditionalHeaders();return p["Content-Type"]="application/x-www-form-urlencoded",Ow.fetch()(f,{method:"POST",headers:p,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function PP(i,e){return Ef(i,"POST","/v2/accounts:revokeToken",Wv(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rm=class Ev{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){dt(e.idToken,"internal-error"),dt(typeof e.idToken<"u","internal-error"),dt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):m1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){dt(e.length!==0,"internal-error");const t=m1(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(dt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:o,expiresIn:l}=await RP(e,t);this.updateTokensAndExpiration(r,o,Number(l))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:o,expirationTime:l}=t,f=new Ev;return r&&(dt(typeof r=="string","internal-error",{appName:e}),f.refreshToken=r),o&&(dt(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),l&&(dt(typeof l=="number","internal-error",{appName:e}),f.expirationTime=l),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ev,this.toJSON())}_performRefresh(){return ea("not implemented")}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tu(i,e){dt(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}let Wp=class xh{constructor(e){var{uid:t,auth:r,stsTokenManager:o}=e,l=ud(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new AP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new _v(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Jh(this,this.stsTokenManager.getToken(this.auth,e));return dt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return TP(this,e)}reload(){return SP(this)}_assign(e){this!==e&&(dt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new xh(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){dt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Hp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ri(this.auth.app))return Promise.reject(Al(this.auth));const e=await this.getIdToken();return await Jh(this,wP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,o,l,f,p,g,E,w;const v=(r=t.displayName)!==null&&r!==void 0?r:void 0,y=(o=t.email)!==null&&o!==void 0?o:void 0,_=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,P=(f=t.photoURL)!==null&&f!==void 0?f:void 0,S=(p=t.tenantId)!==null&&p!==void 0?p:void 0,A=(g=t._redirectEventId)!==null&&g!==void 0?g:void 0,b=(E=t.createdAt)!==null&&E!==void 0?E:void 0,R=(w=t.lastLoginAt)!==null&&w!==void 0?w:void 0,{uid:M,emailVerified:I,isAnonymous:q,providerData:$,stsTokenManager:L}=t;dt(M&&L,e,"internal-error");const O=Rm.fromJSON(this.name,L);dt(typeof M=="string",e,"internal-error"),tu(v,e.name),tu(y,e.name),dt(typeof I=="boolean",e,"internal-error"),dt(typeof q=="boolean",e,"internal-error"),tu(_,e.name),tu(P,e.name),tu(S,e.name),tu(A,e.name),tu(b,e.name),tu(R,e.name);const F=new xh({uid:M,auth:e,email:y,emailVerified:I,displayName:v,isAnonymous:q,photoURL:P,phoneNumber:_,tenantId:S,stsTokenManager:O,createdAt:b,lastLoginAt:R});return $&&Array.isArray($)&&(F.providerData=$.map(D=>Object.assign({},D))),A&&(F._redirectEventId=A),F}static async _fromIdTokenResponse(e,t,r=!1){const o=new Rm;o.updateFromServerResponse(t);const l=new xh({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Hp(l),l}static async _fromGetAccountInfoResponse(e,t,r){const o=t.users[0];dt(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?Lw(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),p=new Rm;p.updateFromIdToken(r);const g=new xh({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:f}),E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new _v(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(g,E),g}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1=new Map;function ro(i){gu(i instanceof Function,"Expected a class definition");let e=y1.get(i);return e?(gu(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,y1.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dw=class{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}};Dw.type="NONE";const v1=Dw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jh(i,e,t){return`firebase:${i}:${e}:${t}`}let _1=class kp{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:o,name:l}=this.auth;this.fullUserKey=jh(this.userKey,o.apiKey,l),this.fullPersistenceKey=jh("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Wp._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new kp(ro(v1),e,r);const o=(await Promise.all(t.map(async E=>{if(await E._isAvailable())return E}))).filter(E=>E);let l=o[0]||ro(v1);const f=jh(r,e.config.apiKey,e.name);let p=null;for(const E of t)try{const w=await E._get(f);if(w){const v=Wp._fromJSON(e,w);E!==l&&(p=v),l=E;break}}catch{}const g=o.filter(E=>E._shouldAllowMigration);return!l._shouldAllowMigration||!g.length?new kp(l,e,r):(l=g[0],p&&await l._set(f,p.toJSON()),await Promise.all(t.map(async E=>{if(E!==l)try{await E._remove(f)}catch{}})),new kp(l,e,r))}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Mw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(kP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Vw(e))return"Blackberry";if(Uw(e))return"Webos";if(OP(e))return"Safari";if((e.includes("chrome/")||CP(e))&&!e.includes("edge/"))return"Chrome";if(cd(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=i.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function kP(i=cn()){return/firefox\//i.test(i)}function OP(i=cn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function CP(i=cn()){return/crios\//i.test(i)}function Mw(i=cn()){return/iemobile/i.test(i)}function cd(i=cn()){return/android/i.test(i)}function Vw(i=cn()){return/blackberry/i.test(i)}function Uw(i=cn()){return/webos/i.test(i)}function Gv(i=cn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function NP(i=cn()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(i)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(i)}function xP(){return xb()&&document.documentMode===10}function LP(i=cn()){return Gv(i)||cd(i)||Uw(i)||Vw(i)||/windows phone/i.test(i)||Mw(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(i,e=[]){let t;switch(i){case"Browser":t=E1(cn());break;case"Worker":t=`${E1(cn())}-${i}`;break;default:t=i}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Tu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let DP=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=l=>new Promise((f,p)=>{try{const g=e(l);f(g)}catch(g){p(g)}});r.onAbort=t,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MP(i,e={}){return Ef(i,"GET","/v2/passwordPolicy",Wv(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VP=6;let UP=class{constructor(e){var t,r,o,l;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=f.minPasswordLength)!==null&&t!==void 0?t:VP,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,o,l,f,p;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,g),this.validatePasswordCharacterOptions(e,g),g.isValid&&(g.isValid=(t=g.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),g.isValid&&(g.isValid=(r=g.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),g.isValid&&(g.isValid=(o=g.containsLowercaseLetter)!==null&&o!==void 0?o:!0),g.isValid&&(g.isValid=(l=g.containsUppercaseLetter)!==null&&l!==void 0?l:!0),g.isValid&&(g.isValid=(f=g.containsNumericCharacter)!==null&&f!==void 0?f:!0),g.isValid&&(g.isValid=(p=g.containsNonAlphanumericCharacter)!==null&&p!==void 0?p:!0),g}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FP=class{constructor(e,t,r,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new w1(this),this.idTokenSubscription=new w1(this),this.beforeStateQueue=new DP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Rw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ro(t)),this._initializationPromise=this.queue(async()=>{var r,o;if(!this._deleted&&(this.persistenceManager=await _1.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await xw(this,{idToken:e}),r=await Wp._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(ri(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(p,p))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let o=r,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,p=o==null?void 0:o._redirectEventId,g=await this.tryRedirectSignIn(e);(!f||f===p)&&(g!=null&&g.user)&&(o=g.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return dt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Hp(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=gP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ri(this.app))return Promise.reject(Al(this));const t=e?ii(e):null;return t&&dt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&dt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ri(this.app)?Promise.reject(Al(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ri(this.app)?Promise.reject(Al(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ro(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await MP(this),t=new UP(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new wu("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await PP(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ro(e)||this._popupRedirectResolver;dt(t,this,"argument-error"),this.redirectPersistenceManager=await _1.create(this,[ro(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let f=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(dt(p,this,"internal-error"),p.then(()=>{f||l(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,r,o);return()=>{f=!0,g()}}else{const g=e.addObserver(t);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return dt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Fw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&hP(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}};function qw(i){return ii(i)}let w1=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=gw(t=>this.observer=t)}get next(){return dt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qP(i,e){const t=$v(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(qp(l,e??{}))return o;ao(o,"already-initialized")}return t.initialize({options:e})}function BP(i,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(ro);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ea("not implemented")}_getIdTokenResponse(e){return ea("not implemented")}_linkToIdToken(e,t){return ea("not implemented")}_getReauthenticationResolver(e){return ea("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uf(i,e){return _P(i,"POST","/v1/accounts:signInWithIdp",Wv(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jP="http://localhost";class bl extends Bw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new bl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ao("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o}=t,l=ud(t,["providerId","signInMethod"]);if(!r||!o)return null;const f=new bl(r,o);return f.idToken=l.idToken||void 0,f.accessToken=l.accessToken||void 0,f.secret=l.secret,f.nonce=l.nonce,f.pendingToken=l.pendingToken||null,f}_getIdTokenResponse(e){const t=this.buildRequest();return uf(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,uf(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,uf(e,t)}buildRequest(){const e={requestUri:jP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=_f(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd extends jw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru extends fd{constructor(){super("facebook.com")}static credential(e){return bl._fromParams({providerId:ru.PROVIDER_ID,signInMethod:ru.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ru.credentialFromTaggedObject(e)}static credentialFromError(e){return ru.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ru.credential(e.oauthAccessToken)}catch{return null}}}ru.FACEBOOK_SIGN_IN_METHOD="facebook.com";ru.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu extends fd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return bl._fromParams({providerId:iu.PROVIDER_ID,signInMethod:iu.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return iu.credentialFromTaggedObject(e)}static credentialFromError(e){return iu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return iu.credential(t,r)}catch{return null}}}iu.GOOGLE_SIGN_IN_METHOD="google.com";iu.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su extends fd{constructor(){super("github.com")}static credential(e){return bl._fromParams({providerId:su.PROVIDER_ID,signInMethod:su.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return su.credentialFromTaggedObject(e)}static credentialFromError(e){return su.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return su.credential(e.oauthAccessToken)}catch{return null}}}su.GITHUB_SIGN_IN_METHOD="github.com";su.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou extends fd{constructor(){super("twitter.com")}static credential(e,t){return bl._fromParams({providerId:ou.PROVIDER_ID,signInMethod:ou.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ou.credentialFromTaggedObject(e)}static credentialFromError(e){return ou.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return ou.credential(t,r)}catch{return null}}}ou.TWITTER_SIGN_IN_METHOD="twitter.com";ou.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qv=class wv{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,o=!1){const l=await Wp._fromIdTokenResponse(e,r,o),f=T1(r);return new wv({user:l,providerId:f,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const o=T1(r);return new wv({user:e,providerId:o,_tokenResponse:r,operationType:t})}};function T1(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp extends bs{constructor(e,t,r,o){var l;super(t.code,t.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Kp.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,o){return new Kp(e,t,r,o)}}function zw(i,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Kp._fromErrorAndOperation(i,l,e,r):l})}async function zP(i,e,t=!1){const r=await Jh(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return Qv._forOperation(i,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $P(i,e,t=!1){const{auth:r}=i;if(ri(r.app))return Promise.reject(Al(r));const o="reauthenticate";try{const l=await Jh(i,zw(r,o,e,i),t);dt(l.idToken,r,"internal-error");const f=Kv(l.idToken);dt(f,r,"internal-error");const{sub:p}=f;return dt(i.uid===p,r,"user-mismatch"),Qv._forOperation(i,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&ao(r,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HP(i,e,t=!1){if(ri(i.app))return Promise.reject(Al(i));const r="signIn",o=await zw(i,r,e),l=await Qv._fromIdTokenResponse(i,r,o);return t||await i._updateCurrentUser(l.user),l}var I1="@firebase/auth",A1="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let WP=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){dt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KP(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function GP(i){pu(new ra("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:f,authDomain:p}=r.options;dt(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:f,authDomain:p,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Fw(i)},E=new FP(r,o,l,g);return BP(E,t),E},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),pu(new ra("auth-internal",e=>{const t=qw(e.getProvider("auth").getImmediate());return(r=>new WP(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),io(I1,A1,KP(i)),io(I1,A1,"esm2017")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(jp,"1"),this.storage.removeItem(jp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QP=1e3,YP=10;class Hw extends $w{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=LP(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),o=this.localCache[t];r!==o&&e(t,o,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((f,p,g)=>{this.notifyListeners(f,g)});return}const r=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(r);!t&&this.localCache[r]===f||this.notifyListeners(r,f)},l=this.storage.getItem(r);xP()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,YP):o()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},QP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Hw.type="LOCAL";const XP=Hw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww extends $w{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Ww.type="SESSION";const JP=Ww;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZP(i,e){return e?ro(e):(dt(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv extends Bw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return uf(e,this._buildIdpRequest())}_linkToIdToken(e,t){return uf(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return uf(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ek(i){return HP(i.auth,new Yv(i),i.bypassAuthState)}function tk(i){const{auth:e,user:t}=i;return dt(t,e,"internal-error"),$P(t,new Yv(i),i.bypassAuthState)}async function nk(i){const{auth:e,user:t}=i;return dt(t,e,"internal-error"),zP(t,new Yv(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(e,t,r,o,l=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:o,tenantId:l,error:f,type:p}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:t,sessionId:r,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(E){this.reject(E)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ek;case"linkViaPopup":case"linkViaRedirect":return nk;case"reauthViaPopup":case"reauthViaRedirect":return tk;default:ao(this.auth,"internal-error")}}resolve(e){gu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ik="pendingRedirect",zh=new Map;class sk extends rk{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=zh.get(this.auth._key());if(!e){try{const r=await ok(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}zh.set(this.auth._key(),e)}return this.bypassAuthState||zh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ok(i,e){const t=ck(e),r=lk(i);if(!await r._isAvailable())return!1;const o=await r._get(t)==="true";return await r._remove(t),o}function ak(){zh.clear()}function uk(i,e){zh.set(i._key(),e)}function lk(i){return ro(i._redirectPersistence)}function ck(i){return jh(ik,i.config.apiKey,i.name)}async function fk(i,e,t=!1){if(ri(i.app))return Promise.reject(Al(i));const r=qw(i),o=ZP(r,e),f=await new sk(r,o,t).execute();return f&&!t&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk="__/auth/handler",dk="emulator/auth/handler",pk=encodeURIComponent("fac");async function gk(i,e,t,r,o,l){dt(i.config.authDomain,i,"auth-domain-config-required"),dt(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:r,v:Tu,eventId:o};if(e instanceof jw){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",qb(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,v]of Object.entries(l))f[w]=v}if(e instanceof fd){const w=e.getScopes().filter(v=>v!=="");w.length>0&&(f.scopes=w.join(","))}i.tenantId&&(f.tid=i.tenantId);const p=f;for(const w of Object.keys(p))p[w]===void 0&&delete p[w];const g=await i._getAppCheckToken(),E=g?`#${pk}=${encodeURIComponent(g)}`:"";return`${mk(i)}?${_f(p).slice(1)}${E}`}function mk({config:i}){return i.emulator?kw(i,dk):`https://${i.authDomain}/${hk}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rl(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yk(i,e={}){return Ef(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vk=2e3;async function _k(i,e,t){var r;const{BuildInfo:o}=Rl();gu(e.sessionId,"AuthEvent did not contain a session ID");const l=await Ak(e.sessionId),f={};return Gv()?f.ibi=o.packageName:cd()?f.apn=o.packageName:ao(i,"operation-not-supported-in-this-environment"),o.displayName&&(f.appDisplayName=o.displayName),f.sessionId=l,gk(i,t,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,f)}async function Ek(i){const{BuildInfo:e}=Rl(),t={};Gv()?t.iosBundleId=e.packageName:cd()?t.androidPackageName=e.packageName:ao(i,"operation-not-supported-in-this-environment"),await yk(i,t)}function wk(i){const{cordova:e}=Rl();return new Promise(t=>{e.plugins.browsertab.isAvailable(r=>{let o=null;r?e.plugins.browsertab.openUrl(i):o=e.InAppBrowser.open(i,NP()?"_blank":"_system","location=yes"),t(o)})})}async function Tk(i,e,t){const{cordova:r}=Rl();let o=()=>{};try{await new Promise((l,f)=>{let p=null;function g(){var v;l();const y=(v=r.plugins.browsertab)===null||v===void 0?void 0:v.close;typeof y=="function"&&y(),typeof(t==null?void 0:t.close)=="function"&&t.close()}function E(){p||(p=window.setTimeout(()=>{f(kl(i,"redirect-cancelled-by-user"))},vk))}function w(){(document==null?void 0:document.visibilityState)==="visible"&&E()}e.addPassiveListener(g),document.addEventListener("resume",E,!1),cd()&&document.addEventListener("visibilitychange",w,!1),o=()=>{e.removePassiveListener(g),document.removeEventListener("resume",E,!1),document.removeEventListener("visibilitychange",w,!1),p&&window.clearTimeout(p)}})}finally{o()}}function Ik(i){var e,t,r,o,l,f,p,g,E,w;const v=Rl();dt(typeof((e=v==null?void 0:v.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",i,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),dt(typeof((t=v==null?void 0:v.BuildInfo)===null||t===void 0?void 0:t.packageName)<"u",i,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),dt(typeof((l=(o=(r=v==null?void 0:v.cordova)===null||r===void 0?void 0:r.plugins)===null||o===void 0?void 0:o.browsertab)===null||l===void 0?void 0:l.openUrl)=="function",i,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),dt(typeof((g=(p=(f=v==null?void 0:v.cordova)===null||f===void 0?void 0:f.plugins)===null||p===void 0?void 0:p.browsertab)===null||g===void 0?void 0:g.isAvailable)=="function",i,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),dt(typeof((w=(E=v==null?void 0:v.cordova)===null||E===void 0?void 0:E.InAppBrowser)===null||w===void 0?void 0:w.open)=="function",i,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function Ak(i){const e=Sk(i),t=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(o=>o.toString(16).padStart(2,"0")).join("")}function Sk(i){if(gu(/[0-9a-zA-Z]+/.test(i),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(i);const e=new ArrayBuffer(i.length),t=new Uint8Array(e);for(let r=0;r<i.length;r++)t[r]=i.charCodeAt(r);return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bk=10*60*1e3;class Rk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Pk(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!Kw(e)){const o=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(kl(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=bk&&this.cachedEventUids.clear(),this.cachedEventUids.has(S1(e))}saveEventToCache(e){this.cachedEventUids.add(S1(e)),this.lastProcessedEventTime=Date.now()}}function S1(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function Kw({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Pk(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Kw(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kk=20;class Ok extends Rk{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function Ck(i,e,t=null){return{type:e,eventId:t,urlResponse:null,sessionId:Lk(),postBody:null,tenantId:i.tenantId,error:kl(i,"no-auth-event")}}function Nk(i,e){return Tv()._set(Iv(i),e)}async function b1(i){const e=await Tv()._get(Iv(i));return e&&await Tv()._remove(Iv(i)),e}function xk(i,e){var t,r;const o=Mk(e);if(o.includes("/__/auth/callback")){const l=Op(o),f=l.firebaseError?Dk(decodeURIComponent(l.firebaseError)):null,p=(r=(t=f==null?void 0:f.code)===null||t===void 0?void 0:t.split("auth/"))===null||r===void 0?void 0:r[1],g=p?kl(p):null;return g?{type:i.type,eventId:i.eventId,tenantId:i.tenantId,error:g,urlResponse:null,sessionId:null,postBody:null}:{type:i.type,eventId:i.eventId,tenantId:i.tenantId,sessionId:i.sessionId,urlResponse:o,postBody:null}}return null}function Lk(){const i=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let t=0;t<kk;t++){const r=Math.floor(Math.random()*e.length);i.push(e.charAt(r))}return i.join("")}function Tv(){return ro(XP)}function Iv(i){return jh("authEvent",i.config.apiKey,i.name)}function Dk(i){try{return JSON.parse(i)}catch{return null}}function Mk(i){const e=Op(i),t=e.link?decodeURIComponent(e.link):void 0,r=Op(t).link,o=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return Op(o).link||o||r||t||i}function Op(i){if(!(i!=null&&i.includes("?")))return{};const[e,...t]=i.split("?");return Bb(t.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vk=500;class Uk{constructor(){this._redirectPersistence=JP,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=fk,this._overrideRedirectResult=uk}async _initialize(e){const t=e._key();let r=this.eventManagers.get(t);return r||(r=new Ok(e),this.eventManagers.set(t,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){ao(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,r,o){Ik(e);const l=await this._initialize(e);await l.initialized(),l.resetRedirect(),ak(),await this._originValidation(e);const f=Ck(e,r,o);await Nk(e,f);const p=await _k(e,f,t),g=await wk(p);return Tk(e,l,g)}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Ek(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:r,handleOpenURL:o,BuildInfo:l}=Rl(),f=setTimeout(async()=>{await b1(e),t.onEvent(R1())},Vk),p=async w=>{clearTimeout(f);const v=await b1(e);let y=null;v&&(w!=null&&w.url)&&(y=xk(v,w.url)),t.onEvent(y||R1())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,p);const g=o,E=`${l.packageName.toLowerCase()}://`;Rl().handleOpenURL=async w=>{if(w.toLowerCase().startsWith(E)&&p({url:w}),typeof g=="function")try{g(w)}catch(v){console.error(v)}}}}const Fk=Uk;function R1(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:kl("no-auth-event")}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qk(i=_w()){const e=$v(i,"auth");return e.isInitialized()?e.getImmediate():qP(i,{persistence:cP,popupRedirectResolver:Fk})}GP("Cordova");var P1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Sl,Gw;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(L,O){function F(){}F.prototype=O.prototype,L.D=O.prototype,L.prototype=new F,L.prototype.constructor=L,L.C=function(D,k,U){for(var V=Array(arguments.length-2),J=2;J<arguments.length;J++)V[J-2]=arguments[J];return O.prototype[k].apply(D,V)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(L,O,F){F||(F=0);var D=Array(16);if(typeof O=="string")for(var k=0;16>k;++k)D[k]=O.charCodeAt(F++)|O.charCodeAt(F++)<<8|O.charCodeAt(F++)<<16|O.charCodeAt(F++)<<24;else for(k=0;16>k;++k)D[k]=O[F++]|O[F++]<<8|O[F++]<<16|O[F++]<<24;O=L.g[0],F=L.g[1],k=L.g[2];var U=L.g[3],V=O+(U^F&(k^U))+D[0]+3614090360&4294967295;O=F+(V<<7&4294967295|V>>>25),V=U+(k^O&(F^k))+D[1]+3905402710&4294967295,U=O+(V<<12&4294967295|V>>>20),V=k+(F^U&(O^F))+D[2]+606105819&4294967295,k=U+(V<<17&4294967295|V>>>15),V=F+(O^k&(U^O))+D[3]+3250441966&4294967295,F=k+(V<<22&4294967295|V>>>10),V=O+(U^F&(k^U))+D[4]+4118548399&4294967295,O=F+(V<<7&4294967295|V>>>25),V=U+(k^O&(F^k))+D[5]+1200080426&4294967295,U=O+(V<<12&4294967295|V>>>20),V=k+(F^U&(O^F))+D[6]+2821735955&4294967295,k=U+(V<<17&4294967295|V>>>15),V=F+(O^k&(U^O))+D[7]+4249261313&4294967295,F=k+(V<<22&4294967295|V>>>10),V=O+(U^F&(k^U))+D[8]+1770035416&4294967295,O=F+(V<<7&4294967295|V>>>25),V=U+(k^O&(F^k))+D[9]+2336552879&4294967295,U=O+(V<<12&4294967295|V>>>20),V=k+(F^U&(O^F))+D[10]+4294925233&4294967295,k=U+(V<<17&4294967295|V>>>15),V=F+(O^k&(U^O))+D[11]+2304563134&4294967295,F=k+(V<<22&4294967295|V>>>10),V=O+(U^F&(k^U))+D[12]+1804603682&4294967295,O=F+(V<<7&4294967295|V>>>25),V=U+(k^O&(F^k))+D[13]+4254626195&4294967295,U=O+(V<<12&4294967295|V>>>20),V=k+(F^U&(O^F))+D[14]+2792965006&4294967295,k=U+(V<<17&4294967295|V>>>15),V=F+(O^k&(U^O))+D[15]+1236535329&4294967295,F=k+(V<<22&4294967295|V>>>10),V=O+(k^U&(F^k))+D[1]+4129170786&4294967295,O=F+(V<<5&4294967295|V>>>27),V=U+(F^k&(O^F))+D[6]+3225465664&4294967295,U=O+(V<<9&4294967295|V>>>23),V=k+(O^F&(U^O))+D[11]+643717713&4294967295,k=U+(V<<14&4294967295|V>>>18),V=F+(U^O&(k^U))+D[0]+3921069994&4294967295,F=k+(V<<20&4294967295|V>>>12),V=O+(k^U&(F^k))+D[5]+3593408605&4294967295,O=F+(V<<5&4294967295|V>>>27),V=U+(F^k&(O^F))+D[10]+38016083&4294967295,U=O+(V<<9&4294967295|V>>>23),V=k+(O^F&(U^O))+D[15]+3634488961&4294967295,k=U+(V<<14&4294967295|V>>>18),V=F+(U^O&(k^U))+D[4]+3889429448&4294967295,F=k+(V<<20&4294967295|V>>>12),V=O+(k^U&(F^k))+D[9]+568446438&4294967295,O=F+(V<<5&4294967295|V>>>27),V=U+(F^k&(O^F))+D[14]+3275163606&4294967295,U=O+(V<<9&4294967295|V>>>23),V=k+(O^F&(U^O))+D[3]+4107603335&4294967295,k=U+(V<<14&4294967295|V>>>18),V=F+(U^O&(k^U))+D[8]+1163531501&4294967295,F=k+(V<<20&4294967295|V>>>12),V=O+(k^U&(F^k))+D[13]+2850285829&4294967295,O=F+(V<<5&4294967295|V>>>27),V=U+(F^k&(O^F))+D[2]+4243563512&4294967295,U=O+(V<<9&4294967295|V>>>23),V=k+(O^F&(U^O))+D[7]+1735328473&4294967295,k=U+(V<<14&4294967295|V>>>18),V=F+(U^O&(k^U))+D[12]+2368359562&4294967295,F=k+(V<<20&4294967295|V>>>12),V=O+(F^k^U)+D[5]+4294588738&4294967295,O=F+(V<<4&4294967295|V>>>28),V=U+(O^F^k)+D[8]+2272392833&4294967295,U=O+(V<<11&4294967295|V>>>21),V=k+(U^O^F)+D[11]+1839030562&4294967295,k=U+(V<<16&4294967295|V>>>16),V=F+(k^U^O)+D[14]+4259657740&4294967295,F=k+(V<<23&4294967295|V>>>9),V=O+(F^k^U)+D[1]+2763975236&4294967295,O=F+(V<<4&4294967295|V>>>28),V=U+(O^F^k)+D[4]+1272893353&4294967295,U=O+(V<<11&4294967295|V>>>21),V=k+(U^O^F)+D[7]+4139469664&4294967295,k=U+(V<<16&4294967295|V>>>16),V=F+(k^U^O)+D[10]+3200236656&4294967295,F=k+(V<<23&4294967295|V>>>9),V=O+(F^k^U)+D[13]+681279174&4294967295,O=F+(V<<4&4294967295|V>>>28),V=U+(O^F^k)+D[0]+3936430074&4294967295,U=O+(V<<11&4294967295|V>>>21),V=k+(U^O^F)+D[3]+3572445317&4294967295,k=U+(V<<16&4294967295|V>>>16),V=F+(k^U^O)+D[6]+76029189&4294967295,F=k+(V<<23&4294967295|V>>>9),V=O+(F^k^U)+D[9]+3654602809&4294967295,O=F+(V<<4&4294967295|V>>>28),V=U+(O^F^k)+D[12]+3873151461&4294967295,U=O+(V<<11&4294967295|V>>>21),V=k+(U^O^F)+D[15]+530742520&4294967295,k=U+(V<<16&4294967295|V>>>16),V=F+(k^U^O)+D[2]+3299628645&4294967295,F=k+(V<<23&4294967295|V>>>9),V=O+(k^(F|~U))+D[0]+4096336452&4294967295,O=F+(V<<6&4294967295|V>>>26),V=U+(F^(O|~k))+D[7]+1126891415&4294967295,U=O+(V<<10&4294967295|V>>>22),V=k+(O^(U|~F))+D[14]+2878612391&4294967295,k=U+(V<<15&4294967295|V>>>17),V=F+(U^(k|~O))+D[5]+4237533241&4294967295,F=k+(V<<21&4294967295|V>>>11),V=O+(k^(F|~U))+D[12]+1700485571&4294967295,O=F+(V<<6&4294967295|V>>>26),V=U+(F^(O|~k))+D[3]+2399980690&4294967295,U=O+(V<<10&4294967295|V>>>22),V=k+(O^(U|~F))+D[10]+4293915773&4294967295,k=U+(V<<15&4294967295|V>>>17),V=F+(U^(k|~O))+D[1]+2240044497&4294967295,F=k+(V<<21&4294967295|V>>>11),V=O+(k^(F|~U))+D[8]+1873313359&4294967295,O=F+(V<<6&4294967295|V>>>26),V=U+(F^(O|~k))+D[15]+4264355552&4294967295,U=O+(V<<10&4294967295|V>>>22),V=k+(O^(U|~F))+D[6]+2734768916&4294967295,k=U+(V<<15&4294967295|V>>>17),V=F+(U^(k|~O))+D[13]+1309151649&4294967295,F=k+(V<<21&4294967295|V>>>11),V=O+(k^(F|~U))+D[4]+4149444226&4294967295,O=F+(V<<6&4294967295|V>>>26),V=U+(F^(O|~k))+D[11]+3174756917&4294967295,U=O+(V<<10&4294967295|V>>>22),V=k+(O^(U|~F))+D[2]+718787259&4294967295,k=U+(V<<15&4294967295|V>>>17),V=F+(U^(k|~O))+D[9]+3951481745&4294967295,L.g[0]=L.g[0]+O&4294967295,L.g[1]=L.g[1]+(k+(V<<21&4294967295|V>>>11))&4294967295,L.g[2]=L.g[2]+k&4294967295,L.g[3]=L.g[3]+U&4294967295}r.prototype.u=function(L,O){O===void 0&&(O=L.length);for(var F=O-this.blockSize,D=this.B,k=this.h,U=0;U<O;){if(k==0)for(;U<=F;)o(this,L,U),U+=this.blockSize;if(typeof L=="string"){for(;U<O;)if(D[k++]=L.charCodeAt(U++),k==this.blockSize){o(this,D),k=0;break}}else for(;U<O;)if(D[k++]=L[U++],k==this.blockSize){o(this,D),k=0;break}}this.h=k,this.o+=O},r.prototype.v=function(){var L=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);L[0]=128;for(var O=1;O<L.length-8;++O)L[O]=0;var F=8*this.o;for(O=L.length-8;O<L.length;++O)L[O]=F&255,F/=256;for(this.u(L),L=Array(16),O=F=0;4>O;++O)for(var D=0;32>D;D+=8)L[F++]=this.g[O]>>>D&255;return L};function l(L,O){var F=p;return Object.prototype.hasOwnProperty.call(F,L)?F[L]:F[L]=O(L)}function f(L,O){this.h=O;for(var F=[],D=!0,k=L.length-1;0<=k;k--){var U=L[k]|0;D&&U==O||(F[k]=U,D=!1)}this.g=F}var p={};function g(L){return-128<=L&&128>L?l(L,function(O){return new f([O|0],0>O?-1:0)}):new f([L|0],0>L?-1:0)}function E(L){if(isNaN(L)||!isFinite(L))return v;if(0>L)return A(E(-L));for(var O=[],F=1,D=0;L>=F;D++)O[D]=L/F|0,F*=4294967296;return new f(O,0)}function w(L,O){if(L.length==0)throw Error("number format error: empty string");if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(L.charAt(0)=="-")return A(w(L.substring(1),O));if(0<=L.indexOf("-"))throw Error('number format error: interior "-" character');for(var F=E(Math.pow(O,8)),D=v,k=0;k<L.length;k+=8){var U=Math.min(8,L.length-k),V=parseInt(L.substring(k,k+U),O);8>U?(U=E(Math.pow(O,U)),D=D.j(U).add(E(V))):(D=D.j(F),D=D.add(E(V)))}return D}var v=g(0),y=g(1),_=g(16777216);i=f.prototype,i.m=function(){if(S(this))return-A(this).m();for(var L=0,O=1,F=0;F<this.g.length;F++){var D=this.i(F);L+=(0<=D?D:4294967296+D)*O,O*=4294967296}return L},i.toString=function(L){if(L=L||10,2>L||36<L)throw Error("radix out of range: "+L);if(P(this))return"0";if(S(this))return"-"+A(this).toString(L);for(var O=E(Math.pow(L,6)),F=this,D="";;){var k=I(F,O).g;F=b(F,k.j(O));var U=((0<F.g.length?F.g[0]:F.h)>>>0).toString(L);if(F=k,P(F))return U+D;for(;6>U.length;)U="0"+U;D=U+D}},i.i=function(L){return 0>L?0:L<this.g.length?this.g[L]:this.h};function P(L){if(L.h!=0)return!1;for(var O=0;O<L.g.length;O++)if(L.g[O]!=0)return!1;return!0}function S(L){return L.h==-1}i.l=function(L){return L=b(this,L),S(L)?-1:P(L)?0:1};function A(L){for(var O=L.g.length,F=[],D=0;D<O;D++)F[D]=~L.g[D];return new f(F,~L.h).add(y)}i.abs=function(){return S(this)?A(this):this},i.add=function(L){for(var O=Math.max(this.g.length,L.g.length),F=[],D=0,k=0;k<=O;k++){var U=D+(this.i(k)&65535)+(L.i(k)&65535),V=(U>>>16)+(this.i(k)>>>16)+(L.i(k)>>>16);D=V>>>16,U&=65535,V&=65535,F[k]=V<<16|U}return new f(F,F[F.length-1]&-2147483648?-1:0)};function b(L,O){return L.add(A(O))}i.j=function(L){if(P(this)||P(L))return v;if(S(this))return S(L)?A(this).j(A(L)):A(A(this).j(L));if(S(L))return A(this.j(A(L)));if(0>this.l(_)&&0>L.l(_))return E(this.m()*L.m());for(var O=this.g.length+L.g.length,F=[],D=0;D<2*O;D++)F[D]=0;for(D=0;D<this.g.length;D++)for(var k=0;k<L.g.length;k++){var U=this.i(D)>>>16,V=this.i(D)&65535,J=L.i(k)>>>16,ee=L.i(k)&65535;F[2*D+2*k]+=V*ee,R(F,2*D+2*k),F[2*D+2*k+1]+=U*ee,R(F,2*D+2*k+1),F[2*D+2*k+1]+=V*J,R(F,2*D+2*k+1),F[2*D+2*k+2]+=U*J,R(F,2*D+2*k+2)}for(D=0;D<O;D++)F[D]=F[2*D+1]<<16|F[2*D];for(D=O;D<2*O;D++)F[D]=0;return new f(F,0)};function R(L,O){for(;(L[O]&65535)!=L[O];)L[O+1]+=L[O]>>>16,L[O]&=65535,O++}function M(L,O){this.g=L,this.h=O}function I(L,O){if(P(O))throw Error("division by zero");if(P(L))return new M(v,v);if(S(L))return O=I(A(L),O),new M(A(O.g),A(O.h));if(S(O))return O=I(L,A(O)),new M(A(O.g),O.h);if(30<L.g.length){if(S(L)||S(O))throw Error("slowDivide_ only works with positive integers.");for(var F=y,D=O;0>=D.l(L);)F=q(F),D=q(D);var k=$(F,1),U=$(D,1);for(D=$(D,2),F=$(F,2);!P(D);){var V=U.add(D);0>=V.l(L)&&(k=k.add(F),U=V),D=$(D,1),F=$(F,1)}return O=b(L,k.j(O)),new M(k,O)}for(k=v;0<=L.l(O);){for(F=Math.max(1,Math.floor(L.m()/O.m())),D=Math.ceil(Math.log(F)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),U=E(F),V=U.j(O);S(V)||0<V.l(L);)F-=D,U=E(F),V=U.j(O);P(U)&&(U=y),k=k.add(U),L=b(L,V)}return new M(k,L)}i.A=function(L){return I(this,L).h},i.and=function(L){for(var O=Math.max(this.g.length,L.g.length),F=[],D=0;D<O;D++)F[D]=this.i(D)&L.i(D);return new f(F,this.h&L.h)},i.or=function(L){for(var O=Math.max(this.g.length,L.g.length),F=[],D=0;D<O;D++)F[D]=this.i(D)|L.i(D);return new f(F,this.h|L.h)},i.xor=function(L){for(var O=Math.max(this.g.length,L.g.length),F=[],D=0;D<O;D++)F[D]=this.i(D)^L.i(D);return new f(F,this.h^L.h)};function q(L){for(var O=L.g.length+1,F=[],D=0;D<O;D++)F[D]=L.i(D)<<1|L.i(D-1)>>>31;return new f(F,L.h)}function $(L,O){var F=O>>5;O%=32;for(var D=L.g.length-F,k=[],U=0;U<D;U++)k[U]=0<O?L.i(U+F)>>>O|L.i(U+F+1)<<32-O:L.i(U+F);return new f(k,L.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Gw=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=E,f.fromString=w,Sl=f}).apply(typeof P1<"u"?P1:typeof self<"u"?self:typeof window<"u"?window:{});var Tp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qw,Lh,Yw,Cp,Av,Xw,Jw,Zw;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,C,j){return h==Array.prototype||h==Object.prototype||(h[C]=j.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Tp=="object"&&Tp];for(var C=0;C<h.length;++C){var j=h[C];if(j&&j.Math==Math)return j}throw Error("Cannot find global object")}var r=t(this);function o(h,C){if(C)e:{var j=r;h=h.split(".");for(var G=0;G<h.length-1;G++){var ye=h[G];if(!(ye in j))break e;j=j[ye]}h=h[h.length-1],G=j[h],C=C(G),C!=G&&C!=null&&e(j,h,{configurable:!0,writable:!0,value:C})}}function l(h,C){h instanceof String&&(h+="");var j=0,G=!1,ye={next:function(){if(!G&&j<h.length){var Te=j++;return{value:C(Te,h[Te]),done:!1}}return G=!0,{done:!0,value:void 0}}};return ye[Symbol.iterator]=function(){return ye},ye}o("Array.prototype.values",function(h){return h||function(){return l(this,function(C,j){return j})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},p=this||self;function g(h){var C=typeof h;return C=C!="object"?C:h?Array.isArray(h)?"array":C:"null",C=="array"||C=="object"&&typeof h.length=="number"}function E(h){var C=typeof h;return C=="object"&&h!=null||C=="function"}function w(h,C,j){return h.call.apply(h.bind,arguments)}function v(h,C,j){if(!h)throw Error();if(2<arguments.length){var G=Array.prototype.slice.call(arguments,2);return function(){var ye=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ye,G),h.apply(C,ye)}}return function(){return h.apply(C,arguments)}}function y(h,C,j){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:v,y.apply(null,arguments)}function _(h,C){var j=Array.prototype.slice.call(arguments,1);return function(){var G=j.slice();return G.push.apply(G,arguments),h.apply(this,G)}}function P(h,C){function j(){}j.prototype=C.prototype,h.aa=C.prototype,h.prototype=new j,h.prototype.constructor=h,h.Qb=function(G,ye,Te){for(var Fe=Array(arguments.length-2),Bt=2;Bt<arguments.length;Bt++)Fe[Bt-2]=arguments[Bt];return C.prototype[ye].apply(G,Fe)}}function S(h){const C=h.length;if(0<C){const j=Array(C);for(let G=0;G<C;G++)j[G]=h[G];return j}return[]}function A(h,C){for(let j=1;j<arguments.length;j++){const G=arguments[j];if(g(G)){const ye=h.length||0,Te=G.length||0;h.length=ye+Te;for(let Fe=0;Fe<Te;Fe++)h[ye+Fe]=G[Fe]}else h.push(G)}}class b{constructor(C,j){this.i=C,this.j=j,this.h=0,this.g=null}get(){let C;return 0<this.h?(this.h--,C=this.g,this.g=C.next,C.next=null):C=this.i(),C}}function R(h){return/^[\s\xa0]*$/.test(h)}function M(){var h=p.navigator;return h&&(h=h.userAgent)?h:""}function I(h){return I[" "](h),h}I[" "]=function(){};var q=M().indexOf("Gecko")!=-1&&!(M().toLowerCase().indexOf("webkit")!=-1&&M().indexOf("Edge")==-1)&&!(M().indexOf("Trident")!=-1||M().indexOf("MSIE")!=-1)&&M().indexOf("Edge")==-1;function $(h,C,j){for(const G in h)C.call(j,h[G],G,h)}function L(h,C){for(const j in h)C.call(void 0,h[j],j,h)}function O(h){const C={};for(const j in h)C[j]=h[j];return C}const F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(h,C){let j,G;for(let ye=1;ye<arguments.length;ye++){G=arguments[ye];for(j in G)h[j]=G[j];for(let Te=0;Te<F.length;Te++)j=F[Te],Object.prototype.hasOwnProperty.call(G,j)&&(h[j]=G[j])}}function k(h){var C=1;h=h.split(":");const j=[];for(;0<C&&h.length;)j.push(h.shift()),C--;return h.length&&j.push(h.join(":")),j}function U(h){p.setTimeout(()=>{throw h},0)}function V(){var h=re;let C=null;return h.g&&(C=h.g,h.g=h.g.next,h.g||(h.h=null),C.next=null),C}class J{constructor(){this.h=this.g=null}add(C,j){const G=ee.get();G.set(C,j),this.h?this.h.next=G:this.g=G,this.h=G}}var ee=new b(()=>new fe,h=>h.reset());class fe{constructor(){this.next=this.g=this.h=null}set(C,j){this.h=C,this.g=j,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,de=!1,re=new J,X=()=>{const h=p.Promise.resolve(void 0);ce=()=>{h.then(B)}};var B=()=>{for(var h;h=V();){try{h.h.call(h.g)}catch(j){U(j)}var C=ee;C.j(h),100>C.h&&(C.h++,h.next=C.g,C.g=h)}de=!1};function W(){this.s=this.s,this.C=this.C}W.prototype.s=!1,W.prototype.ma=function(){this.s||(this.s=!0,this.N())},W.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Z(h,C){this.type=h,this.g=this.target=C,this.defaultPrevented=!1}Z.prototype.h=function(){this.defaultPrevented=!0};var ue=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var h=!1,C=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const j=()=>{};p.addEventListener("test",j,C),p.removeEventListener("test",j,C)}catch{}return h}();function se(h,C){if(Z.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var j=this.type=h.type,G=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=C,C=h.relatedTarget){if(q){e:{try{I(C.nodeName);var ye=!0;break e}catch{}ye=!1}ye||(C=null)}}else j=="mouseover"?C=h.fromElement:j=="mouseout"&&(C=h.toElement);this.relatedTarget=C,G?(this.clientX=G.clientX!==void 0?G.clientX:G.pageX,this.clientY=G.clientY!==void 0?G.clientY:G.pageY,this.screenX=G.screenX||0,this.screenY=G.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Y[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&se.aa.h.call(this)}}P(se,Z);var Y={2:"touch",3:"pen",4:"mouse"};se.prototype.h=function(){se.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ie="closure_listenable_"+(1e6*Math.random()|0),pe=0;function me(h,C,j,G,ye){this.listener=h,this.proxy=null,this.src=C,this.type=j,this.capture=!!G,this.ha=ye,this.key=++pe,this.da=this.fa=!1}function Se(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function qe(h){this.src=h,this.g={},this.h=0}qe.prototype.add=function(h,C,j,G,ye){var Te=h.toString();h=this.g[Te],h||(h=this.g[Te]=[],this.h++);var Fe=Je(h,C,G,ye);return-1<Fe?(C=h[Fe],j||(C.fa=!1)):(C=new me(C,this.src,Te,!!G,ye),C.fa=j,h.push(C)),C};function Ye(h,C){var j=C.type;if(j in h.g){var G=h.g[j],ye=Array.prototype.indexOf.call(G,C,void 0),Te;(Te=0<=ye)&&Array.prototype.splice.call(G,ye,1),Te&&(Se(C),h.g[j].length==0&&(delete h.g[j],h.h--))}}function Je(h,C,j,G){for(var ye=0;ye<h.length;++ye){var Te=h[ye];if(!Te.da&&Te.listener==C&&Te.capture==!!j&&Te.ha==G)return ye}return-1}var Xe="closure_lm_"+(1e6*Math.random()|0),yt={};function mn(h,C,j,G,ye){if(Array.isArray(C)){for(var Te=0;Te<C.length;Te++)mn(h,C[Te],j,G,ye);return null}return j=ut(j),h&&h[ie]?h.K(C,j,E(G)?!!G.capture:!1,ye):Ot(h,C,j,!1,G,ye)}function Ot(h,C,j,G,ye,Te){if(!C)throw Error("Invalid event type");var Fe=E(ye)?!!ye.capture:!!ye,Bt=st(h);if(Bt||(h[Xe]=Bt=new qe(h)),j=Bt.add(C,j,G,Fe,Te),j.proxy)return j;if(G=Ie(),j.proxy=G,G.src=h,G.listener=j,h.addEventListener)ue||(ye=Fe),ye===void 0&&(ye=!1),h.addEventListener(C.toString(),G,ye);else if(h.attachEvent)h.attachEvent(Ue(C.toString()),G);else if(h.addListener&&h.removeListener)h.addListener(G);else throw Error("addEventListener and attachEvent are unavailable.");return j}function Ie(){function h(j){return C.call(h.src,h.listener,j)}const C=Oe;return h}function be(h,C,j,G,ye){if(Array.isArray(C))for(var Te=0;Te<C.length;Te++)be(h,C[Te],j,G,ye);else G=E(G)?!!G.capture:!!G,j=ut(j),h&&h[ie]?(h=h.i,C=String(C).toString(),C in h.g&&(Te=h.g[C],j=Je(Te,j,G,ye),-1<j&&(Se(Te[j]),Array.prototype.splice.call(Te,j,1),Te.length==0&&(delete h.g[C],h.h--)))):h&&(h=st(h))&&(C=h.g[C.toString()],h=-1,C&&(h=Je(C,j,G,ye)),(j=-1<h?C[h]:null)&&Ve(j))}function Ve(h){if(typeof h!="number"&&h&&!h.da){var C=h.src;if(C&&C[ie])Ye(C.i,h);else{var j=h.type,G=h.proxy;C.removeEventListener?C.removeEventListener(j,G,h.capture):C.detachEvent?C.detachEvent(Ue(j),G):C.addListener&&C.removeListener&&C.removeListener(G),(j=st(C))?(Ye(j,h),j.h==0&&(j.src=null,C[Xe]=null)):Se(h)}}}function Ue(h){return h in yt?yt[h]:yt[h]="on"+h}function Oe(h,C){if(h.da)h=!0;else{C=new se(C,this);var j=h.listener,G=h.ha||h.src;h.fa&&Ve(h),h=j.call(G,C)}return h}function st(h){return h=h[Xe],h instanceof qe?h:null}var lt="__closure_events_fn_"+(1e9*Math.random()>>>0);function ut(h){return typeof h=="function"?h:(h[lt]||(h[lt]=function(C){return h.handleEvent(C)}),h[lt])}function Dt(){W.call(this),this.i=new qe(this),this.M=this,this.F=null}P(Dt,W),Dt.prototype[ie]=!0,Dt.prototype.removeEventListener=function(h,C,j,G){be(this,h,C,j,G)};function Ct(h,C){var j,G=h.F;if(G)for(j=[];G;G=G.F)j.push(G);if(h=h.M,G=C.type||C,typeof C=="string")C=new Z(C,h);else if(C instanceof Z)C.target=C.target||h;else{var ye=C;C=new Z(G,h),D(C,ye)}if(ye=!0,j)for(var Te=j.length-1;0<=Te;Te--){var Fe=C.g=j[Te];ye=Et(Fe,G,!0,C)&&ye}if(Fe=C.g=h,ye=Et(Fe,G,!0,C)&&ye,ye=Et(Fe,G,!1,C)&&ye,j)for(Te=0;Te<j.length;Te++)Fe=C.g=j[Te],ye=Et(Fe,G,!1,C)&&ye}Dt.prototype.N=function(){if(Dt.aa.N.call(this),this.i){var h=this.i,C;for(C in h.g){for(var j=h.g[C],G=0;G<j.length;G++)Se(j[G]);delete h.g[C],h.h--}}this.F=null},Dt.prototype.K=function(h,C,j,G){return this.i.add(String(h),C,!1,j,G)},Dt.prototype.L=function(h,C,j,G){return this.i.add(String(h),C,!0,j,G)};function Et(h,C,j,G){if(C=h.i.g[String(C)],!C)return!0;C=C.concat();for(var ye=!0,Te=0;Te<C.length;++Te){var Fe=C[Te];if(Fe&&!Fe.da&&Fe.capture==j){var Bt=Fe.listener,An=Fe.ha||Fe.src;Fe.fa&&Ye(h.i,Fe),ye=Bt.call(An,G)!==!1&&ye}}return ye&&!G.defaultPrevented}function Xi(h,C,j){if(typeof h=="function")j&&(h=y(h,j));else if(h&&typeof h.handleEvent=="function")h=y(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(C)?-1:p.setTimeout(h,C||0)}function qt(h){h.g=Xi(()=>{h.g=null,h.i&&(h.i=!1,qt(h))},h.l);const C=h.h;h.h=null,h.m.apply(null,C)}class Cn extends W{constructor(C,j){super(),this.m=C,this.l=j,this.h=null,this.i=!1,this.g=null}j(C){this.h=arguments,this.g?this.i=!0:qt(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ji(h){W.call(this),this.h=h,this.g={}}P(Ji,W);var co=[];function fo(h){$(h.g,function(C,j){this.g.hasOwnProperty(j)&&Ve(C)},h),h.g={}}Ji.prototype.N=function(){Ji.aa.N.call(this),fo(this)},Ji.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ho=p.JSON.stringify,po=p.JSON.parse,go=class{stringify(h){return p.JSON.stringify(h,void 0)}parse(h){return p.JSON.parse(h,void 0)}};function mo(){}mo.prototype.h=null;function ua(h){return h.h||(h.h=h.i())}function la(){}var br={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function si(){Z.call(this,"d")}P(si,Z);function ca(){Z.call(this,"c")}P(ca,Z);var ki={},Iu=null;function yo(){return Iu=Iu||new Dt}ki.La="serverreachability";function fa(h){Z.call(this,ki.La,h)}P(fa,Z);function Zi(h){const C=yo();Ct(C,new fa(C))}ki.STAT_EVENT="statevent";function Au(h,C){Z.call(this,ki.STAT_EVENT,h),this.stat=C}P(Au,Z);function fn(h){const C=yo();Ct(C,new Au(C,h))}ki.Ma="timingevent";function Rs(h,C){Z.call(this,ki.Ma,h),this.size=C}P(Rs,Z);function oi(h,C){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){h()},C)}function es(){this.g=!0}es.prototype.xa=function(){this.g=!1};function vo(h,C,j,G,ye,Te){h.info(function(){if(h.g)if(Te)for(var Fe="",Bt=Te.split("&"),An=0;An<Bt.length;An++){var Rt=Bt[An].split("=");if(1<Rt.length){var jt=Rt[0];Rt=Rt[1];var an=jt.split("_");Fe=2<=an.length&&an[1]=="type"?Fe+(jt+"="+Rt+"&"):Fe+(jt+"=redacted&")}}else Fe=null;else Fe=Te;return"XMLHTTP REQ ("+G+") [attempt "+ye+"]: "+C+`
`+j+`
`+Fe})}function ha(h,C,j,G,ye,Te,Fe){h.info(function(){return"XMLHTTP RESP ("+G+") [ attempt "+ye+"]: "+C+`
`+j+`
`+Te+" "+Fe})}function ai(h,C,j,G){h.info(function(){return"XMLHTTP TEXT ("+C+"): "+bf(h,j)+(G?" "+G:"")})}function Su(h,C){h.info(function(){return"TIMEOUT: "+C})}es.prototype.info=function(){};function bf(h,C){if(!h.g)return C;if(!C)return null;try{var j=JSON.parse(C);if(j){for(h=0;h<j.length;h++)if(Array.isArray(j[h])){var G=j[h];if(!(2>G.length)){var ye=G[1];if(Array.isArray(ye)&&!(1>ye.length)){var Te=ye[0];if(Te!="noop"&&Te!="stop"&&Te!="close")for(var Fe=1;Fe<ye.length;Fe++)ye[Fe]=""}}}}return ho(j)}catch{return C}}var da={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ll={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ui;function Ps(){}P(Ps,mo),Ps.prototype.g=function(){return new XMLHttpRequest},Ps.prototype.i=function(){return{}},ui=new Ps;function li(h,C,j,G){this.j=h,this.i=C,this.l=j,this.R=G||1,this.U=new Ji(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Dl}function Dl(){this.i=null,this.g="",this.h=!1}var bu={},pa={};function ga(h,C,j){h.L=1,h.v=Ni(pr(C)),h.m=j,h.P=!0,Ru(h,null)}function Ru(h,C){h.F=Date.now(),zt(h),h.A=pr(h.v);var j=h.A,G=h.R;Array.isArray(G)||(G=[String(G)]),rs(j.i,"t",G),h.C=0,j=h.j.J,h.h=new Dl,h.g=Hl(h.j,j?C:null,!h.m),0<h.O&&(h.M=new Cn(y(h.Y,h,h.g),h.O)),C=h.U,j=h.g,G=h.ca;var ye="readystatechange";Array.isArray(ye)||(ye&&(co[0]=ye.toString()),ye=co);for(var Te=0;Te<ye.length;Te++){var Fe=mn(j,ye[Te],G||C.handleEvent,!1,C.h||C);if(!Fe)break;C.g[Fe.key]=Fe}C=h.H?O(h.H):{},h.m?(h.u||(h.u="POST"),C["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,C)):(h.u="GET",h.g.ea(h.A,h.u,null,C)),Zi(),vo(h.i,h.u,h.A,h.l,h.R,h.m)}li.prototype.ca=function(h){h=h.target;const C=this.M;C&&yn(h)==3?C.j():this.Y(h)},li.prototype.Y=function(h){try{if(h==this.g)e:{const an=yn(this.g);var C=this.g.Ba();const Gn=this.g.Z();if(!(3>an)&&(an!=3||this.g&&(this.h.h||this.g.oa()||Ea(this.g)))){this.J||an!=4||C==7||(C==8||0>=Gn?Zi(3):Zi(2)),Eo(this);var j=this.g.Z();this.X=j;t:if(_o(this)){var G=Ea(this.g);h="";var ye=G.length,Te=yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Rr(this),ks(this);var Fe="";break t}this.h.i=new p.TextDecoder}for(C=0;C<ye;C++)this.h.h=!0,h+=this.h.i.decode(G[C],{stream:!(Te&&C==ye-1)});G.length=0,this.h.g+=h,this.C=0,Fe=this.h.g}else Fe=this.g.oa();if(this.o=j==200,ha(this.i,this.u,this.A,this.l,this.R,an,j),this.o){if(this.T&&!this.K){t:{if(this.g){var Bt,An=this.g;if((Bt=An.g?An.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(Bt)){var Rt=Bt;break t}}Rt=null}if(j=Rt)ai(this.i,this.l,j,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ma(this,j);else{this.o=!1,this.s=3,fn(12),Rr(this),ks(this);break e}}if(this.P){j=!0;let gr;for(;!this.J&&this.C<Fe.length;)if(gr=Rf(this,Fe),gr==pa){an==4&&(this.s=4,fn(14),j=!1),ai(this.i,this.l,null,"[Incomplete Response]");break}else if(gr==bu){this.s=4,fn(15),ai(this.i,this.l,Fe,"[Invalid Chunk]"),j=!1;break}else ai(this.i,this.l,gr,null),ma(this,gr);if(_o(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),an!=4||Fe.length!=0||this.h.h||(this.s=1,fn(16),j=!1),this.o=this.o&&j,!j)ai(this.i,this.l,Fe,"[Invalid Chunked Response]"),Rr(this),ks(this);else if(0<Fe.length&&!this.W){this.W=!0;var jt=this.j;jt.g==this&&jt.ba&&!jt.M&&(jt.j.info("Great, no buffering proxy detected. Bytes received: "+Fe.length),Fr(jt),jt.M=!0,fn(11))}}else ai(this.i,this.l,Fe,null),ma(this,Fe);an==4&&Rr(this),this.o&&!this.J&&(an==4?Ht(this.j,this):(this.o=!1,zt(this)))}else Ds(this.g),j==400&&0<Fe.indexOf("Unknown SID")?(this.s=3,fn(12)):(this.s=0,fn(13)),Rr(this),ks(this)}}}catch{}finally{}};function _o(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Rf(h,C){var j=h.C,G=C.indexOf(`
`,j);return G==-1?pa:(j=Number(C.substring(j,G)),isNaN(j)?bu:(G+=1,G+j>C.length?pa:(C=C.slice(G,G+j),h.C=G+j,C)))}li.prototype.cancel=function(){this.J=!0,Rr(this)};function zt(h){h.S=Date.now()+h.I,Ml(h,h.I)}function Ml(h,C){if(h.B!=null)throw Error("WatchDog timer not null");h.B=oi(y(h.ba,h),C)}function Eo(h){h.B&&(p.clearTimeout(h.B),h.B=null)}li.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Su(this.i,this.A),this.L!=2&&(Zi(),fn(17)),Rr(this),this.s=2,ks(this)):Ml(this,this.S-h)};function ks(h){h.j.G==0||h.J||Ht(h.j,h)}function Rr(h){Eo(h);var C=h.M;C&&typeof C.ma=="function"&&C.ma(),h.M=null,fo(h.U),h.g&&(C=h.g,h.g=null,C.abort(),C.ma())}function ma(h,C){try{var j=h.j;if(j.G!=0&&(j.g==h||ir(j.h,h))){if(!h.K&&ir(j.h,h)&&j.G==3){try{var G=j.Da.g.parse(C)}catch{G=null}if(Array.isArray(G)&&G.length==3){var ye=G;if(ye[0]==0){e:if(!j.u){if(j.g)if(j.g.F+3e3<h.F)Ms(j),Ur(j);else break e;Po(j),fn(18)}}else j.za=ye[1],0<j.za-j.T&&37500>ye[2]&&j.F&&j.v==0&&!j.C&&(j.C=oi(y(j.Za,j),6e3));if(1>=Vl(j.h)&&j.ca){try{j.ca()}catch{}j.ca=void 0}}else gi(j,11)}else if((h.K||j.g==h)&&Ms(j),!R(C))for(ye=j.Da.g.parse(C),C=0;C<ye.length;C++){let Rt=ye[C];if(j.T=Rt[0],Rt=Rt[1],j.G==2)if(Rt[0]=="c"){j.K=Rt[1],j.ia=Rt[2];const jt=Rt[3];jt!=null&&(j.la=jt,j.j.info("VER="+j.la));const an=Rt[4];an!=null&&(j.Aa=an,j.j.info("SVER="+j.Aa));const Gn=Rt[5];Gn!=null&&typeof Gn=="number"&&0<Gn&&(G=1.5*Gn,j.L=G,j.j.info("backChannelRequestTimeoutMs_="+G)),G=j;const gr=h.g;if(gr){const Vs=gr.g?gr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vs){var Te=G.h;Te.g||Vs.indexOf("spdy")==-1&&Vs.indexOf("quic")==-1&&Vs.indexOf("h2")==-1||(Te.j=Te.l,Te.g=new Set,Te.h&&(ya(Te,Te.h),Te.h=null))}if(G.D){const Aa=gr.g?gr.g.getResponseHeader("X-HTTP-Session-Id"):null;Aa&&(G.ya=Aa,Kt(G.I,G.D,Aa))}}j.G=3,j.l&&j.l.ua(),j.ba&&(j.R=Date.now()-h.F,j.j.info("Handshake RTT: "+j.R+"ms")),G=j;var Fe=h;if(G.qa=Ta(G,G.J?G.ia:null,G.W),Fe.K){ku(G.h,Fe);var Bt=Fe,An=G.L;An&&(Bt.I=An),Bt.B&&(Eo(Bt),zt(Bt)),G.g=Fe}else Ro(G);0<j.i.length&&di(j)}else Rt[0]!="stop"&&Rt[0]!="close"||gi(j,7);else j.G==3&&(Rt[0]=="stop"||Rt[0]=="close"?Rt[0]=="stop"?gi(j,7):Nn(j):Rt[0]!="noop"&&j.l&&j.l.ta(Rt),j.v=0)}}Zi(4)}catch{}}var Pu=class{constructor(h,C){this.g=h,this.map=C}};function wo(h){this.l=h||10,p.PerformanceNavigationTiming?(h=p.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Pr(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Vl(h){return h.h?1:h.g?h.g.size:0}function ir(h,C){return h.h?h.h==C:h.g?h.g.has(C):!1}function ya(h,C){h.g?h.g.add(C):h.h=C}function ku(h,C){h.h&&h.h==C?h.h=null:h.g&&h.g.has(C)&&h.g.delete(C)}wo.prototype.cancel=function(){if(this.i=Ou(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Ou(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let C=h.i;for(const j of h.g.values())C=C.concat(j.D);return C}return S(h.i)}function Os(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(g(h)){for(var C=[],j=h.length,G=0;G<j;G++)C.push(h[G]);return C}C=[],j=0;for(G in h)C[j++]=h[G];return C}function va(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(g(h)||typeof h=="string"){var C=[];h=h.length;for(var j=0;j<h;j++)C.push(j);return C}C=[],j=0;for(const G in h)C[j++]=G;return C}}}function ts(h,C){if(h.forEach&&typeof h.forEach=="function")h.forEach(C,void 0);else if(g(h)||typeof h=="string")Array.prototype.forEach.call(h,C,void 0);else for(var j=va(h),G=Os(h),ye=G.length,Te=0;Te<ye;Te++)C.call(void 0,G[Te],j&&j[Te],h)}var Oi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ul(h,C){if(h){h=h.split("&");for(var j=0;j<h.length;j++){var G=h[j].indexOf("="),ye=null;if(0<=G){var Te=h[j].substring(0,G);ye=h[j].substring(G+1)}else Te=h[j];C(Te,ye?decodeURIComponent(ye.replace(/\+/g," ")):"")}}}function ns(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof ns){this.h=h.h,Cs(this,h.j),this.o=h.o,this.g=h.g,Ci(this,h.s),this.l=h.l;var C=h.i,j=new ci;j.i=C.i,C.g&&(j.g=new Map(C.g),j.h=C.h),Ns(this,j),this.m=h.m}else h&&(C=String(h).match(Oi))?(this.h=!1,Cs(this,C[1]||"",!0),this.o=Tt(C[2]||""),this.g=Tt(C[3]||"",!0),Ci(this,C[4]),this.l=Tt(C[5]||"",!0),Ns(this,C[6]||"",!0),this.m=Tt(C[7]||"")):(this.h=!1,this.i=new ci(null,this.h))}ns.prototype.toString=function(){var h=[],C=this.j;C&&h.push(kr(C,To,!0),":");var j=this.g;return(j||C=="file")&&(h.push("//"),(C=this.o)&&h.push(kr(C,To,!0),"@"),h.push(encodeURIComponent(String(j)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),j=this.s,j!=null&&h.push(":",String(j))),(j=this.l)&&(this.g&&j.charAt(0)!="/"&&h.push("/"),h.push(kr(j,j.charAt(0)=="/"?Nu:Fl,!0))),(j=this.i.toString())&&h.push("?",j),(j=this.m)&&h.push("#",kr(j,_a)),h.join("")};function pr(h){return new ns(h)}function Cs(h,C,j){h.j=j?Tt(C,!0):C,h.j&&(h.j=h.j.replace(/:$/,""))}function Ci(h,C){if(C){if(C=Number(C),isNaN(C)||0>C)throw Error("Bad port number "+C);h.s=C}else h.s=null}function Ns(h,C,j){C instanceof ci?(h.i=C,xi(h.i,h.h)):(j||(C=kr(C,xu)),h.i=new ci(C,h.h))}function Kt(h,C,j){h.i.set(C,j)}function Ni(h){return Kt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Tt(h,C){return h?C?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function kr(h,C,j){return typeof h=="string"?(h=encodeURI(h).replace(C,Cu),j&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Cu(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var To=/[#\/\?@]/g,Fl=/[#\?:]/g,Nu=/[#\?]/g,xu=/[#\?@]/g,_a=/#/g;function ci(h,C){this.h=this.g=null,this.i=h||null,this.j=!!C}function Vn(h){h.g||(h.g=new Map,h.h=0,h.i&&Ul(h.i,function(C,j){h.add(decodeURIComponent(C.replace(/\+/g," ")),j)}))}i=ci.prototype,i.add=function(h,C){Vn(this),this.i=null,h=Vr(this,h);var j=this.g.get(h);return j||this.g.set(h,j=[]),j.push(C),this.h+=1,this};function fi(h,C){Vn(h),C=Vr(h,C),h.g.has(C)&&(h.i=null,h.h-=h.g.get(C).length,h.g.delete(C))}function hi(h,C){return Vn(h),C=Vr(h,C),h.g.has(C)}i.forEach=function(h,C){Vn(this),this.g.forEach(function(j,G){j.forEach(function(ye){h.call(C,ye,G,this)},this)},this)},i.na=function(){Vn(this);const h=Array.from(this.g.values()),C=Array.from(this.g.keys()),j=[];for(let G=0;G<C.length;G++){const ye=h[G];for(let Te=0;Te<ye.length;Te++)j.push(C[G])}return j},i.V=function(h){Vn(this);let C=[];if(typeof h=="string")hi(this,h)&&(C=C.concat(this.g.get(Vr(this,h))));else{h=Array.from(this.g.values());for(let j=0;j<h.length;j++)C=C.concat(h[j])}return C},i.set=function(h,C){return Vn(this),this.i=null,h=Vr(this,h),hi(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[C]),this.h+=1,this},i.get=function(h,C){return h?(h=this.V(h),0<h.length?String(h[0]):C):C};function rs(h,C,j){fi(h,C),0<j.length&&(h.i=null,h.g.set(Vr(h,C),S(j)),h.h+=j.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],C=Array.from(this.g.keys());for(var j=0;j<C.length;j++){var G=C[j];const Te=encodeURIComponent(String(G)),Fe=this.V(G);for(G=0;G<Fe.length;G++){var ye=Te;Fe[G]!==""&&(ye+="="+encodeURIComponent(String(Fe[G]))),h.push(ye)}}return this.i=h.join("&")};function Vr(h,C){return C=String(C),h.j&&(C=C.toLowerCase()),C}function xi(h,C){C&&!h.j&&(Vn(h),h.i=null,h.g.forEach(function(j,G){var ye=G.toLowerCase();G!=ye&&(fi(this,G),rs(this,ye,j))},h)),h.j=C}function Pf(h,C){const j=new es;if(p.Image){const G=new Image;G.onload=_(Wn,j,"TestLoadImage: loaded",!0,C,G),G.onerror=_(Wn,j,"TestLoadImage: error",!1,C,G),G.onabort=_(Wn,j,"TestLoadImage: abort",!1,C,G),G.ontimeout=_(Wn,j,"TestLoadImage: timeout",!1,C,G),p.setTimeout(function(){G.ontimeout&&G.ontimeout()},1e4),G.src=h}else C(!1)}function ql(h,C){const j=new es,G=new AbortController,ye=setTimeout(()=>{G.abort(),Wn(j,"TestPingServer: timeout",!1,C)},1e4);fetch(h,{signal:G.signal}).then(Te=>{clearTimeout(ye),Te.ok?Wn(j,"TestPingServer: ok",!0,C):Wn(j,"TestPingServer: server error",!1,C)}).catch(()=>{clearTimeout(ye),Wn(j,"TestPingServer: error",!1,C)})}function Wn(h,C,j,G,ye){try{ye&&(ye.onload=null,ye.onerror=null,ye.onabort=null,ye.ontimeout=null),G(j)}catch{}}function kf(){this.g=new go}function Bl(h,C,j){const G=j||"";try{ts(h,function(ye,Te){let Fe=ye;E(ye)&&(Fe=ho(ye)),C.push(G+Te+"="+encodeURIComponent(Fe))})}catch(ye){throw C.push(G+"type="+encodeURIComponent("_badmap")),ye}}function is(h){this.l=h.Ub||null,this.j=h.eb||!1}P(is,mo),is.prototype.g=function(){return new Io(this.l,this.j)},is.prototype.i=function(h){return function(){return h}}({});function Io(h,C){Dt.call(this),this.D=h,this.o=C,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(Io,Dt),i=Io.prototype,i.open=function(h,C){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=C,this.readyState=1,It(this)},i.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const C={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(C.body=h),(this.D||p).fetch(new Request(this.A,C)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,bt(this)),this.readyState=0},i.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,It(this)),this.g&&(this.readyState=3,It(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;jl(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function jl(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}i.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var C=h.value?h.value:new Uint8Array(0);(C=this.v.decode(C,{stream:!h.done}))&&(this.response=this.responseText+=C)}h.done?bt(this):It(this),this.readyState==3&&jl(this)}},i.Ra=function(h){this.g&&(this.response=this.responseText=h,bt(this))},i.Qa=function(h){this.g&&(this.response=h,bt(this))},i.ga=function(){this.g&&bt(this)};function bt(h){h.readyState=4,h.l=null,h.j=null,h.v=null,It(h)}i.setRequestHeader=function(h,C){this.u.append(h,C)},i.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],C=this.h.entries();for(var j=C.next();!j.done;)j=j.value,h.push(j[0]+": "+j[1]),j=C.next();return h.join(`\r
`)};function It(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Io.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function ss(h){let C="";return $(h,function(j,G){C+=G,C+=":",C+=j,C+=`\r
`}),C}function xs(h,C,j){e:{for(G in j){var G=!1;break e}G=!0}G||(j=ss(j),typeof h=="string"?j!=null&&encodeURIComponent(String(j)):Kt(h,C,j))}function tn(h){Dt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(tn,Dt);var Of=/^https?$/i,Lu=["POST","PUT"];i=tn.prototype,i.Ha=function(h){this.J=h},i.ea=function(h,C,j,G){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);C=C?C.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ui.g(),this.v=this.o?ua(this.o):ua(ui),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(C,String(h),!0),this.B=!1}catch(Te){Ao(this,Te);return}if(h=j||"",j=new Map(this.headers),G)if(Object.getPrototypeOf(G)===Object.prototype)for(var ye in G)j.set(ye,G[ye]);else if(typeof G.keys=="function"&&typeof G.get=="function")for(const Te of G.keys())j.set(Te,G.get(Te));else throw Error("Unknown input type for opt_headers: "+String(G));G=Array.from(j.keys()).find(Te=>Te.toLowerCase()=="content-type"),ye=p.FormData&&h instanceof p.FormData,!(0<=Array.prototype.indexOf.call(Lu,C,void 0))||G||ye||j.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Te,Fe]of j)this.g.setRequestHeader(Te,Fe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ls(this),this.u=!0,this.g.send(h),this.u=!1}catch(Te){Ao(this,Te)}};function Ao(h,C){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=C,h.m=5,So(h),$t(h)}function So(h){h.A||(h.A=!0,Ct(h,"complete"),Ct(h,"error"))}i.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Ct(this,"complete"),Ct(this,"abort"),$t(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$t(this,!0)),tn.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Du(this):this.bb())},i.bb=function(){Du(this)};function Du(h){if(h.h&&typeof f<"u"&&(!h.v[1]||yn(h)!=4||h.Z()!=2)){if(h.u&&yn(h)==4)Xi(h.Ea,0,h);else if(Ct(h,"readystatechange"),yn(h)==4){h.h=!1;try{const Fe=h.Z();e:switch(Fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var C=!0;break e;default:C=!1}var j;if(!(j=C)){var G;if(G=Fe===0){var ye=String(h.D).match(Oi)[1]||null;!ye&&p.self&&p.self.location&&(ye=p.self.location.protocol.slice(0,-1)),G=!Of.test(ye?ye.toLowerCase():"")}j=G}if(j)Ct(h,"complete"),Ct(h,"success");else{h.m=6;try{var Te=2<yn(h)?h.g.statusText:""}catch{Te=""}h.l=Te+" ["+h.Z()+"]",So(h)}}finally{$t(h)}}}}function $t(h,C){if(h.g){Ls(h);const j=h.g,G=h.v[0]?()=>{}:null;h.g=null,h.v=null,C||Ct(h,"ready");try{j.onreadystatechange=G}catch{}}}function Ls(h){h.I&&(p.clearTimeout(h.I),h.I=null)}i.isActive=function(){return!!this.g};function yn(h){return h.g?h.g.readyState:0}i.Z=function(){try{return 2<yn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(h){if(this.g){var C=this.g.responseText;return h&&C.indexOf(h)==0&&(C=C.substring(h.length)),po(C)}};function Ea(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Ds(h){const C={};h=(h.g&&2<=yn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let G=0;G<h.length;G++){if(R(h[G]))continue;var j=k(h[G]);const ye=j[0];if(j=j[1],typeof j!="string")continue;j=j.trim();const Te=C[ye]||[];C[ye]=Te,Te.push(j)}L(C,function(G){return G.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function hn(h,C,j){return j&&j.internalChannelParams&&j.internalChannelParams[h]||C}function wa(h){this.Aa=0,this.i=[],this.j=new es,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=hn("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=hn("baseRetryDelayMs",5e3,h),this.cb=hn("retryDelaySeedMs",1e4,h),this.Wa=hn("forwardChannelMaxRetries",2,h),this.wa=hn("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new wo(h&&h.concurrentRequestLimit),this.Da=new kf,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=wa.prototype,i.la=8,i.G=1,i.connect=function(h,C,j,G){fn(0),this.W=h,this.H=C||{},j&&G!==void 0&&(this.H.OSID=j,this.H.OAID=G),this.F=this.X,this.I=Ta(this,null,this.W),di(this)};function Nn(h){if(bo(h),h.G==3){var C=h.U++,j=pr(h.I);if(Kt(j,"SID",h.K),Kt(j,"RID",C),Kt(j,"TYPE","terminate"),os(h,j),C=new li(h,h.j,C),C.L=2,C.v=Ni(pr(j)),j=!1,p.navigator&&p.navigator.sendBeacon)try{j=p.navigator.sendBeacon(C.v.toString(),"")}catch{}!j&&p.Image&&(new Image().src=C.v,j=!0),j||(C.g=Hl(C.j,null),C.g.ea(C.v)),C.F=Date.now(),zt(C)}$l(h)}function Ur(h){h.g&&(Fr(h),h.g.cancel(),h.g=null)}function bo(h){Ur(h),h.u&&(p.clearTimeout(h.u),h.u=null),Ms(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&p.clearTimeout(h.s),h.s=null)}function di(h){if(!Pr(h.h)&&!h.s){h.s=!0;var C=h.Ga;ce||X(),de||(ce(),de=!0),re.add(C,h),h.B=0}}function zl(h,C){return Vl(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=C.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=oi(y(h.Ga,h,C),pi(h,h.B)),h.B++,!0)}i.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const ye=new li(this,this.j,h);let Te=this.o;if(this.S&&(Te?(Te=O(Te),D(Te,this.S)):Te=this.S),this.m!==null||this.O||(ye.H=Te,Te=null),this.P)e:{for(var C=0,j=0;j<this.i.length;j++){t:{var G=this.i[j];if("__data__"in G.map&&(G=G.map.__data__,typeof G=="string")){G=G.length;break t}G=void 0}if(G===void 0)break;if(C+=G,4096<C){C=j;break e}if(C===4096||j===this.i.length-1){C=j+1;break e}}C=1e3}else C=1e3;C=In(this,ye,C),j=pr(this.I),Kt(j,"RID",h),Kt(j,"CVER",22),this.D&&Kt(j,"X-HTTP-Session-Id",this.D),os(this,j),Te&&(this.O?C="headers="+encodeURIComponent(String(ss(Te)))+"&"+C:this.m&&xs(j,this.m,Te)),ya(this.h,ye),this.Ua&&Kt(j,"TYPE","init"),this.P?(Kt(j,"$req",C),Kt(j,"SID","null"),ye.T=!0,ga(ye,j,null)):ga(ye,j,C),this.G=2}}else this.G==3&&(h?xn(this,h):this.i.length==0||Pr(this.h)||xn(this))};function xn(h,C){var j;C?j=C.l:j=h.U++;const G=pr(h.I);Kt(G,"SID",h.K),Kt(G,"RID",j),Kt(G,"AID",h.T),os(h,G),h.m&&h.o&&xs(G,h.m,h.o),j=new li(h,h.j,j,h.B+1),h.m===null&&(j.H=h.o),C&&(h.i=C.D.concat(h.i)),C=In(h,j,1e3),j.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),ya(h.h,j),ga(j,G,C)}function os(h,C){h.H&&$(h.H,function(j,G){Kt(C,G,j)}),h.l&&ts({},function(j,G){Kt(C,G,j)})}function In(h,C,j){j=Math.min(h.i.length,j);var G=h.l?y(h.l.Na,h.l,h):null;e:{var ye=h.i;let Te=-1;for(;;){const Fe=["count="+j];Te==-1?0<j?(Te=ye[0].g,Fe.push("ofs="+Te)):Te=0:Fe.push("ofs="+Te);let Bt=!0;for(let An=0;An<j;An++){let Rt=ye[An].g;const jt=ye[An].map;if(Rt-=Te,0>Rt)Te=Math.max(0,ye[An].g-100),Bt=!1;else try{Bl(jt,Fe,"req"+Rt+"_")}catch{G&&G(jt)}}if(Bt){G=Fe.join("&");break e}}}return h=h.i.splice(0,j),C.D=h,G}function Ro(h){if(!h.g&&!h.u){h.Y=1;var C=h.Fa;ce||X(),de||(ce(),de=!0),re.add(C,h),h.v=0}}function Po(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=oi(y(h.Fa,h),pi(h,h.v)),h.v++,!0)}i.Fa=function(){if(this.u=null,ko(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=oi(y(this.ab,this),h)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,fn(10),Ur(this),ko(this))};function Fr(h){h.A!=null&&(p.clearTimeout(h.A),h.A=null)}function ko(h){h.g=new li(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var C=pr(h.qa);Kt(C,"RID","rpc"),Kt(C,"SID",h.K),Kt(C,"AID",h.T),Kt(C,"CI",h.F?"0":"1"),!h.F&&h.ja&&Kt(C,"TO",h.ja),Kt(C,"TYPE","xmlhttp"),os(h,C),h.m&&h.o&&xs(C,h.m,h.o),h.L&&(h.g.I=h.L);var j=h.g;h=h.ia,j.L=1,j.v=Ni(pr(C)),j.m=null,j.P=!0,Ru(j,h)}i.Za=function(){this.C!=null&&(this.C=null,Ur(this),Po(this),fn(19))};function Ms(h){h.C!=null&&(p.clearTimeout(h.C),h.C=null)}function Ht(h,C){var j=null;if(h.g==C){Ms(h),Fr(h),h.g=null;var G=2}else if(ir(h.h,C))j=C.D,ku(h.h,C),G=1;else return;if(h.G!=0){if(C.o)if(G==1){j=C.m?C.m.length:0,C=Date.now()-C.F;var ye=h.B;G=yo(),Ct(G,new Rs(G,j)),di(h)}else Ro(h);else if(ye=C.s,ye==3||ye==0&&0<C.X||!(G==1&&zl(h,C)||G==2&&Po(h)))switch(j&&0<j.length&&(C=h.h,C.i=C.i.concat(j)),ye){case 1:gi(h,5);break;case 4:gi(h,10);break;case 3:gi(h,6);break;default:gi(h,2)}}}function pi(h,C){let j=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(j*=2),j*C}function gi(h,C){if(h.j.info("Error code "+C),C==2){var j=y(h.fb,h),G=h.Xa;const ye=!G;G=new ns(G||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Cs(G,"https"),Ni(G),ye?Pf(G.toString(),j):ql(G.toString(),j)}else fn(2);h.G=0,h.l&&h.l.sa(C),$l(h),bo(h)}i.fb=function(h){h?(this.j.info("Successfully pinged google.com"),fn(2)):(this.j.info("Failed to ping google.com"),fn(1))};function $l(h){if(h.G=0,h.ka=[],h.l){const C=Ou(h.h);(C.length!=0||h.i.length!=0)&&(A(h.ka,C),A(h.ka,h.i),h.h.i.length=0,S(h.i),h.i.length=0),h.l.ra()}}function Ta(h,C,j){var G=j instanceof ns?pr(j):new ns(j);if(G.g!="")C&&(G.g=C+"."+G.g),Ci(G,G.s);else{var ye=p.location;G=ye.protocol,C=C?C+"."+ye.hostname:ye.hostname,ye=+ye.port;var Te=new ns(null);G&&Cs(Te,G),C&&(Te.g=C),ye&&Ci(Te,ye),j&&(Te.l=j),G=Te}return j=h.D,C=h.ya,j&&C&&Kt(G,j,C),Kt(G,"VER",h.la),os(h,G),G}function Hl(h,C,j){if(C&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return C=h.Ca&&!h.pa?new tn(new is({eb:j})):new tn(h.pa),C.Ha(h.J),C}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Mu(){}i=Mu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Ia(){}Ia.prototype.g=function(h,C){return new Kn(h,C)};function Kn(h,C){Dt.call(this),this.g=new wa(C),this.l=h,this.h=C&&C.messageUrlParams||null,h=C&&C.messageHeaders||null,C&&C.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=C&&C.initMessageHeaders||null,C&&C.messageContentType&&(h?h["X-WebChannel-Content-Type"]=C.messageContentType:h={"X-WebChannel-Content-Type":C.messageContentType}),C&&C.va&&(h?h["X-WebChannel-Client-Profile"]=C.va:h={"X-WebChannel-Client-Profile":C.va}),this.g.S=h,(h=C&&C.Sb)&&!R(h)&&(this.g.m=h),this.v=C&&C.supportsCrossDomainXhr||!1,this.u=C&&C.sendRawJson||!1,(C=C&&C.httpSessionIdParam)&&!R(C)&&(this.g.D=C,h=this.h,h!==null&&C in h&&(h=this.h,C in h&&delete h[C])),this.j=new Li(this)}P(Kn,Dt),Kn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Kn.prototype.close=function(){Nn(this.g)},Kn.prototype.o=function(h){var C=this.g;if(typeof h=="string"){var j={};j.__data__=h,h=j}else this.u&&(j={},j.__data__=ho(h),h=j);C.i.push(new Pu(C.Ya++,h)),C.G==3&&di(C)},Kn.prototype.N=function(){this.g.l=null,delete this.j,Nn(this.g),delete this.g,Kn.aa.N.call(this)};function Oo(h){si.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var C=h.__sm__;if(C){e:{for(const j in C){h=j;break e}h=void 0}(this.i=h)&&(h=this.i,C=C!==null&&h in C?C[h]:void 0),this.data=C}else this.data=h}P(Oo,si);function as(){ca.call(this),this.status=1}P(as,ca);function Li(h){this.g=h}P(Li,Mu),Li.prototype.ua=function(){Ct(this.g,"a")},Li.prototype.ta=function(h){Ct(this.g,new Oo(h))},Li.prototype.sa=function(h){Ct(this.g,new as)},Li.prototype.ra=function(){Ct(this.g,"b")},Ia.prototype.createWebChannel=Ia.prototype.g,Kn.prototype.send=Kn.prototype.o,Kn.prototype.open=Kn.prototype.m,Kn.prototype.close=Kn.prototype.close,Zw=function(){return new Ia},Jw=function(){return yo()},Xw=ki,Av={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},da.NO_ERROR=0,da.TIMEOUT=8,da.HTTP_ERROR=6,Cp=da,Ll.COMPLETE="complete",Yw=Ll,la.EventType=br,br.OPEN="a",br.CLOSE="b",br.ERROR="c",br.MESSAGE="d",Dt.prototype.listen=Dt.prototype.K,Lh=la,tn.prototype.listenOnce=tn.prototype.L,tn.prototype.getLastError=tn.prototype.Ka,tn.prototype.getLastErrorCode=tn.prototype.Ba,tn.prototype.getStatus=tn.prototype.Z,tn.prototype.getResponseJson=tn.prototype.Oa,tn.prototype.getResponseText=tn.prototype.oa,tn.prototype.send=tn.prototype.ea,tn.prototype.setWithCredentials=tn.prototype.Ha,Qw=tn}).apply(typeof Tp<"u"?Tp:typeof self<"u"?self:typeof window<"u"?window:{});const k1="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ar.UNAUTHENTICATED=new Ar(null),Ar.GOOGLE_CREDENTIALS=new Ar("google-credentials-uid"),Ar.FIRST_PARTY=new Ar("first-party-uid"),Ar.MOCK_USER=new Ar("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wf="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pl=new lg("@firebase/firestore");function nf(){return Pl.logLevel}function He(i,...e){if(Pl.logLevel<=St.DEBUG){const t=e.map(Xv);Pl.debug(`Firestore (${wf}): ${i}`,...t)}}function sa(i,...e){if(Pl.logLevel<=St.ERROR){const t=e.map(Xv);Pl.error(`Firestore (${wf}): ${i}`,...t)}}function hf(i,...e){if(Pl.logLevel<=St.WARN){const t=e.map(Xv);Pl.warn(`Firestore (${wf}): ${i}`,...t)}}function Xv(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(i="Unexpected state"){const e=`FIRESTORE (${wf}) INTERNAL ASSERTION FAILED: `+i;throw sa(e),new Error(e)}function Yt(i,e){i||ft()}function pt(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const De={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class nt extends bs{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Bk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ar.UNAUTHENTICATED))}shutdown(){}}class jk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class zk{constructor(e){this.t=e,this.currentUser=Ar.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Yt(this.o===void 0);let r=this.i;const o=g=>this.i!==r?(r=this.i,t(g)):Promise.resolve();let l=new hu;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new hu,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const g=l;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},p=g=>{He("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(g=>p(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(He("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new hu)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(He("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Yt(typeof r.accessToken=="string"),new eT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Yt(e===null||typeof e=="string"),new Ar(e)}}class $k{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Ar.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Hk{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new $k(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Ar.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Wk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Kk{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Yt(this.o===void 0);const r=l=>{l.error!=null&&He("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const f=l.token!==this.R;return this.R=l.token,He("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const o=l=>{He("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):He("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Yt(typeof t.token=="string"),this.R=t.token,new Wk(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gk(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<i;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=Gk(40);for(let l=0;l<o.length;++l)r.length<20&&o[l]<t&&(r+=e.charAt(o[l]%e.length))}return r}}function Lt(i,e){return i<e?-1:i>e?1:0}function df(i,e,t){return i.length===e.length&&i.every((r,o)=>t(r,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{static now(){return $n.fromMillis(Date.now())}static fromDate(e){return $n.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new $n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new nt(De.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new nt(De.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new nt(De.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new nt(De.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Lt(this.nanoseconds,e.nanoseconds):Lt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{static fromTimestamp(e){return new ht(e)}static min(){return new ht(new $n(0,0))}static max(){return new ht(new $n(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,t,r){t===void 0?t=0:t>e.length&&ft(),r===void 0?r=e.length-t:r>e.length-t&&ft(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Zh.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Zh?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const l=e.get(o),f=t.get(o);if(l<f)return-1;if(l>f)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Tn extends Zh{construct(e,t,r){return new Tn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new nt(De.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new Tn(t)}static emptyPath(){return new Tn([])}}const Qk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hr extends Zh{construct(e,t,r){return new hr(e,t,r)}static isValidIdentifier(e){return Qk.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new hr(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const l=()=>{if(r.length===0)throw new nt(De.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let f=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new nt(De.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new nt(De.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,o+=2}else p==="`"?(f=!f,o++):p!=="."||f?(r+=p,o++):(l(),o++)}if(l(),f)throw new nt(De.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hr(t)}static emptyPath(){return new hr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e){this.path=e}static fromPath(e){return new it(Tn.fromString(e))}static fromName(e){return new it(Tn.fromString(e).popFirst(5))}static empty(){return new it(Tn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Tn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Tn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new it(new Tn(e.slice()))}}function Yk(i,e){const t=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,o=ht.fromTimestamp(r===1e9?new $n(t+1,0):new $n(t,r));return new mu(o,it.empty(),e)}function Xk(i){return new mu(i.readTime,i.key,-1)}class mu{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new mu(ht.min(),it.empty(),-1)}static max(){return new mu(ht.max(),it.empty(),-1)}}function Jk(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=it.comparator(i.documentKey,e.documentKey),t!==0?t:Lt(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tf(i){if(i.code!==De.FAILED_PRECONDITION||i.message!==Zk)throw i;He("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ft(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ke((r,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ke?t:ke.resolve(t)}catch(t){return ke.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ke.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ke.reject(t)}static resolve(e){return new ke((t,r)=>{t(e)})}static reject(e){return new ke((t,r)=>{r(e)})}static waitFor(e){return new ke((t,r)=>{let o=0,l=0,f=!1;e.forEach(p=>{++o,p.next(()=>{++l,f&&l===o&&t()},g=>r(g))}),f=!0,l===o&&t()})}static or(e){let t=ke.resolve(!1);for(const r of e)t=t.next(o=>o?ke.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,l)=>{r.push(t.call(this,o,l))}),this.waitFor(r)}static mapArray(e,t){return new ke((r,o)=>{const l=e.length,f=new Array(l);let p=0;for(let g=0;g<l;g++){const E=g;t(e[E]).next(w=>{f[E]=w,++p,p===l&&r(f)},w=>o(w))}})}static doWhile(e,t){return new ke((r,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):r()};l()})}}function tO(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function If(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ie(r),this.se=r=>t.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}hg.oe=-1;function dg(i){return i==null}function Gp(i){return i===0&&1/i==-1/0}function nO(i){return typeof i=="number"&&Number.isInteger(i)&&!Gp(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rO(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=O1(e)),e=iO(i.get(t),e);return O1(e)}function iO(i,e){let t=e;const r=i.length;for(let o=0;o<r;o++){const l=i.charAt(o);switch(l){case"\0":t+="";break;case"":t+="";break;default:t+=l}}return t}function O1(i){return i+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C1(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Ol(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function nT(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e,t){this.comparator=e,this.root=t||fr.EMPTY}insert(e,t){return new gn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,fr.BLACK,null,null))}remove(e){return new gn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ip(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ip(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ip(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ip(this.root,e,this.comparator,!0)}}class Ip{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fr{constructor(e,t,r,o,l){this.key=e,this.value=t,this.color=r??fr.RED,this.left=o??fr.EMPTY,this.right=l??fr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,l){return new fr(e??this.key,t??this.value,r??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const l=r(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,r),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return fr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return fr.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ft();const e=this.left.check();if(e!==this.right.check())throw ft();return e+(this.isRed()?0:1)}}fr.EMPTY=null,fr.RED=!0,fr.BLACK=!1;fr.EMPTY=new class{constructor(){this.size=0}get key(){throw ft()}get value(){throw ft()}get color(){throw ft()}get left(){throw ft()}get right(){throw ft()}copy(e,t,r,o,l){return this}insert(e,t,r){return new fr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.comparator=e,this.data=new gn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new N1(this.data.getIterator())}getIteratorFrom(e){return new N1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Hn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=r.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Hn(this.comparator);return t.data=e,t}}class N1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e){this.fields=e,e.sort(hr.comparator)}static empty(){return new Ss([])}unionWith(e){let t=new Hn(hr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Ss(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return df(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new rT("Invalid base64 string: "+l):l}}(e);return new dr(t)}static fromUint8Array(e){const t=function(o){let l="";for(let f=0;f<o.length;++f)l+=String.fromCharCode(o[f]);return l}(e);return new dr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Lt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dr.EMPTY_BYTE_STRING=new dr("");const sO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yu(i){if(Yt(!!i),typeof i=="string"){let e=0;const t=sO.exec(i);if(Yt(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:On(i.seconds),nanos:On(i.nanos)}}function On(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function vu(i){return typeof i=="string"?dr.fromBase64String(i):dr.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jv(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function pg(i){const e=i.mapValue.fields.__previous_value__;return Jv(e)?pg(e):e}function ed(i){const e=yu(i.mapValue.fields.__local_write_time__.timestampValue);return new $n(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e,t,r,o,l,f,p,g,E){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=l,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=E}}class td{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new td("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof td&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function _u(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Jv(i)?4:uO(i)?9007199254740991:aO(i)?10:11:ft()}function uo(i,e){if(i===e)return!0;const t=_u(i);if(t!==_u(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return ed(i).isEqual(ed(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const f=yu(o.timestampValue),p=yu(l.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,l){return vu(o.bytesValue).isEqual(vu(l.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,l){return On(o.geoPointValue.latitude)===On(l.geoPointValue.latitude)&&On(o.geoPointValue.longitude)===On(l.geoPointValue.longitude)}(i,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return On(o.integerValue)===On(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const f=On(o.doubleValue),p=On(l.doubleValue);return f===p?Gp(f)===Gp(p):isNaN(f)&&isNaN(p)}return!1}(i,e);case 9:return df(i.arrayValue.values||[],e.arrayValue.values||[],uo);case 10:case 11:return function(o,l){const f=o.mapValue.fields||{},p=l.mapValue.fields||{};if(C1(f)!==C1(p))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(p[g]===void 0||!uo(f[g],p[g])))return!1;return!0}(i,e);default:return ft()}}function nd(i,e){return(i.values||[]).find(t=>uo(t,e))!==void 0}function pf(i,e){if(i===e)return 0;const t=_u(i),r=_u(e);if(t!==r)return Lt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Lt(i.booleanValue,e.booleanValue);case 2:return function(l,f){const p=On(l.integerValue||l.doubleValue),g=On(f.integerValue||f.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1}(i,e);case 3:return x1(i.timestampValue,e.timestampValue);case 4:return x1(ed(i),ed(e));case 5:return Lt(i.stringValue,e.stringValue);case 6:return function(l,f){const p=vu(l),g=vu(f);return p.compareTo(g)}(i.bytesValue,e.bytesValue);case 7:return function(l,f){const p=l.split("/"),g=f.split("/");for(let E=0;E<p.length&&E<g.length;E++){const w=Lt(p[E],g[E]);if(w!==0)return w}return Lt(p.length,g.length)}(i.referenceValue,e.referenceValue);case 8:return function(l,f){const p=Lt(On(l.latitude),On(f.latitude));return p!==0?p:Lt(On(l.longitude),On(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return L1(i.arrayValue,e.arrayValue);case 10:return function(l,f){var p,g,E,w;const v=l.fields||{},y=f.fields||{},_=(p=v.value)===null||p===void 0?void 0:p.arrayValue,P=(g=y.value)===null||g===void 0?void 0:g.arrayValue,S=Lt(((E=_==null?void 0:_.values)===null||E===void 0?void 0:E.length)||0,((w=P==null?void 0:P.values)===null||w===void 0?void 0:w.length)||0);return S!==0?S:L1(_,P)}(i.mapValue,e.mapValue);case 11:return function(l,f){if(l===Ap.mapValue&&f===Ap.mapValue)return 0;if(l===Ap.mapValue)return 1;if(f===Ap.mapValue)return-1;const p=l.fields||{},g=Object.keys(p),E=f.fields||{},w=Object.keys(E);g.sort(),w.sort();for(let v=0;v<g.length&&v<w.length;++v){const y=Lt(g[v],w[v]);if(y!==0)return y;const _=pf(p[g[v]],E[w[v]]);if(_!==0)return _}return Lt(g.length,w.length)}(i.mapValue,e.mapValue);default:throw ft()}}function x1(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Lt(i,e);const t=yu(i),r=yu(e),o=Lt(t.seconds,r.seconds);return o!==0?o:Lt(t.nanos,r.nanos)}function L1(i,e){const t=i.values||[],r=e.values||[];for(let o=0;o<t.length&&o<r.length;++o){const l=pf(t[o],r[o]);if(l)return l}return Lt(t.length,r.length)}function gf(i){return Sv(i)}function Sv(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(t){const r=yu(t);return`time(${r.seconds},${r.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(t){return vu(t).toBase64()}(i.bytesValue):"referenceValue"in i?function(t){return it.fromName(t).toString()}(i.referenceValue):"geoPointValue"in i?function(t){return`geo(${t.latitude},${t.longitude})`}(i.geoPointValue):"arrayValue"in i?function(t){let r="[",o=!0;for(const l of t.values||[])o?o=!1:r+=",",r+=Sv(l);return r+"]"}(i.arrayValue):"mapValue"in i?function(t){const r=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const f of r)l?l=!1:o+=",",o+=`${f}:${Sv(t.fields[f])}`;return o+"}"}(i.mapValue):ft()}function Np(i){switch(_u(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=pg(i);return e?16+Np(e):16;case 5:return 2*i.stringValue.length;case 6:return vu(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((o,l)=>o+Np(l),0)}(i.arrayValue);case 10:case 11:return function(r){let o=0;return Ol(r.fields,(l,f)=>{o+=l.length+Np(f)}),o}(i.mapValue);default:throw ft()}}function bv(i){return!!i&&"integerValue"in i}function Zv(i){return!!i&&"arrayValue"in i}function D1(i){return!!i&&"nullValue"in i}function M1(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function xp(i){return!!i&&"mapValue"in i}function aO(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function $h(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Ol(i.mapValue.fields,(t,r)=>e.mapValue.fields[t]=$h(r)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=$h(i.arrayValue.values[t]);return e}return Object.assign({},i)}function uO(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e){this.value=e}static empty(){return new Yi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!xp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=$h(t)}setAll(e){let t=hr.emptyPath(),r={},o=[];e.forEach((f,p)=>{if(!t.isImmediateParentOf(p)){const g=this.getFieldsMap(t);this.applyChanges(g,r,o),r={},o=[],t=p.popLast()}f?r[p.lastSegment()]=$h(f):o.push(p.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,o)}delete(e){const t=this.field(e.popLast());xp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return uo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];xp(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){Ol(t,(o,l)=>e[o]=l);for(const o of r)delete e[o]}clone(){return new Yi($h(this.value))}}function iT(i){const e=[];return Ol(i.fields,(t,r)=>{const o=new hr([t]);if(xp(r)){const l=iT(r.mapValue).fields;if(l.length===0)e.push(o);else for(const f of l)e.push(o.child(f))}else e.push(o)}),new Ss(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e,t,r,o,l,f,p){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=l,this.data=f,this.documentState=p}static newInvalidDocument(e){return new Sr(e,0,ht.min(),ht.min(),ht.min(),Yi.empty(),0)}static newFoundDocument(e,t,r,o){return new Sr(e,1,t,ht.min(),r,o,0)}static newNoDocument(e,t){return new Sr(e,2,t,ht.min(),ht.min(),Yi.empty(),0)}static newUnknownDocument(e,t){return new Sr(e,3,t,ht.min(),ht.min(),Yi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ht.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ht.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Sr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Sr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e,t){this.position=e,this.inclusive=t}}function V1(i,e,t){let r=0;for(let o=0;o<i.position.length;o++){const l=e[o],f=i.position[o];if(l.field.isKeyField()?r=it.comparator(it.fromName(f.referenceValue),t.key):r=pf(f,t.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function U1(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!uo(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(e,t="asc"){this.field=e,this.dir=t}}function lO(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{}class zn extends sT{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new fO(e,t,r):t==="array-contains"?new pO(e,r):t==="in"?new gO(e,r):t==="not-in"?new mO(e,r):t==="array-contains-any"?new yO(e,r):new zn(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new hO(e,r):new dO(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(pf(t,this.value)):t!==null&&_u(this.value)===_u(t)&&this.matchesComparison(pf(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ft()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class lo extends sT{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new lo(e,t)}matches(e){return oT(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function oT(i){return i.op==="and"}function aT(i){return cO(i)&&oT(i)}function cO(i){for(const e of i.filters)if(e instanceof lo)return!1;return!0}function Rv(i){if(i instanceof zn)return i.field.canonicalString()+i.op.toString()+gf(i.value);if(aT(i))return i.filters.map(e=>Rv(e)).join(",");{const e=i.filters.map(t=>Rv(t)).join(",");return`${i.op}(${e})`}}function uT(i,e){return i instanceof zn?function(r,o){return o instanceof zn&&r.op===o.op&&r.field.isEqual(o.field)&&uo(r.value,o.value)}(i,e):i instanceof lo?function(r,o){return o instanceof lo&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((l,f,p)=>l&&uT(f,o.filters[p]),!0):!1}(i,e):void ft()}function lT(i){return i instanceof zn?function(t){return`${t.field.canonicalString()} ${t.op} ${gf(t.value)}`}(i):i instanceof lo?function(t){return t.op.toString()+" {"+t.getFilters().map(lT).join(" ,")+"}"}(i):"Filter"}class fO extends zn{constructor(e,t,r){super(e,t,r),this.key=it.fromName(r.referenceValue)}matches(e){const t=it.comparator(e.key,this.key);return this.matchesComparison(t)}}class hO extends zn{constructor(e,t){super(e,"in",t),this.keys=cT("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class dO extends zn{constructor(e,t){super(e,"not-in",t),this.keys=cT("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function cT(i,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>it.fromName(r.referenceValue))}class pO extends zn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Zv(t)&&nd(t.arrayValue,this.value)}}class gO extends zn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&nd(this.value.arrayValue,t)}}class mO extends zn{constructor(e,t){super(e,"not-in",t)}matches(e){if(nd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!nd(this.value.arrayValue,t)}}class yO extends zn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Zv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>nd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(e,t=null,r=[],o=[],l=null,f=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=l,this.startAt=f,this.endAt=p,this.ue=null}}function F1(i,e=null,t=[],r=[],o=null,l=null,f=null){return new vO(i,e,t,r,o,l,f)}function e_(i){const e=pt(i);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Rv(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(l){return l.field.canonicalString()+l.dir}(r)).join(","),dg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>gf(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>gf(r)).join(",")),e.ue=t}return e.ue}function t_(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!lO(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!uT(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!U1(i.startAt,e.startAt)&&U1(i.endAt,e.endAt)}function Pv(i){return it.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e,t=null,r=[],o=[],l=null,f="F",p=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=l,this.limitType=f,this.startAt=p,this.endAt=g,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function _O(i,e,t,r,o,l,f,p){return new gg(i,e,t,r,o,l,f,p)}function mg(i){return new gg(i)}function q1(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function EO(i){return i.collectionGroup!==null}function Hh(i){const e=pt(i);if(e.ce===null){e.ce=[];const t=new Set;for(const l of e.explicitOrderBy)e.ce.push(l),t.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new Hn(hr.comparator);return f.filters.forEach(g=>{g.getFlattenedFilters().forEach(E=>{E.isInequality()&&(p=p.add(E.field))})}),p})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.ce.push(new Yp(l,r))}),t.has(hr.keyField().canonicalString())||e.ce.push(new Yp(hr.keyField(),r))}return e.ce}function so(i){const e=pt(i);return e.le||(e.le=wO(e,Hh(i))),e.le}function wO(i,e){if(i.limitType==="F")return F1(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new Yp(o.field,l)});const t=i.endAt?new Qp(i.endAt.position,i.endAt.inclusive):null,r=i.startAt?new Qp(i.startAt.position,i.startAt.inclusive):null;return F1(i.path,i.collectionGroup,e,i.filters,i.limit,t,r)}}function kv(i,e,t){return new gg(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function yg(i,e){return t_(so(i),so(e))&&i.limitType===e.limitType}function fT(i){return`${e_(so(i))}|lt:${i.limitType}`}function rf(i){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(o=>lT(o)).join(", ")}]`),dg(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(o=>gf(o)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(o=>gf(o)).join(",")),`Target(${r})`}(so(i))}; limitType=${i.limitType})`}function vg(i,e){return e.isFoundDocument()&&function(r,o){const l=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):it.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)}(i,e)&&function(r,o){for(const l of Hh(r))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(i,e)&&function(r,o){for(const l of r.filters)if(!l.matches(o))return!1;return!0}(i,e)&&function(r,o){return!(r.startAt&&!function(f,p,g){const E=V1(f,p,g);return f.inclusive?E<=0:E<0}(r.startAt,Hh(r),o)||r.endAt&&!function(f,p,g){const E=V1(f,p,g);return f.inclusive?E>=0:E>0}(r.endAt,Hh(r),o))}(i,e)}function TO(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function hT(i){return(e,t)=>{let r=!1;for(const o of Hh(i)){const l=IO(o,e,t);if(l!==0)return l;r=r||o.field.isKeyField()}return 0}}function IO(i,e,t){const r=i.field.isKeyField()?it.comparator(e.key,t.key):function(l,f,p){const g=f.data.field(l),E=p.data.field(l);return g!==null&&E!==null?pf(g,E):ft()}(i.field,e,t);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return ft()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[o,l]of r)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ol(this.inner,(t,r)=>{for(const[o,l]of r)e(o,l)})}isEmpty(){return nT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO=new gn(it.comparator);function oa(){return AO}const dT=new gn(it.comparator);function Dh(...i){let e=dT;for(const t of i)e=e.insert(t.key,t);return e}function pT(i){let e=dT;return i.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Tl(){return Wh()}function gT(){return Wh()}function Wh(){return new Cl(i=>i.toString(),(i,e)=>i.isEqual(e))}const SO=new gn(it.comparator),bO=new Hn(it.comparator);function kt(...i){let e=bO;for(const t of i)e=e.add(t);return e}const RO=new Hn(Lt);function PO(){return RO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n_(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gp(e)?"-0":e}}function mT(i){return{integerValue:""+i}}function kO(i,e){return nO(e)?mT(e):n_(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(){this._=void 0}}function OO(i,e,t){return i instanceof Xp?function(o,l){const f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Jv(l)&&(l=pg(l)),l&&(f.fields.__previous_value__=l),{mapValue:f}}(t,e):i instanceof rd?vT(i,e):i instanceof id?_T(i,e):function(o,l){const f=yT(o,l),p=B1(f)+B1(o.Pe);return bv(f)&&bv(o.Pe)?mT(p):n_(o.serializer,p)}(i,e)}function CO(i,e,t){return i instanceof rd?vT(i,e):i instanceof id?_T(i,e):t}function yT(i,e){return i instanceof Jp?function(r){return bv(r)||function(l){return!!l&&"doubleValue"in l}(r)}(e)?e:{integerValue:0}:null}class Xp extends _g{}class rd extends _g{constructor(e){super(),this.elements=e}}function vT(i,e){const t=ET(e);for(const r of i.elements)t.some(o=>uo(o,r))||t.push(r);return{arrayValue:{values:t}}}class id extends _g{constructor(e){super(),this.elements=e}}function _T(i,e){let t=ET(e);for(const r of i.elements)t=t.filter(o=>!uo(o,r));return{arrayValue:{values:t}}}class Jp extends _g{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function B1(i){return On(i.integerValue||i.doubleValue)}function ET(i){return Zv(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function NO(i,e){return i.field.isEqual(e.field)&&function(r,o){return r instanceof rd&&o instanceof rd||r instanceof id&&o instanceof id?df(r.elements,o.elements,uo):r instanceof Jp&&o instanceof Jp?uo(r.Pe,o.Pe):r instanceof Xp&&o instanceof Xp}(i.transform,e.transform)}class xO{constructor(e,t){this.version=e,this.transformResults=t}}class na{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new na}static exists(e){return new na(void 0,e)}static updateTime(e){return new na(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lp(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Eg{}function wT(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new IT(i.key,na.none()):new hd(i.key,i.data,na.none());{const t=i.data,r=Yi.empty();let o=new Hn(hr.comparator);for(let l of e.fields)if(!o.has(l)){let f=t.field(l);f===null&&l.length>1&&(l=l.popLast(),f=t.field(l)),f===null?r.delete(l):r.set(l,f),o=o.add(l)}return new Nl(i.key,r,new Ss(o.toArray()),na.none())}}function LO(i,e,t){i instanceof hd?function(o,l,f){const p=o.value.clone(),g=z1(o.fieldTransforms,l,f.transformResults);p.setAll(g),l.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(i,e,t):i instanceof Nl?function(o,l,f){if(!Lp(o.precondition,l))return void l.convertToUnknownDocument(f.version);const p=z1(o.fieldTransforms,l,f.transformResults),g=l.data;g.setAll(TT(o)),g.setAll(p),l.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(i,e,t):function(o,l,f){l.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,t)}function Kh(i,e,t,r){return i instanceof hd?function(l,f,p,g){if(!Lp(l.precondition,f))return p;const E=l.value.clone(),w=$1(l.fieldTransforms,g,f);return E.setAll(w),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),null}(i,e,t,r):i instanceof Nl?function(l,f,p,g){if(!Lp(l.precondition,f))return p;const E=$1(l.fieldTransforms,g,f),w=f.data;return w.setAll(TT(l)),w.setAll(E),f.convertToFoundDocument(f.version,w).setHasLocalMutations(),p===null?null:p.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(v=>v.field))}(i,e,t,r):function(l,f,p){return Lp(l.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p}(i,e,t)}function DO(i,e){let t=null;for(const r of i.fieldTransforms){const o=e.data.field(r.field),l=yT(r.transform,o||null);l!=null&&(t===null&&(t=Yi.empty()),t.set(r.field,l))}return t||null}function j1(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&df(r,o,(l,f)=>NO(l,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class hd extends Eg{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Nl extends Eg{constructor(e,t,r,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function TT(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=i.data.field(t);e.set(t,r)}}),e}function z1(i,e,t){const r=new Map;Yt(i.length===t.length);for(let o=0;o<t.length;o++){const l=i[o],f=l.transform,p=e.data.field(l.field);r.set(l.field,CO(f,p,t[o]))}return r}function $1(i,e,t){const r=new Map;for(const o of i){const l=o.transform,f=t.data.field(o.field);r.set(o.field,OO(l,f,e))}return r}class IT extends Eg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class MO extends Eg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&LO(l,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Kh(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Kh(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=gT();return this.mutations.forEach(o=>{const l=e.get(o.key),f=l.overlayedDocument;let p=this.applyToLocalView(f,l.mutatedFields);p=t.has(o.key)?null:p;const g=wT(f,p);g!==null&&r.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(ht.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),kt())}isEqual(e){return this.batchId===e.batchId&&df(this.mutations,e.mutations,(t,r)=>j1(t,r))&&df(this.baseMutations,e.baseMutations,(t,r)=>j1(t,r))}}class r_{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){Yt(e.mutations.length===r.length);let o=function(){return SO}();const l=e.mutations;for(let f=0;f<l.length;f++)o=o.insert(l[f].key,r[f].version);return new r_(e,t,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mn,Ft;function qO(i){switch(i){default:return ft();case De.CANCELLED:case De.UNKNOWN:case De.DEADLINE_EXCEEDED:case De.RESOURCE_EXHAUSTED:case De.INTERNAL:case De.UNAVAILABLE:case De.UNAUTHENTICATED:return!1;case De.INVALID_ARGUMENT:case De.NOT_FOUND:case De.ALREADY_EXISTS:case De.PERMISSION_DENIED:case De.FAILED_PRECONDITION:case De.ABORTED:case De.OUT_OF_RANGE:case De.UNIMPLEMENTED:case De.DATA_LOSS:return!0}}function AT(i){if(i===void 0)return sa("GRPC error has no .code"),De.UNKNOWN;switch(i){case Mn.OK:return De.OK;case Mn.CANCELLED:return De.CANCELLED;case Mn.UNKNOWN:return De.UNKNOWN;case Mn.DEADLINE_EXCEEDED:return De.DEADLINE_EXCEEDED;case Mn.RESOURCE_EXHAUSTED:return De.RESOURCE_EXHAUSTED;case Mn.INTERNAL:return De.INTERNAL;case Mn.UNAVAILABLE:return De.UNAVAILABLE;case Mn.UNAUTHENTICATED:return De.UNAUTHENTICATED;case Mn.INVALID_ARGUMENT:return De.INVALID_ARGUMENT;case Mn.NOT_FOUND:return De.NOT_FOUND;case Mn.ALREADY_EXISTS:return De.ALREADY_EXISTS;case Mn.PERMISSION_DENIED:return De.PERMISSION_DENIED;case Mn.FAILED_PRECONDITION:return De.FAILED_PRECONDITION;case Mn.ABORTED:return De.ABORTED;case Mn.OUT_OF_RANGE:return De.OUT_OF_RANGE;case Mn.UNIMPLEMENTED:return De.UNIMPLEMENTED;case Mn.DATA_LOSS:return De.DATA_LOSS;default:return ft()}}(Ft=Mn||(Mn={}))[Ft.OK=0]="OK",Ft[Ft.CANCELLED=1]="CANCELLED",Ft[Ft.UNKNOWN=2]="UNKNOWN",Ft[Ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ft[Ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ft[Ft.NOT_FOUND=5]="NOT_FOUND",Ft[Ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ft[Ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ft[Ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ft[Ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ft[Ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ft[Ft.ABORTED=10]="ABORTED",Ft[Ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ft[Ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ft[Ft.INTERNAL=13]="INTERNAL",Ft[Ft.UNAVAILABLE=14]="UNAVAILABLE",Ft[Ft.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO=new Sl([4294967295,4294967295],0);function H1(i){const e=BO().encode(i),t=new Gw;return t.update(e),new Uint8Array(t.digest())}function W1(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Sl([t,r],0),new Sl([o,l],0)]}class i_{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Mh(`Invalid padding: ${t}`);if(r<0)throw new Mh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Mh(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Mh(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=Sl.fromNumber(this.Te)}Ee(e,t,r){let o=e.add(t.multiply(Sl.fromNumber(r)));return o.compare(jO)===1&&(o=new Sl([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=H1(e),[r,o]=W1(t);for(let l=0;l<this.hashCount;l++){const f=this.Ee(r,o,l);if(!this.de(f))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),f=new i_(l,o,t);return r.forEach(p=>f.insert(p)),f}insert(e){if(this.Te===0)return;const t=H1(e),[r,o]=W1(t);for(let l=0;l<this.hashCount;l++){const f=this.Ee(r,o,l);this.Ae(f)}}Ae(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Mh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(e,t,r,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,dd.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new wg(ht.min(),o,new gn(Lt),oa(),kt())}}class dd{constructor(e,t,r,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new dd(r,t,kt(),kt(),kt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(e,t,r,o){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=o}}class ST{constructor(e,t){this.targetId=e,this.me=t}}class bT{constructor(e,t,r=dr.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class K1{constructor(){this.fe=0,this.ge=G1(),this.pe=dr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=kt(),t=kt(),r=kt();return this.ge.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:ft()}}),new dd(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=G1()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Yt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class zO{constructor(e){this.Le=e,this.Be=new Map,this.ke=oa(),this.qe=Sp(),this.Qe=Sp(),this.Ke=new gn(Lt)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const r=this.ze(t);switch(e.state){case 0:this.je(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.je(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),r.De(e.resumeToken));break;default:ft()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,o)=>{this.je(o)&&t(o)})}Je(e){const t=e.targetId,r=e.me.count,o=this.Ye(t);if(o){const l=o.target;if(Pv(l))if(r===0){const f=new it(l.path);this.We(t,f,Sr.newNoDocument(f,ht.min()))}else Yt(r===1);else{const f=this.Ze(t);if(f!==r){const p=this.Xe(e),g=p?this.et(p,e,f):1;if(g!==0){this.He(t);const E=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,E)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:l=0}=t;let f,p;try{f=vu(r).toUint8Array()}catch(g){if(g instanceof rT)return hf("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new i_(f,o,l)}catch(g){return hf(g instanceof Mh?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.Te===0?null:p}et(e,t,r){return t.me.count===r-this.rt(e,t.targetId)?0:2}rt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let o=0;return r.forEach(l=>{const f=this.Le.nt(),p=`projects/${f.projectId}/databases/${f.database}/documents/${l.path.canonicalString()}`;e.mightContain(p)||(this.We(t,l,null),o++)}),o}it(e){const t=new Map;this.Be.forEach((l,f)=>{const p=this.Ye(f);if(p){if(l.current&&Pv(p.target)){const g=new it(p.target.path);this.st(g).has(f)||this.ot(f,g)||this.We(f,g,Sr.newNoDocument(g,e))}l.be&&(t.set(f,l.ve()),l.Ce())}});let r=kt();this.Qe.forEach((l,f)=>{let p=!0;f.forEachWhile(g=>{const E=this.Ye(g);return!E||E.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(r=r.add(l))}),this.ke.forEach((l,f)=>f.setReadTime(e));const o=new wg(e,t,this.Ke,this.ke,r);return this.ke=oa(),this.qe=Sp(),this.Qe=Sp(),this.Ke=new gn(Lt),o}Ue(e,t){if(!this.je(e))return;const r=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,r){if(!this.je(e))return;const o=this.ze(e);this.ot(e,t)?o.Fe(t,1):o.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new K1,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new Hn(Lt),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Hn(Lt),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||He("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new K1),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Sp(){return new gn(it.comparator)}function G1(){return new gn(it.comparator)}const $O={asc:"ASCENDING",desc:"DESCENDING"},HO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},WO={and:"AND",or:"OR"};class KO{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ov(i,e){return i.useProto3Json||dg(e)?e:{value:e}}function Zp(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function RT(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function GO(i,e){return Zp(i,e.toTimestamp())}function oo(i){return Yt(!!i),ht.fromTimestamp(function(t){const r=yu(t);return new $n(r.seconds,r.nanos)}(i))}function s_(i,e){return Cv(i,e).canonicalString()}function Cv(i,e){const t=function(o){return new Tn(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?t:t.child(e)}function PT(i){const e=Tn.fromString(i);return Yt(xT(e)),e}function Nv(i,e){return s_(i.databaseId,e.path)}function Pm(i,e){const t=PT(e);if(t.get(1)!==i.databaseId.projectId)throw new nt(De.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new nt(De.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new it(OT(t))}function kT(i,e){return s_(i.databaseId,e)}function QO(i){const e=PT(i);return e.length===4?Tn.emptyPath():OT(e)}function xv(i){return new Tn(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function OT(i){return Yt(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function Q1(i,e,t){return{name:Nv(i,e),fields:t.value.mapValue.fields}}function YO(i,e){let t;if("targetChange"in e){e.targetChange;const r=function(E){return E==="NO_CHANGE"?0:E==="ADD"?1:E==="REMOVE"?2:E==="CURRENT"?3:E==="RESET"?4:ft()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(E,w){return E.useProto3Json?(Yt(w===void 0||typeof w=="string"),dr.fromBase64String(w||"")):(Yt(w===void 0||w instanceof Buffer||w instanceof Uint8Array),dr.fromUint8Array(w||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,p=f&&function(E){const w=E.code===void 0?De.UNKNOWN:AT(E.code);return new nt(w,E.message||"")}(f);t=new bT(r,o,l,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Pm(i,r.document.name),l=oo(r.document.updateTime),f=r.document.createTime?oo(r.document.createTime):ht.min(),p=new Yi({mapValue:{fields:r.document.fields}}),g=Sr.newFoundDocument(o,l,f,p),E=r.targetIds||[],w=r.removedTargetIds||[];t=new Dp(E,w,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Pm(i,r.document),l=r.readTime?oo(r.readTime):ht.min(),f=Sr.newNoDocument(o,l),p=r.removedTargetIds||[];t=new Dp([],p,f.key,f)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Pm(i,r.document),l=r.removedTargetIds||[];t=new Dp([],l,o,null)}else{if(!("filter"in e))return ft();{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:l}=r,f=new FO(o,l),p=r.targetId;t=new ST(p,f)}}return t}function XO(i,e){let t;if(e instanceof hd)t={update:Q1(i,e.key,e.value)};else if(e instanceof IT)t={delete:Nv(i,e.key)};else if(e instanceof Nl)t={update:Q1(i,e.key,e.data),updateMask:oC(e.fieldMask)};else{if(!(e instanceof MO))return ft();t={verify:Nv(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(l,f){const p=f.transform;if(p instanceof Xp)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof rd)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof id)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Jp)return{fieldPath:f.field.canonicalString(),increment:p.Pe};throw ft()}(0,r))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:GO(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:ft()}(i,e.precondition)),t}function JO(i,e){return i&&i.length>0?(Yt(e!==void 0),i.map(t=>function(o,l){let f=o.updateTime?oo(o.updateTime):oo(l);return f.isEqual(ht.min())&&(f=oo(l)),new xO(f,o.transformResults||[])}(t,e))):[]}function ZO(i,e){return{documents:[kT(i,e.path)]}}function eC(i,e){const t={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=kT(i,o);const l=function(E){if(E.length!==0)return NT(lo.create(E,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const f=function(E){if(E.length!==0)return E.map(w=>function(y){return{field:sf(y.field),direction:rC(y.dir)}}(w))}(e.orderBy);f&&(t.structuredQuery.orderBy=f);const p=Ov(i,e.limit);return p!==null&&(t.structuredQuery.limit=p),e.startAt&&(t.structuredQuery.startAt=function(E){return{before:E.inclusive,values:E.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(E){return{before:!E.inclusive,values:E.position}}(e.endAt)),{ct:t,parent:o}}function tC(i){let e=QO(i.parent);const t=i.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){Yt(r===1);const w=t.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let l=[];t.where&&(l=function(v){const y=CT(v);return y instanceof lo&&aT(y)?y.getFilters():[y]}(t.where));let f=[];t.orderBy&&(f=function(v){return v.map(y=>function(P){return new Yp(of(P.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(y))}(t.orderBy));let p=null;t.limit&&(p=function(v){let y;return y=typeof v=="object"?v.value:v,dg(y)?null:y}(t.limit));let g=null;t.startAt&&(g=function(v){const y=!!v.before,_=v.values||[];return new Qp(_,y)}(t.startAt));let E=null;return t.endAt&&(E=function(v){const y=!v.before,_=v.values||[];return new Qp(_,y)}(t.endAt)),_O(e,o,f,l,p,"F",g,E)}function nC(i,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ft()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function CT(i){return i.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=of(t.unaryFilter.field);return zn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=of(t.unaryFilter.field);return zn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=of(t.unaryFilter.field);return zn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=of(t.unaryFilter.field);return zn.create(f,"!=",{nullValue:"NULL_VALUE"});default:return ft()}}(i):i.fieldFilter!==void 0?function(t){return zn.create(of(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ft()}}(t.fieldFilter.op),t.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(t){return lo.create(t.compositeFilter.filters.map(r=>CT(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ft()}}(t.compositeFilter.op))}(i):ft()}function rC(i){return $O[i]}function iC(i){return HO[i]}function sC(i){return WO[i]}function sf(i){return{fieldPath:i.canonicalString()}}function of(i){return hr.fromServerFormat(i.fieldPath)}function NT(i){return i instanceof zn?function(t){if(t.op==="=="){if(M1(t.value))return{unaryFilter:{field:sf(t.field),op:"IS_NAN"}};if(D1(t.value))return{unaryFilter:{field:sf(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(M1(t.value))return{unaryFilter:{field:sf(t.field),op:"IS_NOT_NAN"}};if(D1(t.value))return{unaryFilter:{field:sf(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sf(t.field),op:iC(t.op),value:t.value}}}(i):i instanceof lo?function(t){const r=t.getFilters().map(o=>NT(o));return r.length===1?r[0]:{compositeFilter:{op:sC(t.op),filters:r}}}(i):ft()}function oC(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function xT(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,t,r,o,l=ht.min(),f=ht.min(),p=dr.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new lu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new lu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new lu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new lu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e){this.ht=e}}function uC(i){const e=tC({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?kv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(){this.ln=new cC}addToCollectionParentIndex(e,t){return this.ln.add(t),ke.resolve()}getCollectionParents(e,t){return ke.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return ke.resolve()}deleteFieldIndex(e,t){return ke.resolve()}deleteAllFieldIndexes(e){return ke.resolve()}createTargetIndexes(e,t){return ke.resolve()}getDocumentsMatchingTarget(e,t){return ke.resolve(null)}getIndexType(e,t){return ke.resolve(0)}getFieldIndexes(e,t){return ke.resolve([])}getNextCollectionGroupToUpdate(e){return ke.resolve(null)}getMinOffset(e,t){return ke.resolve(mu.min())}getMinOffsetFromCollectionGroup(e,t){return ke.resolve(mu.min())}updateCollectionGroup(e,t,r){return ke.resolve()}updateIndexEntries(e,t){return ke.resolve()}}class cC{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Hn(Tn.comparator),l=!o.has(r);return this.index[t]=o.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Hn(Tn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ni{static withCacheSize(e){return new ni(e,ni.DEFAULT_COLLECTION_PERCENTILE,ni.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ni.DEFAULT_COLLECTION_PERCENTILE=10,ni.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ni.DEFAULT=new ni(41943040,ni.DEFAULT_COLLECTION_PERCENTILE,ni.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ni.DISABLED=new ni(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new mf(0)}static Qn(){return new mf(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X1([i,e],[t,r]){const o=Lt(i,t);return o===0?Lt(e,r):o}class fC{constructor(e){this.Gn=e,this.buffer=new Hn(X1),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();X1(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class hC{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){He("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){If(t)?He("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await Tf(t)}await this.Yn(3e5)})}}class dC{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return ke.resolve(hg.oe);const r=new fC(t);return this.Zn.forEachTarget(e,o=>r.Hn(o.sequenceNumber)).next(()=>this.Zn.er(e,o=>r.Hn(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Zn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(He("LruGarbageCollector","Garbage collection skipped; disabled"),ke.resolve(Y1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(He("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Y1):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let r,o,l,f,p,g,E;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(He("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),o=this.params.maximumSequenceNumbersToCollect):o=v,f=Date.now(),this.nthSequenceNumber(e,o))).next(v=>(r=v,p=Date.now(),this.removeTargets(e,r,t))).next(v=>(l=v,g=Date.now(),this.removeOrphanedDocuments(e,r))).next(v=>(E=Date.now(),nf()<=St.DEBUG&&He("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-w}ms
	Determined least recently used ${o} in `+(p-f)+`ms
	Removed ${l} targets in `+(g-p)+`ms
	Removed ${v} documents in `+(E-g)+`ms
Total Duration: ${E-w}ms`),ke.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:v})))}}function pC(i,e){return new dC(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(){this.changes=new Cl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Sr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ke.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(r!==null&&Kh(r.mutation,o,Ss.empty(),$n.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,kt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=kt()){const o=Tl();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(l=>{let f=Dh();return l.forEach((p,g)=>{f=f.insert(p,g.overlayedDocument)}),f}))}getOverlayedDocuments(e,t){const r=Tl();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,kt()))}populateOverlays(e,t,r){const o=[];return r.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((f,p)=>{t.set(f,p)})})}computeViews(e,t,r,o){let l=oa();const f=Wh(),p=function(){return Wh()}();return t.forEach((g,E)=>{const w=r.get(E.key);o.has(E.key)&&(w===void 0||w.mutation instanceof Nl)?l=l.insert(E.key,E):w!==void 0?(f.set(E.key,w.mutation.getFieldMask()),Kh(w.mutation,E,w.mutation.getFieldMask(),$n.now())):f.set(E.key,Ss.empty())}),this.recalculateAndSaveOverlays(e,l).next(g=>(g.forEach((E,w)=>f.set(E,w)),t.forEach((E,w)=>{var v;return p.set(E,new mC(w,(v=f.get(E))!==null&&v!==void 0?v:null))}),p))}recalculateAndSaveOverlays(e,t){const r=Wh();let o=new gn((f,p)=>f-p),l=kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(f=>{for(const p of f)p.keys().forEach(g=>{const E=t.get(g);if(E===null)return;let w=r.get(g)||Ss.empty();w=p.applyToLocalView(E,w),r.set(g,w);const v=(o.get(p.batchId)||kt()).add(g);o=o.insert(p.batchId,v)})}).next(()=>{const f=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),E=g.key,w=g.value,v=gT();w.forEach(y=>{if(!l.has(y)){const _=wT(t.get(y),r.get(y));_!==null&&v.set(y,_),l=l.add(y)}}),f.push(this.documentOverlayCache.saveOverlays(e,E,v))}return ke.waitFor(f)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,o){return function(f){return it.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):EO(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,o):this.getDocumentsMatchingCollectionQuery(e,t,r,o)}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(l=>{const f=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-l.size):ke.resolve(Tl());let p=-1,g=l;return f.next(E=>ke.forEach(E,(w,v)=>(p<v.largestBatchId&&(p=v.largestBatchId),l.get(w)?ke.resolve():this.remoteDocumentCache.getEntry(e,w).next(y=>{g=g.insert(w,y)}))).next(()=>this.populateOverlays(e,E,l)).next(()=>this.computeViews(e,g,E,kt())).next(w=>({batchId:p,changes:pT(w)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new it(t)).next(r=>{let o=Dh();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r,o){const l=t.collectionGroup;let f=Dh();return this.indexManager.getCollectionParents(e,l).next(p=>ke.forEach(p,g=>{const E=function(v,y){return new gg(y,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(t,g.child(l));return this.getDocumentsMatchingCollectionQuery(e,E,r,o).next(w=>{w.forEach((v,y)=>{f=f.insert(v,y)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,t,r,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(f=>(l=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,l,o))).next(f=>{l.forEach((g,E)=>{const w=E.getKey();f.get(w)===null&&(f=f.insert(w,Sr.newInvalidDocument(w)))});let p=Dh();return f.forEach((g,E)=>{const w=l.get(g);w!==void 0&&Kh(w.mutation,E,Ss.empty(),$n.now()),vg(t,E)&&(p=p.insert(g,E))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return ke.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:oo(o.createTime)}}(t)),ke.resolve()}getNamedQuery(e,t){return ke.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(o){return{name:o.name,query:uC(o.bundledQuery),readTime:oo(o.readTime)}}(t)),ke.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(){this.overlays=new gn(it.comparator),this.Er=new Map}getOverlay(e,t){return ke.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Tl();return ke.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&r.set(o,l)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,l)=>{this.Tt(e,t,l)}),ke.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.Er.get(r);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Er.delete(r)),ke.resolve()}getOverlaysForCollection(e,t,r){const o=Tl(),l=t.length+1,f=new it(t.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const g=p.getNext().value,E=g.getKey();if(!t.isPrefixOf(E.path))break;E.path.length===l&&g.largestBatchId>r&&o.set(g.getKey(),g)}return ke.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let l=new gn((E,w)=>E-w);const f=this.overlays.getIterator();for(;f.hasNext();){const E=f.getNext().value;if(E.getKey().getCollectionGroup()===t&&E.largestBatchId>r){let w=l.get(E.largestBatchId);w===null&&(w=Tl(),l=l.insert(E.largestBatchId,w)),w.set(E.getKey(),E)}}const p=Tl(),g=l.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((E,w)=>p.set(E,w)),!(p.size()>=o)););return ke.resolve(p)}Tt(e,t,r){const o=this.overlays.get(r.key);if(o!==null){const f=this.Er.get(o.largestBatchId).delete(r.key);this.Er.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new UO(t,r));let l=this.Er.get(t);l===void 0&&(l=kt(),this.Er.set(t,l)),this.Er.set(t,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(){this.sessionToken=dr.EMPTY_BYTE_STRING}getSessionToken(e){return ke.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ke.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(){this.dr=new Hn(rr.Ar),this.Rr=new Hn(rr.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const r=new rr(e,t);this.dr=this.dr.add(r),this.Rr=this.Rr.add(r)}mr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.gr(new rr(e,t))}pr(e,t){e.forEach(r=>this.removeReference(r,t))}yr(e){const t=new it(new Tn([])),r=new rr(t,e),o=new rr(t,e+1),l=[];return this.Rr.forEachInRange([r,o],f=>{this.gr(f),l.push(f.key)}),l}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new it(new Tn([])),r=new rr(t,e),o=new rr(t,e+1);let l=kt();return this.Rr.forEachInRange([r,o],f=>{l=l.add(f.key)}),l}containsKey(e){const t=new rr(e,0),r=this.dr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class rr{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return it.comparator(e.key,t.key)||Lt(e.br,t.br)}static Vr(e,t){return Lt(e.br,t.br)||it.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new Hn(rr.Ar)}checkEmpty(e){return ke.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,o){const l=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new VO(l,t,r,o);this.mutationQueue.push(f);for(const p of o)this.vr=this.vr.add(new rr(p.key,l)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ke.resolve(f)}lookupMutationBatch(e,t){return ke.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=this.Fr(r),l=o<0?0:o;return ke.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ke.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return ke.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new rr(t,0),o=new rr(t,Number.POSITIVE_INFINITY),l=[];return this.vr.forEachInRange([r,o],f=>{const p=this.Cr(f.br);l.push(p)}),ke.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Hn(Lt);return t.forEach(o=>{const l=new rr(o,0),f=new rr(o,Number.POSITIVE_INFINITY);this.vr.forEachInRange([l,f],p=>{r=r.add(p.br)})}),ke.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let l=r;it.isDocumentKey(l)||(l=l.child(""));const f=new rr(new it(l),0);let p=new Hn(Lt);return this.vr.forEachWhile(g=>{const E=g.key.path;return!!r.isPrefixOf(E)&&(E.length===o&&(p=p.add(g.br)),!0)},f),ke.resolve(this.Mr(p))}Mr(e){const t=[];return e.forEach(r=>{const o=this.Cr(r);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Yt(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return ke.forEach(t.mutations,o=>{const l=new rr(o.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.vr=r})}Ln(e){}containsKey(e,t){const r=new rr(t,0),o=this.vr.firstAfterOrEqual(r);return ke.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ke.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e){this.Nr=e,this.docs=function(){return new gn(it.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),l=o?o.size:0,f=this.Nr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:f}),this.size+=f-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ke.resolve(r?r.document.mutableCopy():Sr.newInvalidDocument(t))}getEntries(e,t){let r=oa();return t.forEach(o=>{const l=this.docs.get(o);r=r.insert(o,l?l.document.mutableCopy():Sr.newInvalidDocument(o))}),ke.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let l=oa();const f=t.path,p=new it(f.child("")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:E,value:{document:w}}=g.getNext();if(!f.isPrefixOf(E.path))break;E.path.length>f.length+1||Jk(Xk(w),r)<=0||(o.has(w.key)||vg(t,w))&&(l=l.insert(w.key,w.mutableCopy()))}return ke.resolve(l)}getAllFromCollectionGroup(e,t,r,o){ft()}Lr(e,t){return ke.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new IC(this)}getSize(e){return ke.resolve(this.size)}}class IC extends gC{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.hr.addEntry(e,o)):this.hr.removeEntry(r)}),ke.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e){this.persistence=e,this.Br=new Cl(t=>e_(t),t_),this.lastRemoteSnapshotVersion=ht.min(),this.highestTargetId=0,this.kr=0,this.qr=new o_,this.targetCount=0,this.Qr=mf.qn()}forEachTarget(e,t){return this.Br.forEach((r,o)=>t(o)),ke.resolve()}getLastRemoteSnapshotVersion(e){return ke.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ke.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),ke.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.kr&&(this.kr=t),ke.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new mf(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,ke.resolve()}updateTargetData(e,t){return this.Un(t),ke.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,ke.resolve()}removeTargets(e,t,r){let o=0;const l=[];return this.Br.forEach((f,p)=>{p.sequenceNumber<=t&&r.get(p.targetId)===null&&(this.Br.delete(f),l.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)}),ke.waitFor(l).next(()=>o)}getTargetCount(e){return ke.resolve(this.targetCount)}getTargetData(e,t){const r=this.Br.get(t)||null;return ke.resolve(r)}addMatchingKeys(e,t,r){return this.qr.mr(t,r),ke.resolve()}removeMatchingKeys(e,t,r){this.qr.pr(t,r);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(f=>{l.push(o.markPotentiallyOrphaned(e,f))}),ke.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),ke.resolve()}getMatchingKeysForTargetId(e,t){const r=this.qr.Sr(t);return ke.resolve(r)}containsKey(e,t){return ke.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e,t){this.Kr={},this.overlays={},this.$r=new hg(0),this.Ur=!1,this.Ur=!0,this.Wr=new EC,this.referenceDelegate=e(this),this.Gr=new AC(this),this.indexManager=new lC,this.remoteDocumentCache=function(o){return new TC(o)}(r=>this.referenceDelegate.zr(r)),this.serializer=new aC(t),this.jr=new vC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new _C,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Kr[e.toKey()];return r||(r=new wC(t,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,r){He("MemoryPersistence","Starting transaction:",e);const o=new SC(this.$r.next());return this.referenceDelegate.Hr(),r(o).next(l=>this.referenceDelegate.Jr(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Yr(e,t){return ke.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,t)))}}class SC extends eO{constructor(e){super(),this.currentSequenceNumber=e}}class a_{constructor(e){this.persistence=e,this.Zr=new o_,this.Xr=null}static ei(e){return new a_(e)}get ti(){if(this.Xr)return this.Xr;throw ft()}addReference(e,t,r){return this.Zr.addReference(r,t),this.ti.delete(r.toString()),ke.resolve()}removeReference(e,t,r){return this.Zr.removeReference(r,t),this.ti.add(r.toString()),ke.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),ke.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(o=>this.ti.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.ti.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ke.forEach(this.ti,r=>{const o=it.fromPath(r);return this.ni(e,o).next(l=>{l||t.removeEntry(o,ht.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(r=>{r?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return ke.or([()=>ke.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class eg{constructor(e,t){this.persistence=e,this.ri=new Cl(r=>rO(r.path),(r,o)=>r.isEqual(o)),this.garbageCollector=pC(this,t)}static ei(e,t){return new eg(e,t)}Hr(){}Jr(e){return ke.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}nr(e){let t=0;return this.er(e,r=>{t++}).next(()=>t)}er(e,t){return ke.forEach(this.ri,(r,o)=>this.ir(e,r,o).next(l=>l?ke.resolve():t(o)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.Lr(e,f=>this.ir(e,f,t).next(p=>{p||(r++,l.removeEntry(f,ht.min()))})).next(()=>l.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),ke.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),ke.resolve()}removeReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),ke.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),ke.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Np(e.data.value)),t}ir(e,t,r){return ke.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.ri.get(t);return ke.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Wi=r,this.Gi=o}static zi(e,t){let r=kt(),o=kt();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new u_(e,t.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return Lb()?8:tO(cn())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,r,o){const l={result:null};return this.Xi(e,t).next(f=>{l.result=f}).next(()=>{if(!l.result)return this.es(e,t,o,r).next(f=>{l.result=f})}).next(()=>{if(l.result)return;const f=new bC;return this.ts(e,t,f).next(p=>{if(l.result=p,this.Hi)return this.ns(e,t,f,p.size)})}).next(()=>l.result)}ns(e,t,r,o){return r.documentReadCount<this.Ji?(nf()<=St.DEBUG&&He("QueryEngine","SDK will not create cache indexes for query:",rf(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),ke.resolve()):(nf()<=St.DEBUG&&He("QueryEngine","Query:",rf(t),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.Yi*o?(nf()<=St.DEBUG&&He("QueryEngine","The SDK decides to create cache indexes for query:",rf(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,so(t))):ke.resolve())}Xi(e,t){if(q1(t))return ke.resolve(null);let r=so(t);return this.indexManager.getIndexType(e,r).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=kv(t,null,"F"),r=so(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(l=>{const f=kt(...l);return this.Zi.getDocuments(e,f).next(p=>this.indexManager.getMinOffset(e,r).next(g=>{const E=this.rs(t,p);return this.ss(t,E,f,g.readTime)?this.Xi(e,kv(t,null,"F")):this.os(e,E,t,g)}))})))}es(e,t,r,o){return q1(t)||o.isEqual(ht.min())?ke.resolve(null):this.Zi.getDocuments(e,r).next(l=>{const f=this.rs(t,l);return this.ss(t,f,r,o)?ke.resolve(null):(nf()<=St.DEBUG&&He("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),rf(t)),this.os(e,f,t,Yk(o,-1)).next(p=>p))})}rs(e,t){let r=new Hn(hT(e));return t.forEach((o,l)=>{vg(e,l)&&(r=r.add(l))}),r}ss(e,t,r,o){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}ts(e,t,r){return nf()<=St.DEBUG&&He("QueryEngine","Using full collection scan to execute query:",rf(t)),this.Zi.getDocumentsMatchingQuery(e,t,mu.min(),r)}os(e,t,r,o){return this.Zi.getDocumentsMatchingQuery(e,r,o).next(l=>(t.forEach(f=>{l=l.insert(f.key,f)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e,t,r,o){this.persistence=e,this._s=t,this.serializer=o,this.us=new gn(Lt),this.cs=new Cl(l=>e_(l),t_),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yC(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function kC(i,e,t,r){return new PC(i,e,t,r)}async function DT(i,e){const t=pt(i);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(l=>(o=l,t.Ps(e),t.mutationQueue.getAllMutationBatches(r))).next(l=>{const f=[],p=[];let g=kt();for(const E of o){f.push(E.batchId);for(const w of E.mutations)g=g.add(w.key)}for(const E of l){p.push(E.batchId);for(const w of E.mutations)g=g.add(w.key)}return t.localDocuments.getDocuments(r,g).next(E=>({Ts:E,removedBatchIds:f,addedBatchIds:p}))})})}function OC(i,e){const t=pt(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),l=t.hs.newChangeBuffer({trackRemovals:!0});return function(p,g,E,w){const v=E.batch,y=v.keys();let _=ke.resolve();return y.forEach(P=>{_=_.next(()=>w.getEntry(g,P)).next(S=>{const A=E.docVersions.get(P);Yt(A!==null),S.version.compareTo(A)<0&&(v.applyToRemoteDocument(S,E),S.isValidDocument()&&(S.setReadTime(E.commitVersion),w.addEntry(S)))})}),_.next(()=>p.mutationQueue.removeMutationBatch(g,v))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(p){let g=kt();for(let E=0;E<p.mutationResults.length;++E)p.mutationResults[E].transformResults.length>0&&(g=g.add(p.batch.mutations[E].key));return g}(e))).next(()=>t.localDocuments.getDocuments(r,o))})}function MT(i){const e=pt(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function CC(i,e){const t=pt(i),r=e.snapshotVersion;let o=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const f=t.hs.newChangeBuffer({trackRemovals:!0});o=t.us;const p=[];e.targetChanges.forEach((w,v)=>{const y=o.get(v);if(!y)return;p.push(t.Gr.removeMatchingKeys(l,w.removedDocuments,v).next(()=>t.Gr.addMatchingKeys(l,w.addedDocuments,v)));let _=y.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(v)!==null?_=_.withResumeToken(dr.EMPTY_BYTE_STRING,ht.min()).withLastLimboFreeSnapshotVersion(ht.min()):w.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(w.resumeToken,r)),o=o.insert(v,_),function(S,A,b){return S.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=3e8?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(y,_,w)&&p.push(t.Gr.updateTargetData(l,_))});let g=oa(),E=kt();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(l,w))}),p.push(NC(l,f,e.documentUpdates).next(w=>{g=w.Is,E=w.Es})),!r.isEqual(ht.min())){const w=t.Gr.getLastRemoteSnapshotVersion(l).next(v=>t.Gr.setTargetsMetadata(l,l.currentSequenceNumber,r));p.push(w)}return ke.waitFor(p).next(()=>f.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,g,E)).next(()=>g)}).then(l=>(t.us=o,l))}function NC(i,e,t){let r=kt(),o=kt();return t.forEach(l=>r=r.add(l)),e.getEntries(i,r).next(l=>{let f=oa();return t.forEach((p,g)=>{const E=l.get(p);g.isFoundDocument()!==E.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(ht.min())?(e.removeEntry(p,g.readTime),f=f.insert(p,g)):!E.isValidDocument()||g.version.compareTo(E.version)>0||g.version.compareTo(E.version)===0&&E.hasPendingWrites?(e.addEntry(g),f=f.insert(p,g)):He("LocalStore","Ignoring outdated watch update for ",p,". Current version:",E.version," Watch version:",g.version)}),{Is:f,Es:o}})}function xC(i,e){const t=pt(i);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function LC(i,e){const t=pt(i);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.Gr.getTargetData(r,e).next(l=>l?(o=l,ke.resolve(o)):t.Gr.allocateTargetId(r).next(f=>(o=new lu(e,f,"TargetPurposeListen",r.currentSequenceNumber),t.Gr.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.us.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.us=t.us.insert(r.targetId,r),t.cs.set(e,r.targetId)),r})}async function Lv(i,e,t){const r=pt(i),o=r.us.get(e),l=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",l,f=>r.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!If(f))throw f;He("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}r.us=r.us.remove(e),r.cs.delete(o.target)}function J1(i,e,t){const r=pt(i);let o=ht.min(),l=kt();return r.persistence.runTransaction("Execute query","readwrite",f=>function(g,E,w){const v=pt(g),y=v.cs.get(w);return y!==void 0?ke.resolve(v.us.get(y)):v.Gr.getTargetData(E,w)}(r,f,so(e)).next(p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(f,p.targetId).next(g=>{l=g})}).next(()=>r._s.getDocumentsMatchingQuery(f,e,t?o:ht.min(),t?l:kt())).next(p=>(DC(r,TO(e),p),{documents:p,ds:l})))}function DC(i,e,t){let r=i.ls.get(e)||ht.min();t.forEach((o,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),i.ls.set(e,r)}class Z1{constructor(){this.activeTargetIds=PO()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class MC{constructor(){this._o=new Z1,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,r){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Z1,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){He("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){He("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bp=null;function km(){return bp===null?bp=function(){return 268435456+Math.round(2147483648*Math.random())}():bp++,"0x"+bp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir="WebChannelConnection";class qC extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+t.host,this.Mo=`projects/${o}/databases/${l}`,this.xo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${l}`}Oo(t,r,o,l,f){const p=km(),g=this.No(t,r.toUriEncodedString());He("RestConnection",`Sending RPC '${t}' ${p}:`,g,o);const E={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(E,l,f),this.Bo(t,g,E,o).then(w=>(He("RestConnection",`Received RPC '${t}' ${p}: `,w),w),w=>{throw hf("RestConnection",`RPC '${t}' ${p} failed with error: `,w,"url: ",g,"request:",o),w})}ko(t,r,o,l,f,p){return this.Oo(t,r,o,l,f)}Lo(t,r,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+wf}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((l,f)=>t[f]=l),o&&o.headers.forEach((l,f)=>t[f]=l)}No(t,r){const o=UC[t];return`${this.Fo}/v1/${r}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,r,o){const l=km();return new Promise((f,p)=>{const g=new Qw;g.setWithCredentials(!0),g.listenOnce(Yw.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Cp.NO_ERROR:const w=g.getResponseJson();He(Ir,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(w)),f(w);break;case Cp.TIMEOUT:He(Ir,`RPC '${e}' ${l} timed out`),p(new nt(De.DEADLINE_EXCEEDED,"Request time out"));break;case Cp.HTTP_ERROR:const v=g.getStatus();if(He(Ir,`RPC '${e}' ${l} failed with status:`,v,"response text:",g.getResponseText()),v>0){let y=g.getResponseJson();Array.isArray(y)&&(y=y[0]);const _=y==null?void 0:y.error;if(_&&_.status&&_.message){const P=function(A){const b=A.toLowerCase().replace(/_/g,"-");return Object.values(De).indexOf(b)>=0?b:De.UNKNOWN}(_.status);p(new nt(P,_.message))}else p(new nt(De.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new nt(De.UNAVAILABLE,"Connection failed."));break;default:ft()}}finally{He(Ir,`RPC '${e}' ${l} completed.`)}});const E=JSON.stringify(o);He(Ir,`RPC '${e}' ${l} sending request:`,o),g.send(t,"POST",E,r,15)})}qo(e,t,r){const o=km(),l=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Zw(),p=Jw(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},E=this.longPollingOptions.timeoutSeconds;E!==void 0&&(g.longPollingTimeout=Math.round(1e3*E)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Lo(g.initMessageHeaders,t,r),g.encodeInitMessageHeaders=!0;const w=l.join("");He(Ir,`Creating RPC '${e}' stream ${o}: ${w}`,g);const v=f.createWebChannel(w,g);let y=!1,_=!1;const P=new FC({Eo:A=>{_?He(Ir,`Not sending because RPC '${e}' stream ${o} is closed:`,A):(y||(He(Ir,`Opening RPC '${e}' stream ${o} transport.`),v.open(),y=!0),He(Ir,`RPC '${e}' stream ${o} sending:`,A),v.send(A))},Ao:()=>v.close()}),S=(A,b,R)=>{A.listen(b,M=>{try{R(M)}catch(I){setTimeout(()=>{throw I},0)}})};return S(v,Lh.EventType.OPEN,()=>{_||(He(Ir,`RPC '${e}' stream ${o} transport opened.`),P.So())}),S(v,Lh.EventType.CLOSE,()=>{_||(_=!0,He(Ir,`RPC '${e}' stream ${o} transport closed`),P.Do())}),S(v,Lh.EventType.ERROR,A=>{_||(_=!0,hf(Ir,`RPC '${e}' stream ${o} transport errored:`,A),P.Do(new nt(De.UNAVAILABLE,"The operation could not be completed")))}),S(v,Lh.EventType.MESSAGE,A=>{var b;if(!_){const R=A.data[0];Yt(!!R);const M=R,I=(M==null?void 0:M.error)||((b=M[0])===null||b===void 0?void 0:b.error);if(I){He(Ir,`RPC '${e}' stream ${o} received error:`,I);const q=I.status;let $=function(F){const D=Mn[F];if(D!==void 0)return AT(D)}(q),L=I.message;$===void 0&&($=De.INTERNAL,L="Unknown error status: "+q+" with message "+I.message),_=!0,P.Do(new nt($,L)),v.close()}else He(Ir,`RPC '${e}' stream ${o} received:`,R),P.vo(R)}}),S(p,Xw.STAT_EVENT,A=>{A.stat===Av.PROXY?He(Ir,`RPC '${e}' stream ${o} detected buffering proxy`):A.stat===Av.NOPROXY&&He(Ir,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{P.bo()},0),P}}function Om(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tg(i){return new KO(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e,t,r=1e3,o=1.5,l=6e4){this.li=e,this.timerId=t,this.Qo=r,this.Ko=o,this.$o=l,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),o=Math.max(0,t-r);o>0&&He("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e,t,r,o,l,f,p,g){this.li=e,this.Yo=r,this.Zo=o,this.connection=l,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new VT(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===De.RESOURCE_EXHAUSTED?(sa(t.toString()),sa("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===De.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Xo===t&&this.I_(r,o)},r=>{e(()=>{const o=new nt(De.UNKNOWN,"Fetching auth token failed: "+r.message);return this.E_(o)})})}I_(e,t){const r=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(o=>{r(()=>this.E_(o))}),this.stream.onMessage(o=>{r(()=>++this.n_==1?this.A_(o):this.onNext(o))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return He("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(He("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class BC extends UT{constructor(e,t,r,o,l,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,f),this.serializer=l}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=YO(this.serializer,e),r=function(l){if(!("targetChange"in l))return ht.min();const f=l.targetChange;return f.targetIds&&f.targetIds.length?ht.min():f.readTime?oo(f.readTime):ht.min()}(e);return this.listener.R_(t,r)}V_(e){const t={};t.database=xv(this.serializer),t.addTarget=function(l,f){let p;const g=f.target;if(p=Pv(g)?{documents:ZO(l,g)}:{query:eC(l,g).ct},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=RT(l,f.resumeToken);const E=Ov(l,f.expectedCount);E!==null&&(p.expectedCount=E)}else if(f.snapshotVersion.compareTo(ht.min())>0){p.readTime=Zp(l,f.snapshotVersion.toTimestamp());const E=Ov(l,f.expectedCount);E!==null&&(p.expectedCount=E)}return p}(this.serializer,e);const r=nC(this.serializer,e);r&&(t.labels=r),this.c_(t)}m_(e){const t={};t.database=xv(this.serializer),t.removeTarget=e,this.c_(t)}}class jC extends UT{constructor(e,t,r,o,l,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,f),this.serializer=l}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return Yt(!!e.streamToken),this.lastStreamToken=e.streamToken,Yt(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Yt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=JO(e.writeResults,e.commitTime),r=oo(e.commitTime);return this.listener.y_(r,t)}w_(){const e={};e.database=xv(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>XO(this.serializer,r))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.S_=!1}b_(){if(this.S_)throw new nt(De.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,r,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,f])=>this.connection.Oo(e,Cv(t,r),o,l,f)).catch(l=>{throw l.name==="FirebaseError"?(l.code===De.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new nt(De.UNKNOWN,l.toString())})}ko(e,t,r,o,l){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,p])=>this.connection.ko(e,Cv(t,r),o,f,p,l)).catch(f=>{throw f.name==="FirebaseError"?(f.code===De.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new nt(De.UNKNOWN,f.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class $C{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(sa(t),this.C_=!1):He("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e,t,r,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=l,this.Q_.uo(f=>{r.enqueueAndForget(async()=>{xl(this)&&(He("RemoteStore","Restarting streams for network reachability change."),await async function(g){const E=pt(g);E.k_.add(4),await pd(E),E.K_.set("Unknown"),E.k_.delete(4),await Ig(E)}(this))})}),this.K_=new $C(r,o)}}async function Ig(i){if(xl(i))for(const e of i.q_)await e(!0)}async function pd(i){for(const e of i.q_)await e(!1)}function FT(i,e){const t=pt(i);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),h_(t)?f_(t):Af(t).s_()&&c_(t,e))}function l_(i,e){const t=pt(i),r=Af(t);t.B_.delete(e),r.s_()&&qT(t,e),t.B_.size===0&&(r.s_()?r.a_():xl(t)&&t.K_.set("Unknown"))}function c_(i,e){if(i.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ht.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Af(i).V_(e)}function qT(i,e){i.U_.xe(e),Af(i).m_(e)}function f_(i){i.U_=new zO({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>i.B_.get(e)||null,nt:()=>i.datastore.serializer.databaseId}),Af(i).start(),i.K_.F_()}function h_(i){return xl(i)&&!Af(i).i_()&&i.B_.size>0}function xl(i){return pt(i).k_.size===0}function BT(i){i.U_=void 0}async function WC(i){i.K_.set("Online")}async function KC(i){i.B_.forEach((e,t)=>{c_(i,e)})}async function GC(i,e){BT(i),h_(i)?(i.K_.O_(e),f_(i)):i.K_.set("Unknown")}async function QC(i,e,t){if(i.K_.set("Online"),e instanceof bT&&e.state===2&&e.cause)try{await async function(o,l){const f=l.cause;for(const p of l.targetIds)o.B_.has(p)&&(await o.remoteSyncer.rejectListen(p,f),o.B_.delete(p),o.U_.removeTarget(p))}(i,e)}catch(r){He("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await tg(i,r)}else if(e instanceof Dp?i.U_.$e(e):e instanceof ST?i.U_.Je(e):i.U_.Ge(e),!t.isEqual(ht.min()))try{const r=await MT(i.localStore);t.compareTo(r)>=0&&await function(l,f){const p=l.U_.it(f);return p.targetChanges.forEach((g,E)=>{if(g.resumeToken.approximateByteSize()>0){const w=l.B_.get(E);w&&l.B_.set(E,w.withResumeToken(g.resumeToken,f))}}),p.targetMismatches.forEach((g,E)=>{const w=l.B_.get(g);if(!w)return;l.B_.set(g,w.withResumeToken(dr.EMPTY_BYTE_STRING,w.snapshotVersion)),qT(l,g);const v=new lu(w.target,g,E,w.sequenceNumber);c_(l,v)}),l.remoteSyncer.applyRemoteEvent(p)}(i,t)}catch(r){He("RemoteStore","Failed to raise snapshot:",r),await tg(i,r)}}async function tg(i,e,t){if(!If(e))throw e;i.k_.add(1),await pd(i),i.K_.set("Offline"),t||(t=()=>MT(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{He("RemoteStore","Retrying IndexedDB access"),await t(),i.k_.delete(1),await Ig(i)})}function jT(i,e){return e().catch(t=>tg(i,t,e))}async function Ag(i){const e=pt(i),t=Eu(e);let r=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;YC(e);)try{const o=await xC(e.localStore,r);if(o===null){e.L_.length===0&&t.a_();break}r=o.batchId,XC(e,o)}catch(o){await tg(e,o)}zT(e)&&$T(e)}function YC(i){return xl(i)&&i.L_.length<10}function XC(i,e){i.L_.push(e);const t=Eu(i);t.s_()&&t.f_&&t.g_(e.mutations)}function zT(i){return xl(i)&&!Eu(i).i_()&&i.L_.length>0}function $T(i){Eu(i).start()}async function JC(i){Eu(i).w_()}async function ZC(i){const e=Eu(i);for(const t of i.L_)e.g_(t.mutations)}async function eN(i,e,t){const r=i.L_.shift(),o=r_.from(r,e,t);await jT(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await Ag(i)}async function tN(i,e){e&&Eu(i).f_&&await async function(r,o){if(function(f){return qO(f)&&f!==De.ABORTED}(o.code)){const l=r.L_.shift();Eu(r).__(),await jT(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,o)),await Ag(r)}}(i,e),zT(i)&&$T(i)}async function t0(i,e){const t=pt(i);t.asyncQueue.verifyOperationInProgress(),He("RemoteStore","RemoteStore received new credentials");const r=xl(t);t.k_.add(3),await pd(t),r&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await Ig(t)}async function nN(i,e){const t=pt(i);e?(t.k_.delete(2),await Ig(t)):e||(t.k_.add(2),await pd(t),t.K_.set("Unknown"))}function Af(i){return i.W_||(i.W_=function(t,r,o){const l=pt(t);return l.b_(),new BC(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(i.datastore,i.asyncQueue,{Ro:WC.bind(null,i),mo:KC.bind(null,i),po:GC.bind(null,i),R_:QC.bind(null,i)}),i.q_.push(async e=>{e?(i.W_.__(),h_(i)?f_(i):i.K_.set("Unknown")):(await i.W_.stop(),BT(i))})),i.W_}function Eu(i){return i.G_||(i.G_=function(t,r,o){const l=pt(t);return l.b_(),new jC(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(i.datastore,i.asyncQueue,{Ro:()=>Promise.resolve(),mo:JC.bind(null,i),po:tN.bind(null,i),p_:ZC.bind(null,i),y_:eN.bind(null,i)}),i.q_.push(async e=>{e?(i.G_.__(),await Ag(i)):(await i.G_.stop(),i.L_.length>0&&(He("RemoteStore",`Stopping write stream with ${i.L_.length} pending writes`),i.L_=[]))})),i.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(e,t,r,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=l,this.deferred=new hu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,o,l){const f=Date.now()+r,p=new d_(e,t,f,o,l);return p.start(r),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new nt(De.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function p_(i,e){if(sa("AsyncQueue",`${e}: ${i}`),If(i))return new nt(De.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{static emptySet(e){return new lf(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||it.comparator(t.key,r.key):(t,r)=>it.comparator(t.key,r.key),this.keyedMap=Dh(),this.sortedSet=new gn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof lf)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=r.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new lf;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(){this.z_=new gn(it.comparator)}track(e){const t=e.doc.key,r=this.z_.get(t);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(t,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(t):e.type===1&&r.type===2?this.z_=this.z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):ft():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class yf{constructor(e,t,r,o,l,f,p,g,E){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=l,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=E}static fromInitialDocuments(e,t,r,o,l){const f=[];return t.forEach(p=>{f.push({type:0,doc:p})}),new yf(e,t,lf.emptySet(t),f,r,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class iN{constructor(){this.queries=r0(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,r){const o=pt(t),l=o.queries;o.queries=r0(),l.forEach((f,p)=>{for(const g of p.J_)g.onError(r)})})(this,new nt(De.ABORTED,"Firestore shutting down"))}}function r0(){return new Cl(i=>fT(i),yg)}async function HT(i,e){const t=pt(i);let r=3;const o=e.query;let l=t.queries.get(o);l?!l.Y_()&&e.Z_()&&(r=2):(l=new rN,r=e.Z_()?0:1);try{switch(r){case 0:l.H_=await t.onListen(o,!0);break;case 1:l.H_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(f){const p=p_(f,`Initialization of query '${rf(e.query)}' failed`);return void e.onError(p)}t.queries.set(o,l),l.J_.push(e),e.ea(t.onlineState),l.H_&&e.ta(l.H_)&&g_(t)}async function WT(i,e){const t=pt(i),r=e.query;let o=3;const l=t.queries.get(r);if(l){const f=l.J_.indexOf(e);f>=0&&(l.J_.splice(f,1),l.J_.length===0?o=e.Z_()?0:1:!l.Y_()&&e.Z_()&&(o=2))}switch(o){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function sN(i,e){const t=pt(i);let r=!1;for(const o of e){const l=o.query,f=t.queries.get(l);if(f){for(const p of f.J_)p.ta(o)&&(r=!0);f.H_=o}}r&&g_(t)}function oN(i,e,t){const r=pt(i),o=r.queries.get(e);if(o)for(const l of o.J_)l.onError(t);r.queries.delete(e)}function g_(i){i.X_.forEach(e=>{e.next()})}var Dv,i0;(i0=Dv||(Dv={})).na="default",i0.Cache="cache";class KT{constructor(e,t,r){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new yf(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const r=t!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=yf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Dv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(e){this.key=e}}class QT{constructor(e){this.key=e}}class aN{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=kt(),this.mutatedKeys=kt(),this.Va=hT(e),this.ma=new lf(this.Va)}get fa(){return this.da}ga(e,t){const r=t?t.pa:new n0,o=t?t.ma:this.ma;let l=t?t.mutatedKeys:this.mutatedKeys,f=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,E=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((w,v)=>{const y=o.get(w),_=vg(this.query,v)?v:null,P=!!y&&this.mutatedKeys.has(y.key),S=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let A=!1;y&&_?y.data.isEqual(_.data)?P!==S&&(r.track({type:3,doc:_}),A=!0):this.ya(y,_)||(r.track({type:2,doc:_}),A=!0,(g&&this.Va(_,g)>0||E&&this.Va(_,E)<0)&&(p=!0)):!y&&_?(r.track({type:0,doc:_}),A=!0):y&&!_&&(r.track({type:1,doc:y}),A=!0,(g||E)&&(p=!0)),A&&(_?(f=f.add(_),l=S?l.add(w):l.delete(w)):(f=f.delete(w),l=l.delete(w)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const w=this.query.limitType==="F"?f.last():f.first();f=f.delete(w.key),l=l.delete(w.key),r.track({type:1,doc:w})}return{ma:f,pa:r,ss:p,mutatedKeys:l}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,o){const l=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const f=e.pa.j_();f.sort((w,v)=>function(_,P){const S=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ft()}};return S(_)-S(P)}(w.type,v.type)||this.Va(w.doc,v.doc)),this.wa(r),o=o!=null&&o;const p=t&&!o?this.Sa():[],g=this.Ra.size===0&&this.current&&!o?1:0,E=g!==this.Aa;return this.Aa=g,f.length!==0||E?{snapshot:new yf(this.query,e.ma,l,f,e.mutatedKeys,g===0,E,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:p}:{ba:p}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new n0,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=kt(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const t=[];return e.forEach(r=>{this.Ra.has(r)||t.push(new QT(r))}),this.Ra.forEach(r=>{e.has(r)||t.push(new GT(r))}),t}va(e){this.da=e.ds,this.Ra=kt();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return yf.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class uN{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class lN{constructor(e){this.key=e,this.Fa=!1}}class cN{constructor(e,t,r,o,l,f){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=f,this.Ma={},this.xa=new Cl(p=>fT(p),yg),this.Oa=new Map,this.Na=new Set,this.La=new gn(it.comparator),this.Ba=new Map,this.ka=new o_,this.qa={},this.Qa=new Map,this.Ka=mf.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function fN(i,e,t=!0){const r=tI(i);let o;const l=r.xa.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Ca()):o=await YT(r,e,t,!0),o}async function hN(i,e){const t=tI(i);await YT(t,e,!0,!1)}async function YT(i,e,t,r){const o=await LC(i.localStore,so(e)),l=o.targetId,f=i.sharedClientState.addLocalQueryTarget(l,t);let p;return r&&(p=await dN(i,e,l,f==="current",o.resumeToken)),i.isPrimaryClient&&t&&FT(i.remoteStore,o),p}async function dN(i,e,t,r,o){i.Ua=(v,y,_)=>async function(S,A,b,R){let M=A.view.ga(b);M.ss&&(M=await J1(S.localStore,A.query,!1).then(({documents:L})=>A.view.ga(L,M)));const I=R&&R.targetChanges.get(A.targetId),q=R&&R.targetMismatches.get(A.targetId)!=null,$=A.view.applyChanges(M,S.isPrimaryClient,I,q);return o0(S,A.targetId,$.ba),$.snapshot}(i,v,y,_);const l=await J1(i.localStore,e,!0),f=new aN(e,l.ds),p=f.ga(l.documents),g=dd.createSynthesizedTargetChangeForCurrentChange(t,r&&i.onlineState!=="Offline",o),E=f.applyChanges(p,i.isPrimaryClient,g);o0(i,t,E.ba);const w=new uN(e,t,f);return i.xa.set(e,w),i.Oa.has(t)?i.Oa.get(t).push(e):i.Oa.set(t,[e]),E.snapshot}async function pN(i,e,t){const r=pt(i),o=r.xa.get(e),l=r.Oa.get(o.targetId);if(l.length>1)return r.Oa.set(o.targetId,l.filter(f=>!yg(f,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Lv(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),t&&l_(r.remoteStore,o.targetId),Mv(r,o.targetId)}).catch(Tf)):(Mv(r,o.targetId),await Lv(r.localStore,o.targetId,!0))}async function gN(i,e){const t=pt(i),r=t.xa.get(e),o=t.Oa.get(r.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),l_(t.remoteStore,r.targetId))}async function mN(i,e,t){const r=IN(i);try{const o=await function(f,p){const g=pt(f),E=$n.now(),w=p.reduce((_,P)=>_.add(P.key),kt());let v,y;return g.persistence.runTransaction("Locally write mutations","readwrite",_=>{let P=oa(),S=kt();return g.hs.getEntries(_,w).next(A=>{P=A,P.forEach((b,R)=>{R.isValidDocument()||(S=S.add(b))})}).next(()=>g.localDocuments.getOverlayedDocuments(_,P)).next(A=>{v=A;const b=[];for(const R of p){const M=DO(R,v.get(R.key).overlayedDocument);M!=null&&b.push(new Nl(R.key,M,iT(M.value.mapValue),na.exists(!0)))}return g.mutationQueue.addMutationBatch(_,E,b,p)}).next(A=>{y=A;const b=A.applyToLocalDocumentSet(v,S);return g.documentOverlayCache.saveOverlays(_,A.batchId,b)})}).then(()=>({batchId:y.batchId,changes:pT(v)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(f,p,g){let E=f.qa[f.currentUser.toKey()];E||(E=new gn(Lt)),E=E.insert(p,g),f.qa[f.currentUser.toKey()]=E}(r,o.batchId,t),await gd(r,o.changes),await Ag(r.remoteStore)}catch(o){const l=p_(o,"Failed to persist write");t.reject(l)}}async function XT(i,e){const t=pt(i);try{const r=await CC(t.localStore,e);e.targetChanges.forEach((o,l)=>{const f=t.Ba.get(l);f&&(Yt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Fa=!0:o.modifiedDocuments.size>0?Yt(f.Fa):o.removedDocuments.size>0&&(Yt(f.Fa),f.Fa=!1))}),await gd(t,r,e)}catch(r){await Tf(r)}}function s0(i,e,t){const r=pt(i);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const o=[];r.xa.forEach((l,f)=>{const p=f.view.ea(e);p.snapshot&&o.push(p.snapshot)}),function(f,p){const g=pt(f);g.onlineState=p;let E=!1;g.queries.forEach((w,v)=>{for(const y of v.J_)y.ea(p)&&(E=!0)}),E&&g_(g)}(r.eventManager,e),o.length&&r.Ma.R_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function yN(i,e,t){const r=pt(i);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Ba.get(e),l=o&&o.key;if(l){let f=new gn(it.comparator);f=f.insert(l,Sr.newNoDocument(l,ht.min()));const p=kt().add(l),g=new wg(ht.min(),new Map,new gn(Lt),f,p);await XT(r,g),r.La=r.La.remove(l),r.Ba.delete(e),m_(r)}else await Lv(r.localStore,e,!1).then(()=>Mv(r,e,t)).catch(Tf)}async function vN(i,e){const t=pt(i),r=e.batch.batchId;try{const o=await OC(t.localStore,e);ZT(t,r,null),JT(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await gd(t,o)}catch(o){await Tf(o)}}async function _N(i,e,t){const r=pt(i);try{const o=await function(f,p){const g=pt(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",E=>{let w;return g.mutationQueue.lookupMutationBatch(E,p).next(v=>(Yt(v!==null),w=v.keys(),g.mutationQueue.removeMutationBatch(E,v))).next(()=>g.mutationQueue.performConsistencyCheck(E)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(E,w,p)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(E,w)).next(()=>g.localDocuments.getDocuments(E,w))})}(r.localStore,e);ZT(r,e,t),JT(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await gd(r,o)}catch(o){await Tf(o)}}function JT(i,e){(i.Qa.get(e)||[]).forEach(t=>{t.resolve()}),i.Qa.delete(e)}function ZT(i,e,t){const r=pt(i);let o=r.qa[r.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),r.qa[r.currentUser.toKey()]=o}}function Mv(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const r of i.Oa.get(e))i.xa.delete(r),t&&i.Ma.Wa(r,t);i.Oa.delete(e),i.isPrimaryClient&&i.ka.yr(e).forEach(r=>{i.ka.containsKey(r)||eI(i,r)})}function eI(i,e){i.Na.delete(e.path.canonicalString());const t=i.La.get(e);t!==null&&(l_(i.remoteStore,t),i.La=i.La.remove(e),i.Ba.delete(t),m_(i))}function o0(i,e,t){for(const r of t)r instanceof GT?(i.ka.addReference(r.key,e),EN(i,r)):r instanceof QT?(He("SyncEngine","Document no longer in limbo: "+r.key),i.ka.removeReference(r.key,e),i.ka.containsKey(r.key)||eI(i,r.key)):ft()}function EN(i,e){const t=e.key,r=t.path.canonicalString();i.La.get(t)||i.Na.has(r)||(He("SyncEngine","New document in limbo: "+t),i.Na.add(r),m_(i))}function m_(i){for(;i.Na.size>0&&i.La.size<i.maxConcurrentLimboResolutions;){const e=i.Na.values().next().value;i.Na.delete(e);const t=new it(Tn.fromString(e)),r=i.Ka.next();i.Ba.set(r,new lN(t)),i.La=i.La.insert(t,r),FT(i.remoteStore,new lu(so(mg(t.path)),r,"TargetPurposeLimboResolution",hg.oe))}}async function gd(i,e,t){const r=pt(i),o=[],l=[],f=[];r.xa.isEmpty()||(r.xa.forEach((p,g)=>{f.push(r.Ua(g,e,t).then(E=>{var w;if((E||t)&&r.isPrimaryClient){const v=E?!E.fromCache:(w=t==null?void 0:t.targetChanges.get(g.targetId))===null||w===void 0?void 0:w.current;r.sharedClientState.updateQueryState(g.targetId,v?"current":"not-current")}if(E){o.push(E);const v=u_.zi(g.targetId,E);l.push(v)}}))}),await Promise.all(f),r.Ma.R_(o),await async function(g,E){const w=pt(g);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>ke.forEach(E,y=>ke.forEach(y.Wi,_=>w.persistence.referenceDelegate.addReference(v,y.targetId,_)).next(()=>ke.forEach(y.Gi,_=>w.persistence.referenceDelegate.removeReference(v,y.targetId,_)))))}catch(v){if(!If(v))throw v;He("LocalStore","Failed to update sequence numbers: "+v)}for(const v of E){const y=v.targetId;if(!v.fromCache){const _=w.us.get(y),P=_.snapshotVersion,S=_.withLastLimboFreeSnapshotVersion(P);w.us=w.us.insert(y,S)}}}(r.localStore,l))}async function wN(i,e){const t=pt(i);if(!t.currentUser.isEqual(e)){He("SyncEngine","User change. New user:",e.toKey());const r=await DT(t.localStore,e);t.currentUser=e,function(l,f){l.Qa.forEach(p=>{p.forEach(g=>{g.reject(new nt(De.CANCELLED,f))})}),l.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await gd(t,r.Ts)}}function TN(i,e){const t=pt(i),r=t.Ba.get(e);if(r&&r.Fa)return kt().add(r.key);{let o=kt();const l=t.Oa.get(e);if(!l)return o;for(const f of l){const p=t.xa.get(f);o=o.unionWith(p.view.fa)}return o}}function tI(i){const e=pt(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=XT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=TN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yN.bind(null,e),e.Ma.R_=sN.bind(null,e.eventManager),e.Ma.Wa=oN.bind(null,e.eventManager),e}function IN(i){const e=pt(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_N.bind(null,e),e}class ng{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Tg(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return kC(this.persistence,new RC,e.initialUser,this.serializer)}ja(e){return new LT(a_.ei,this.serializer)}za(e){return new MC}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ng.provider={build:()=>new ng};class AN extends ng{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){Yt(this.persistence.referenceDelegate instanceof eg);const r=this.persistence.referenceDelegate.garbageCollector;return new hC(r,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?ni.withCacheSize(this.cacheSizeBytes):ni.DEFAULT;return new LT(r=>eg.ei(r,t),this.serializer)}}class Vv{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>s0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=wN.bind(null,this.syncEngine),await nN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new iN}()}createDatastore(e){const t=Tg(e.databaseInfo.databaseId),r=function(l){return new qC(l)}(e.databaseInfo);return function(l,f,p,g){return new zC(l,f,p,g)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,o,l,f,p){return new HC(r,o,l,f,p)}(this.localStore,this.datastore,e.asyncQueue,t=>s0(this.syncEngine,t,0),function(){return e0.p()?new e0:new VC}())}createSyncEngine(e,t){return function(o,l,f,p,g,E,w){const v=new cN(o,l,f,p,g,E);return w&&(v.$a=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=pt(o);He("RemoteStore","RemoteStore shutting down."),l.k_.add(5),await pd(l),l.Q_.shutdown(),l.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Vv.provider={build:()=>new Vv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):sa("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(e,t,r,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=Ar.UNAUTHENTICATED,this.clientId=tT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,async f=>{He("FirestoreClient","Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(r,f=>(He("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new hu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=p_(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Cm(i,e){i.asyncQueue.verifyOperationInProgress(),He("FirestoreClient","Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let r=t.initialUser;i.setCredentialChangeListener(async o=>{r.isEqual(o)||(await DT(e.localStore,o),r=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function a0(i,e){i.asyncQueue.verifyOperationInProgress();const t=await bN(i);He("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener(r=>t0(e.remoteStore,r)),i.setAppCheckTokenChangeListener((r,o)=>t0(e.remoteStore,o)),i._onlineComponents=e}async function bN(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){He("FirestoreClient","Using user provided OfflineComponentProvider");try{await Cm(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===De.FAILED_PRECONDITION||o.code===De.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;hf("Error using user provided cache. Falling back to memory cache: "+t),await Cm(i,new ng)}}else He("FirestoreClient","Using default OfflineComponentProvider"),await Cm(i,new AN(void 0));return i._offlineComponents}async function rI(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(He("FirestoreClient","Using user provided OnlineComponentProvider"),await a0(i,i._uninitializedComponentsProvider._online)):(He("FirestoreClient","Using default OnlineComponentProvider"),await a0(i,new Vv))),i._onlineComponents}function RN(i){return rI(i).then(e=>e.syncEngine)}async function Uv(i){const e=await rI(i),t=e.eventManager;return t.onListen=fN.bind(null,e.syncEngine),t.onUnlisten=pN.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=hN.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=gN.bind(null,e.syncEngine),t}function PN(i,e,t={}){const r=new hu;return i.asyncQueue.enqueueAndForget(async()=>function(l,f,p,g,E){const w=new nI({next:y=>{w.eu(),f.enqueueAndForget(()=>WT(l,v));const _=y.docs.has(p);!_&&y.fromCache?E.reject(new nt(De.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&y.fromCache&&g&&g.source==="server"?E.reject(new nt(De.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):E.resolve(y)},error:y=>E.reject(y)}),v=new KT(mg(p.path),w,{includeMetadataChanges:!0,ua:!0});return HT(l,v)}(await Uv(i),i.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iI(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kN(i,e,t){if(!t)throw new nt(De.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function ON(i,e,t,r){if(e===!0&&r===!0)throw new nt(De.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function l0(i){if(!it.isDocumentKey(i))throw new nt(De.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function y_(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":ft()}function du(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new nt(De.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=y_(i);throw new nt(De.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new nt(De.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new nt(De.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ON("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=iI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new nt(De.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new nt(De.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new nt(De.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class v_{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new c0({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new nt(De.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new nt(De.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new c0(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Bk;switch(r.type){case"firstParty":return new Hk(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new nt(De.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=u0.get(t);r&&(He("ComponentProvider","Removing Datastore"),u0.delete(t),r.terminate())}(this),Promise.resolve()}}function CN(i,e,t,r={}){var o;const l=(i=du(i,v_))._getSettings(),f=`${e}:${t}`;if(l.host!=="firestore.googleapis.com"&&l.host!==f&&hf("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},l),{host:f,ssl:!1})),r.mockUserToken){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=Ar.MOCK_USER;else{p=Cb(r.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new nt(De.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Ar(E)}i._authCredentials=new jk(new eT(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Sg(this.firestore,e,this._query)}}class Pi{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sd(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pi(this.firestore,e,this._key)}}class sd extends Sg{constructor(e,t,r){super(e,t,mg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pi(this.firestore,null,new it(e))}withConverter(e){return new sd(this.firestore,e,this._path)}}function NN(i,e,...t){if(i=ii(i),arguments.length===1&&(e=tT.newId()),kN("doc","path",e),i instanceof v_){const r=Tn.fromString(e,...t);return l0(r),new Pi(i,null,new it(r))}{if(!(i instanceof Pi||i instanceof sd))throw new nt(De.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(Tn.fromString(e,...t));return l0(r),new Pi(i.firestore,i instanceof sd?i.converter:null,new it(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new VT(this,"async_queue_retry"),this.fu=()=>{const r=Om();r&&He("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const t=Om();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=Om();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new hu;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!If(e))throw e;He("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const o=function(f){let p=f.message||"";return f.stack&&(p=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),p}(r);throw sa("INTERNAL UNHANDLED ERROR: ",o),r}).then(r=>(this.Ru=!1,r))));return this.gu=t,t}enqueueAfterDelay(e,t,r){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const o=d_.createAndSchedule(this,e,t,r,l=>this.Su(l));return this.du.push(o),o}pu(){this.Au&&ft()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}function h0(i){return function(t,r){if(typeof t!="object"||t===null)return!1;const o=t;for(const l of r)if(l in o&&typeof o[l]=="function")return!0;return!1}(i,["next","error","complete"])}class od extends v_{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new f0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new f0(e),this._firestoreClient=void 0,await e}}}function xN(i,e){const t=typeof i=="object"?i:_w(),r=typeof i=="string"?i:"(default)",o=$v(t,"firestore").getImmediate({identifier:r});if(!o._initialized){const l=Pb("firestore");l&&CN(o,...l)}return o}function __(i){if(i._terminated)throw new nt(De.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||LN(i),i._firestoreClient}function LN(i){var e,t,r;const o=i._freezeSettings(),l=function(p,g,E,w){return new oO(p,g,E,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,iI(w.experimentalLongPollingOptions),w.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new SN(i._authCredentials,i._appCheckCredentials,i._queue,l,i._componentsProvider&&function(p){const g=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(g),_online:g}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vf(dr.fromBase64String(e))}catch(t){throw new nt(De.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new vf(dr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new nt(De.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new nt(De.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new nt(De.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Lt(this._lat,e._lat)||Lt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,o){if(r.length!==o.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==o[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN=/^__.*__$/;class MN{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Nl(e,this.data,this.fieldMask,t,this.fieldTransforms):new hd(e,this.data,t,this.fieldTransforms)}}function oI(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ft()}}class I_{constructor(e,t,r,o,l,f){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,l===void 0&&this.Fu(),this.fieldTransforms=l||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new I_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:r,Nu:!1});return o.Lu(e),o}Bu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:r,Nu:!1});return o.Fu(),o}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return rg(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(oI(this.Mu)&&DN.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class VN{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Tg(e)}$u(e,t,r,o=!1){return new I_({Mu:e,methodName:t,Ku:r,path:hr.emptyPath(),Nu:!1,Qu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function UN(i){const e=i._freezeSettings(),t=Tg(i._databaseId);return new VN(i._databaseId,!!e.ignoreUndefinedProperties,t)}function FN(i,e,t,r,o,l={}){const f=i.$u(l.merge||l.mergeFields?2:0,e,t,o);cI("Data must be an object, but it was:",f,r);const p=uI(r,f);let g,E;if(l.merge)g=new Ss(f.fieldMask),E=f.fieldTransforms;else if(l.mergeFields){const w=[];for(const v of l.mergeFields){const y=qN(e,v,t);if(!f.contains(y))throw new nt(De.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);jN(w,y)||w.push(y)}g=new Ss(w),E=f.fieldTransforms.filter(v=>g.covers(v.field))}else g=null,E=f.fieldTransforms;return new MN(new Yi(p),g,E)}function aI(i,e){if(lI(i=ii(i)))return cI("Unsupported field value:",e,i),uI(i,e);if(i instanceof sI)return function(r,o){if(!oI(o.Mu))throw o.qu(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qu(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,o){const l=[];let f=0;for(const p of r){let g=aI(p,o.ku(f));g==null&&(g={nullValue:"NULL_VALUE"}),l.push(g),f++}return{arrayValue:{values:l}}}(i,e)}return function(r,o){if((r=ii(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return kO(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=$n.fromDate(r);return{timestampValue:Zp(o.serializer,l)}}if(r instanceof $n){const l=new $n(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Zp(o.serializer,l)}}if(r instanceof w_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof vf)return{bytesValue:RT(o.serializer,r._byteString)};if(r instanceof Pi){const l=o.databaseId,f=r.firestore._databaseId;if(!f.isEqual(l))throw o.qu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:s_(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof T_)return function(f,p){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw p.qu("VectorValues must only contain numeric values.");return n_(p.serializer,g)})}}}}}}(r,o);throw o.qu(`Unsupported field value: ${y_(r)}`)}(i,e)}function uI(i,e){const t={};return nT(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ol(i,(r,o)=>{const l=aI(o,e.Ou(r));l!=null&&(t[r]=l)}),{mapValue:{fields:t}}}function lI(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof $n||i instanceof w_||i instanceof vf||i instanceof Pi||i instanceof sI||i instanceof T_)}function cI(i,e,t){if(!lI(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const r=y_(t);throw r==="an object"?e.qu(i+" a custom object"):e.qu(i+" "+r)}}function qN(i,e,t){if((e=ii(e))instanceof E_)return e._internalPath;if(typeof e=="string")return fI(i,e);throw rg("Field path arguments must be of type string or ",i,!1,void 0,t)}const BN=new RegExp("[~\\*/\\[\\]]");function fI(i,e,t){if(e.search(BN)>=0)throw rg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new E_(...e.split("."))._internalPath}catch{throw rg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function rg(i,e,t,r,o){const l=r&&!r.isEmpty(),f=o!==void 0;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(l||f)&&(g+=" (found",l&&(g+=` in field ${r}`),f&&(g+=` in document ${o}`),g+=")"),new nt(De.INVALID_ARGUMENT,p+i+g)}function jN(i,e){return i.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e,t,r,o,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Pi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new zN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(dI("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class zN extends hI{data(){return super.data()}}function dI(i,e){return typeof e=="string"?fI(i,e):e instanceof E_?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new nt(De.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class HN{convertValue(e,t="none"){switch(_u(e)){case 0:return null;case 1:return e.booleanValue;case 2:return On(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(vu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ft()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ol(e,(o,l)=>{r[o]=this.convertValue(l,t)}),r}convertVectorValue(e){var t,r,o;const l=(o=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map(f=>On(f.doubleValue));return new T_(l)}convertGeoPoint(e){return new w_(On(e.latitude),On(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=pg(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(ed(e));default:return null}}convertTimestamp(e){const t=yu(e);return new $n(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Tn.fromString(e);Yt(xT(r));const o=new td(r.get(1),r.get(3)),l=new it(r.popFirst(5));return o.isEqual(t)||sa(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WN(i,e,t){let r;return r=i?t.merge||t.mergeFields?i.toFirestore(e,t):i.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class pI extends hI{constructor(e,t,r,o,l,f){super(e,t,r,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Mp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(dI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Mp extends pI{data(e={}){return super.data(e)}}class KN{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Vh(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Mp(this._firestore,this._userDataWriter,r.key,r,new Vh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new nt(De.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(p=>{const g=new Mp(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Vh(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(p=>l||p.type!==3).map(p=>{const g=new Mp(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Vh(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let E=-1,w=-1;return p.type!==0&&(E=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),w=f.indexOf(p.doc.key)),{type:GN(p.type),doc:g,oldIndex:E,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function GN(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ft()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QN(i){i=du(i,Pi);const e=du(i.firestore,od);return PN(__(e),i._key).then(t=>mI(e,i,t))}class gI extends HN{constructor(e){super(),this.firestore=e}convertBytes(e){return new vf(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Pi(this.firestore,null,t)}}function YN(i,e,t){i=du(i,Pi);const r=du(i.firestore,od),o=WN(i.converter,e,t);return JN(r,[FN(UN(r),"setDoc",i._key,o,i.converter!==null,t).toMutation(i._key,na.none())])}function XN(i,...e){var t,r,o;i=ii(i);let l={includeMetadataChanges:!1,source:"default"},f=0;typeof e[f]!="object"||h0(e[f])||(l=e[f],f++);const p={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(h0(e[f])){const v=e[f];e[f]=(t=v.next)===null||t===void 0?void 0:t.bind(v),e[f+1]=(r=v.error)===null||r===void 0?void 0:r.bind(v),e[f+2]=(o=v.complete)===null||o===void 0?void 0:o.bind(v)}let g,E,w;if(i instanceof Pi)E=du(i.firestore,od),w=mg(i._key.path),g={next:v=>{e[f]&&e[f](mI(E,i,v))},error:e[f+1],complete:e[f+2]};else{const v=du(i,Sg);E=du(v.firestore,od),w=v._query;const y=new gI(E);g={next:_=>{e[f]&&e[f](new KN(E,y,v,_))},error:e[f+1],complete:e[f+2]},$N(i._query)}return function(y,_,P,S){const A=new nI(S),b=new KT(_,A,P);return y.asyncQueue.enqueueAndForget(async()=>HT(await Uv(y),b)),()=>{A.eu(),y.asyncQueue.enqueueAndForget(async()=>WT(await Uv(y),b))}}(__(E),w,p,g)}function JN(i,e){return function(r,o){const l=new hu;return r.asyncQueue.enqueueAndForget(async()=>mN(await RN(r),o,l)),l.promise}(__(i),e)}function mI(i,e,t){const r=t.docs.get(e._key),o=new gI(i);return new pI(i,o,e._key,r,new Vh(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){wf=o})(Tu),pu(new ra("firestore",(r,{instanceIdentifier:o,options:l})=>{const f=r.getProvider("app").getImmediate(),p=new od(new zk(r.getProvider("auth-internal")),new Kk(r.getProvider("app-check-internal")),function(E,w){if(!Object.prototype.hasOwnProperty.apply(E.options,["projectId"]))throw new nt(De.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new td(E.options.projectId,w)}(f,o),f);return l=Object.assign({useFetchStreams:t},l),p._setSettings(l),p},"PUBLIC").setMultipleInstances(!0)),io(k1,"4.7.5",e),io(k1,"4.7.5","esm2017")})();const ZN={apiKey:"AIzaSyCvAcKd8tEGY4PVef-4w_gqALM3uvsziCQ",authDomain:"docs-clone-tutorial-85dec.firebaseapp.com",projectId:"docs-clone-tutorial-85dec",storageBucket:"docs-clone-tutorial-85dec.firebasestorage.app",messagingSenderId:"158295411504",appId:"1:158295411504:web:3b5284492363c0d0c396f5"},yI=vw(ZN),d0=qk(yI),e2=xN(yI);function vI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const t2=vI,_I=new wu("auth","Firebase",vI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig=new lg("@firebase/auth");function n2(i,...e){ig.logLevel<=St.WARN&&ig.warn(`Auth (${Tu}): ${i}`,...e)}function Vp(i,...e){ig.logLevel<=St.ERROR&&ig.error(`Auth (${Tu}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fv(i,...e){throw A_(i,...e)}function EI(i,...e){return A_(i,...e)}function wI(i,e,t){const r=Object.assign(Object.assign({},t2()),{[e]:t});return new wu("auth","Firebase",r).create(e,{appName:i.name})}function Gh(i){return wI(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function A_(i,...e){if(typeof i!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=i.name),i._errorFactory.create(t,...r)}return _I.create(i,...e)}function Wt(i,e,...t){if(!i)throw A_(e,...t)}function Qh(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Vp(e),new Error(e)}function sg(i,e){i||Qh(e)}function r2(){return p0()==="http:"||p0()==="https:"}function p0(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(r2()||dw()||"connection"in navigator)?navigator.onLine:!0}function s2(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e,t){this.shortDelay=e,this.longDelay=t,sg(t>e,"Short delay should be less than long delay!"),this.isMobile=fw()||pw()}get(){return i2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o2(i,e){sg(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qh("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qh("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qh("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2=new md(3e4,6e4);function S_(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function yd(i,e,t,r,o={}){return II(i,o,async()=>{let l={},f={};r&&(e==="GET"?f=r:l={body:JSON.stringify(r)});const p=_f(Object.assign({key:i.config.apiKey},f)).slice(1),g=await i._getAdditionalHeaders();g["Content-Type"]="application/json",i.languageCode&&(g["X-Firebase-Locale"]=i.languageCode);const E=Object.assign({method:e,headers:g},l);return hw()||(E.referrerPolicy="no-referrer"),TI.fetch()(AI(i,i.config.apiHost,t,p),E)})}async function II(i,e,t){i._canInitEmulator=!1;const r=Object.assign(Object.assign({},a2),e);try{const o=new c2(i),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const f=await l.json();if("needConfirmation"in f)throw Rp(i,"account-exists-with-different-credential",f);if(l.ok&&!("errorMessage"in f))return f;{const p=l.ok?f.errorMessage:f.error.message,[g,E]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rp(i,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw Rp(i,"email-already-in-use",f);if(g==="USER_DISABLED")throw Rp(i,"user-disabled",f);const w=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(E)throw wI(i,w,E);Fv(i,w)}}catch(o){if(o instanceof bs)throw o;Fv(i,"network-request-failed",{message:String(o)})}}async function l2(i,e,t,r,o={}){const l=await yd(i,e,t,r,o);return"mfaPendingCredential"in l&&Fv(i,"multi-factor-auth-required",{_serverResponse:l}),l}function AI(i,e,t,r){const o=`${e}${t}?${r}`;return i.config.emulator?o2(i.config,o):`${i.config.apiScheme}://${o}`}class c2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(EI(this.auth,"network-request-failed")),u2.get())})}}function Rp(i,e,t){const r={appName:i.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const o=EI(i,e,r);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f2(i,e){return yd(i,"POST","/v1/accounts:delete",e)}async function SI(i,e){return yd(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yh(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function h2(i,e=!1){const t=ii(i),r=await t.getIdToken(e),o=bI(r);Wt(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,f=l==null?void 0:l.sign_in_provider;return{claims:o,token:r,authTime:Yh(Nm(o.auth_time)),issuedAtTime:Yh(Nm(o.iat)),expirationTime:Yh(Nm(o.exp)),signInProvider:f||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Nm(i){return Number(i)*1e3}function bI(i){const[e,t,r]=i.split(".");if(e===void 0||t===void 0||r===void 0)return Vp("JWT malformed, contained fewer than 3 sections"),null;try{const o=jv(t);return o?JSON.parse(o):(Vp("Failed to decode base64 JWT payload"),null)}catch(o){return Vp("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function g0(i){const e=bI(i);return Wt(e,"internal-error"),Wt(typeof e.exp<"u","internal-error"),Wt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qv(i,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof bs&&d2(r)&&i.auth.currentUser===i&&await i.auth.signOut(),r}}function d2({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yh(this.lastLoginAt),this.creationTime=Yh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function og(i){var e;const t=i.auth,r=await i.getIdToken(),o=await qv(i,SI(t,{idToken:r}));Wt(o==null?void 0:o.users.length,t,"internal-error");const l=o.users[0];i._notifyReloadListener(l);const f=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?RI(l.providerUserInfo):[],p=m2(i.providerData,f),g=i.isAnonymous,E=!(i.email&&l.passwordHash)&&!(p!=null&&p.length),w=g?E:!1,v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:p,metadata:new Bv(l.createdAt,l.lastLoginAt),isAnonymous:w};Object.assign(i,v)}async function g2(i){const e=ii(i);await og(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function m2(i,e){return[...i.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function RI(i){return i.map(e=>{var{providerId:t}=e,r=ud(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y2(i,e){const t=await II(i,{},async()=>{const r=_f({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=i.config,f=AI(i,o,"/v1/token",`key=${l}`),p=await i._getAdditionalHeaders();return p["Content-Type"]="application/x-www-form-urlencoded",TI.fetch()(f,{method:"POST",headers:p,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function v2(i,e){return yd(i,"POST","/v2/accounts:revokeToken",S_(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Wt(e.idToken,"internal-error"),Wt(typeof e.idToken<"u","internal-error"),Wt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):g0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Wt(e.length!==0,"internal-error");const t=g0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Wt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:o,expiresIn:l}=await y2(e,t);this.updateTokensAndExpiration(r,o,Number(l))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:o,expirationTime:l}=t,f=new cf;return r&&(Wt(typeof r=="string","internal-error",{appName:e}),f.refreshToken=r),o&&(Wt(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),l&&(Wt(typeof l=="number","internal-error",{appName:e}),f.expirationTime=l),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new cf,this.toJSON())}_performRefresh(){return Qh("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(i,e){Wt(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class ta{constructor(e){var{uid:t,auth:r,stsTokenManager:o}=e,l=ud(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new p2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Bv(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await qv(this,this.stsTokenManager.getToken(this.auth,e));return Wt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return h2(this,e)}reload(){return g2(this)}_assign(e){this!==e&&(Wt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ta(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Wt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await og(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ri(this.auth.app))return Promise.reject(Gh(this.auth));const e=await this.getIdToken();return await qv(this,f2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,o,l,f,p,g,E,w;const v=(r=t.displayName)!==null&&r!==void 0?r:void 0,y=(o=t.email)!==null&&o!==void 0?o:void 0,_=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,P=(f=t.photoURL)!==null&&f!==void 0?f:void 0,S=(p=t.tenantId)!==null&&p!==void 0?p:void 0,A=(g=t._redirectEventId)!==null&&g!==void 0?g:void 0,b=(E=t.createdAt)!==null&&E!==void 0?E:void 0,R=(w=t.lastLoginAt)!==null&&w!==void 0?w:void 0,{uid:M,emailVerified:I,isAnonymous:q,providerData:$,stsTokenManager:L}=t;Wt(M&&L,e,"internal-error");const O=cf.fromJSON(this.name,L);Wt(typeof M=="string",e,"internal-error"),nu(v,e.name),nu(y,e.name),Wt(typeof I=="boolean",e,"internal-error"),Wt(typeof q=="boolean",e,"internal-error"),nu(_,e.name),nu(P,e.name),nu(S,e.name),nu(A,e.name),nu(b,e.name),nu(R,e.name);const F=new ta({uid:M,auth:e,email:y,emailVerified:I,displayName:v,isAnonymous:q,photoURL:P,phoneNumber:_,tenantId:S,stsTokenManager:O,createdAt:b,lastLoginAt:R});return $&&Array.isArray($)&&(F.providerData=$.map(D=>Object.assign({},D))),A&&(F._redirectEventId=A),F}static async _fromIdTokenResponse(e,t,r=!1){const o=new cf;o.updateFromServerResponse(t);const l=new ta({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await og(l),l}static async _fromGetAccountInfoResponse(e,t,r){const o=t.users[0];Wt(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?RI(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),p=new cf;p.updateFromIdToken(r);const g=new ta({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:f}),E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Bv(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(g,E),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0=new Map;function Il(i){sg(i instanceof Function,"Expected a class definition");let e=m0.get(i);return e?(sg(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,m0.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}PI.type="NONE";const y0=PI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xm(i,e,t){return`firebase:${i}:${e}:${t}`}class ff{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:o,name:l}=this.auth;this.fullUserKey=xm(this.userKey,o.apiKey,l),this.fullPersistenceKey=xm("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ta._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new ff(Il(y0),e,r);const o=(await Promise.all(t.map(async E=>{if(await E._isAvailable())return E}))).filter(E=>E);let l=o[0]||Il(y0);const f=xm(r,e.config.apiKey,e.name);let p=null;for(const E of t)try{const w=await E._get(f);if(w){const v=ta._fromJSON(e,w);E!==l&&(p=v),l=E;break}}catch{}const g=o.filter(E=>E._shouldAllowMigration);return!l._shouldAllowMigration||!g.length?new ff(l,e,r):(l=g[0],p&&await l._set(f,p.toJSON()),await Promise.all(t.map(async E=>{if(E!==l)try{await E._remove(f)}catch{}})),new ff(l,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v0(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(T2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(A2(e))return"Blackberry";if(S2(e))return"Webos";if(E2(e))return"Safari";if((e.includes("chrome/")||w2(e))&&!e.includes("edge/"))return"Chrome";if(I2(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=i.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function _2(i=cn()){return/firefox\//i.test(i)}function E2(i=cn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function w2(i=cn()){return/crios\//i.test(i)}function T2(i=cn()){return/iemobile/i.test(i)}function I2(i=cn()){return/android/i.test(i)}function A2(i=cn()){return/blackberry/i.test(i)}function S2(i=cn()){return/webos/i.test(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI(i,e=[]){let t;switch(i){case"Browser":t=v0(cn());break;case"Worker":t=`${v0(cn())}-${i}`;break;default:t=i}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Tu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=l=>new Promise((f,p)=>{try{const g=e(l);f(g)}catch(g){p(g)}});r.onAbort=t,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R2(i,e={}){return yd(i,"GET","/v2/passwordPolicy",S_(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2=6;class k2{constructor(e){var t,r,o,l;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=f.minPasswordLength)!==null&&t!==void 0?t:P2,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,o,l,f,p;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,g),this.validatePasswordCharacterOptions(e,g),g.isValid&&(g.isValid=(t=g.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),g.isValid&&(g.isValid=(r=g.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),g.isValid&&(g.isValid=(o=g.containsLowercaseLetter)!==null&&o!==void 0?o:!0),g.isValid&&(g.isValid=(l=g.containsUppercaseLetter)!==null&&l!==void 0?l:!0),g.isValid&&(g.isValid=(f=g.containsNumericCharacter)!==null&&f!==void 0?f:!0),g.isValid&&(g.isValid=(p=g.containsNonAlphanumericCharacter)!==null&&p!==void 0?p:!0),g}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e,t,r,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _0(this),this.idTokenSubscription=new _0(this),this.beforeStateQueue=new b2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_I,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Il(t)),this._initializationPromise=this.queue(async()=>{var r,o;if(!this._deleted&&(this.persistenceManager=await ff.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await SI(this,{idToken:e}),r=await ta._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(ri(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(p,p))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let o=r,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,p=o==null?void 0:o._redirectEventId,g=await this.tryRedirectSignIn(e);(!f||f===p)&&(g!=null&&g.user)&&(o=g.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Wt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await og(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=s2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ri(this.app))return Promise.reject(Gh(this));const t=e?ii(e):null;return t&&Wt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Wt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ri(this.app)?Promise.reject(Gh(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ri(this.app)?Promise.reject(Gh(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Il(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await R2(this),t=new k2(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new wu("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await v2(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Il(e)||this._popupRedirectResolver;Wt(t,this,"argument-error"),this.redirectPersistenceManager=await ff.create(this,[Il(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let f=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Wt(p,this,"internal-error"),p.then(()=>{f||l(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,r,o);return()=>{f=!0,g()}}else{const g=e.addObserver(t);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Wt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=kI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&n2(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function OI(i){return ii(i)}class _0{constructor(e){this.auth=e,this.observer=null,this.addObserver=gw(t=>this.observer=t)}get next(){return Wt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function C2(i,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Il);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N2(i,e){return l2(i,"POST","/v1/accounts:signUp",S_(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,o=!1){const l=await ta._fromIdTokenResponse(e,r,o),f=E0(r);return new ad({user:l,providerId:f,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const o=E0(r);return new ad({user:e,providerId:o,_tokenResponse:r,operationType:t})}}function E0(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x2(i){var e;if(ri(i.app))return Promise.reject(Gh(i));const t=OI(i);if(await t._initializationPromise,!((e=t.currentUser)===null||e===void 0)&&e.isAnonymous)return new ad({user:t.currentUser,providerId:null,operationType:"signIn"});const r=await N2(t,{returnSecureToken:!0}),o=await ad._fromIdTokenResponse(t,"signIn",r,!0);return await t._updateCurrentUser(o.user),o}function L2(i,e,t,r){return ii(i).onAuthStateChanged(e,t,r)}new md(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new md(2e3,1e4);/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new md(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new md(5e3,15e3);var w0="@firebase/auth",T0="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Wt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function V2(i){pu(new ra("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:f,authDomain:p}=r.options;Wt(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:f,authDomain:p,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kI(i)},E=new O2(r,o,l,g);return C2(E,t),E},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),pu(new ra("auth-internal",e=>{const t=OI(e.getProvider("auth").getImmediate());return(r=>new D2(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),io(w0,T0,M2(i)),io(w0,T0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2=5*60;kb("authIdTokenMaxAge");V2("Browser");var Lm,I0;function F2(){if(I0)return Lm;I0=1;function i(){this.__data__=[],this.size=0}return Lm=i,Lm}var Dm,A0;function CI(){if(A0)return Dm;A0=1;function i(e,t){return e===t||e!==e&&t!==t}return Dm=i,Dm}var Mm,S0;function bg(){if(S0)return Mm;S0=1;var i=CI();function e(t,r){for(var o=t.length;o--;)if(i(t[o][0],r))return o;return-1}return Mm=e,Mm}var Vm,b0;function q2(){if(b0)return Vm;b0=1;var i=bg(),e=Array.prototype,t=e.splice;function r(o){var l=this.__data__,f=i(l,o);if(f<0)return!1;var p=l.length-1;return f==p?l.pop():t.call(l,f,1),--this.size,!0}return Vm=r,Vm}var Um,R0;function B2(){if(R0)return Um;R0=1;var i=bg();function e(t){var r=this.__data__,o=i(r,t);return o<0?void 0:r[o][1]}return Um=e,Um}var Fm,P0;function j2(){if(P0)return Fm;P0=1;var i=bg();function e(t){return i(this.__data__,t)>-1}return Fm=e,Fm}var qm,k0;function z2(){if(k0)return qm;k0=1;var i=bg();function e(t,r){var o=this.__data__,l=i(o,t);return l<0?(++this.size,o.push([t,r])):o[l][1]=r,this}return qm=e,qm}var Bm,O0;function Rg(){if(O0)return Bm;O0=1;var i=F2(),e=q2(),t=B2(),r=j2(),o=z2();function l(f){var p=-1,g=f==null?0:f.length;for(this.clear();++p<g;){var E=f[p];this.set(E[0],E[1])}}return l.prototype.clear=i,l.prototype.delete=e,l.prototype.get=t,l.prototype.has=r,l.prototype.set=o,Bm=l,Bm}var jm,C0;function $2(){if(C0)return jm;C0=1;var i=Rg();function e(){this.__data__=new i,this.size=0}return jm=e,jm}var zm,N0;function H2(){if(N0)return zm;N0=1;function i(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}return zm=i,zm}var $m,x0;function W2(){if(x0)return $m;x0=1;function i(e){return this.__data__.get(e)}return $m=i,$m}var Hm,L0;function K2(){if(L0)return Hm;L0=1;function i(e){return this.__data__.has(e)}return Hm=i,Hm}var Wm,D0;function NI(){if(D0)return Wm;D0=1;var i=typeof au=="object"&&au&&au.Object===Object&&au;return Wm=i,Wm}var Km,M0;function aa(){if(M0)return Km;M0=1;var i=NI(),e=typeof self=="object"&&self&&self.Object===Object&&self,t=i||e||Function("return this")();return Km=t,Km}var Gm,V0;function b_(){if(V0)return Gm;V0=1;var i=aa(),e=i.Symbol;return Gm=e,Gm}var Qm,U0;function G2(){if(U0)return Qm;U0=1;var i=b_(),e=Object.prototype,t=e.hasOwnProperty,r=e.toString,o=i?i.toStringTag:void 0;function l(f){var p=t.call(f,o),g=f[o];try{f[o]=void 0;var E=!0}catch{}var w=r.call(f);return E&&(p?f[o]=g:delete f[o]),w}return Qm=l,Qm}var Ym,F0;function Q2(){if(F0)return Ym;F0=1;var i=Object.prototype,e=i.toString;function t(r){return e.call(r)}return Ym=t,Ym}var Xm,q0;function Pg(){if(q0)return Xm;q0=1;var i=b_(),e=G2(),t=Q2(),r="[object Null]",o="[object Undefined]",l=i?i.toStringTag:void 0;function f(p){return p==null?p===void 0?o:r:l&&l in Object(p)?e(p):t(p)}return Xm=f,Xm}var Jm,B0;function xI(){if(B0)return Jm;B0=1;function i(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}return Jm=i,Jm}var Zm,j0;function LI(){if(j0)return Zm;j0=1;var i=Pg(),e=xI(),t="[object AsyncFunction]",r="[object Function]",o="[object GeneratorFunction]",l="[object Proxy]";function f(p){if(!e(p))return!1;var g=i(p);return g==r||g==o||g==t||g==l}return Zm=f,Zm}var ey,z0;function Y2(){if(z0)return ey;z0=1;var i=aa(),e=i["__core-js_shared__"];return ey=e,ey}var ty,$0;function X2(){if($0)return ty;$0=1;var i=Y2(),e=function(){var r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function t(r){return!!e&&e in r}return ty=t,ty}var ny,H0;function DI(){if(H0)return ny;H0=1;var i=Function.prototype,e=i.toString;function t(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return ny=t,ny}var ry,W0;function J2(){if(W0)return ry;W0=1;var i=LI(),e=X2(),t=xI(),r=DI(),o=/[\\^$.*+?()[\]{}|]/g,l=/^\[object .+?Constructor\]$/,f=Function.prototype,p=Object.prototype,g=f.toString,E=p.hasOwnProperty,w=RegExp("^"+g.call(E).replace(o,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function v(y){if(!t(y)||e(y))return!1;var _=i(y)?w:l;return _.test(r(y))}return ry=v,ry}var iy,K0;function Z2(){if(K0)return iy;K0=1;function i(e,t){return e==null?void 0:e[t]}return iy=i,iy}var sy,G0;function Sf(){if(G0)return sy;G0=1;var i=J2(),e=Z2();function t(r,o){var l=e(r,o);return i(l)?l:void 0}return sy=t,sy}var oy,Q0;function R_(){if(Q0)return oy;Q0=1;var i=Sf(),e=aa(),t=i(e,"Map");return oy=t,oy}var ay,Y0;function kg(){if(Y0)return ay;Y0=1;var i=Sf(),e=i(Object,"create");return ay=e,ay}var uy,X0;function ex(){if(X0)return uy;X0=1;var i=kg();function e(){this.__data__=i?i(null):{},this.size=0}return uy=e,uy}var ly,J0;function tx(){if(J0)return ly;J0=1;function i(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}return ly=i,ly}var cy,Z0;function nx(){if(Z0)return cy;Z0=1;var i=kg(),e="__lodash_hash_undefined__",t=Object.prototype,r=t.hasOwnProperty;function o(l){var f=this.__data__;if(i){var p=f[l];return p===e?void 0:p}return r.call(f,l)?f[l]:void 0}return cy=o,cy}var fy,eE;function rx(){if(eE)return fy;eE=1;var i=kg(),e=Object.prototype,t=e.hasOwnProperty;function r(o){var l=this.__data__;return i?l[o]!==void 0:t.call(l,o)}return fy=r,fy}var hy,tE;function ix(){if(tE)return hy;tE=1;var i=kg(),e="__lodash_hash_undefined__";function t(r,o){var l=this.__data__;return this.size+=this.has(r)?0:1,l[r]=i&&o===void 0?e:o,this}return hy=t,hy}var dy,nE;function sx(){if(nE)return dy;nE=1;var i=ex(),e=tx(),t=nx(),r=rx(),o=ix();function l(f){var p=-1,g=f==null?0:f.length;for(this.clear();++p<g;){var E=f[p];this.set(E[0],E[1])}}return l.prototype.clear=i,l.prototype.delete=e,l.prototype.get=t,l.prototype.has=r,l.prototype.set=o,dy=l,dy}var py,rE;function ox(){if(rE)return py;rE=1;var i=sx(),e=Rg(),t=R_();function r(){this.size=0,this.__data__={hash:new i,map:new(t||e),string:new i}}return py=r,py}var gy,iE;function ax(){if(iE)return gy;iE=1;function i(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}return gy=i,gy}var my,sE;function Og(){if(sE)return my;sE=1;var i=ax();function e(t,r){var o=t.__data__;return i(r)?o[typeof r=="string"?"string":"hash"]:o.map}return my=e,my}var yy,oE;function ux(){if(oE)return yy;oE=1;var i=Og();function e(t){var r=i(this,t).delete(t);return this.size-=r?1:0,r}return yy=e,yy}var vy,aE;function lx(){if(aE)return vy;aE=1;var i=Og();function e(t){return i(this,t).get(t)}return vy=e,vy}var _y,uE;function cx(){if(uE)return _y;uE=1;var i=Og();function e(t){return i(this,t).has(t)}return _y=e,_y}var Ey,lE;function fx(){if(lE)return Ey;lE=1;var i=Og();function e(t,r){var o=i(this,t),l=o.size;return o.set(t,r),this.size+=o.size==l?0:1,this}return Ey=e,Ey}var wy,cE;function MI(){if(cE)return wy;cE=1;var i=ox(),e=ux(),t=lx(),r=cx(),o=fx();function l(f){var p=-1,g=f==null?0:f.length;for(this.clear();++p<g;){var E=f[p];this.set(E[0],E[1])}}return l.prototype.clear=i,l.prototype.delete=e,l.prototype.get=t,l.prototype.has=r,l.prototype.set=o,wy=l,wy}var Ty,fE;function hx(){if(fE)return Ty;fE=1;var i=Rg(),e=R_(),t=MI(),r=200;function o(l,f){var p=this.__data__;if(p instanceof i){var g=p.__data__;if(!e||g.length<r-1)return g.push([l,f]),this.size=++p.size,this;p=this.__data__=new t(g)}return p.set(l,f),this.size=p.size,this}return Ty=o,Ty}var Iy,hE;function dx(){if(hE)return Iy;hE=1;var i=Rg(),e=$2(),t=H2(),r=W2(),o=K2(),l=hx();function f(p){var g=this.__data__=new i(p);this.size=g.size}return f.prototype.clear=e,f.prototype.delete=t,f.prototype.get=r,f.prototype.has=o,f.prototype.set=l,Iy=f,Iy}var Ay,dE;function px(){if(dE)return Ay;dE=1;var i="__lodash_hash_undefined__";function e(t){return this.__data__.set(t,i),this}return Ay=e,Ay}var Sy,pE;function gx(){if(pE)return Sy;pE=1;function i(e){return this.__data__.has(e)}return Sy=i,Sy}var by,gE;function mx(){if(gE)return by;gE=1;var i=MI(),e=px(),t=gx();function r(o){var l=-1,f=o==null?0:o.length;for(this.__data__=new i;++l<f;)this.add(o[l])}return r.prototype.add=r.prototype.push=e,r.prototype.has=t,by=r,by}var Ry,mE;function yx(){if(mE)return Ry;mE=1;function i(e,t){for(var r=-1,o=e==null?0:e.length;++r<o;)if(t(e[r],r,e))return!0;return!1}return Ry=i,Ry}var Py,yE;function vx(){if(yE)return Py;yE=1;function i(e,t){return e.has(t)}return Py=i,Py}var ky,vE;function VI(){if(vE)return ky;vE=1;var i=mx(),e=yx(),t=vx(),r=1,o=2;function l(f,p,g,E,w,v){var y=g&r,_=f.length,P=p.length;if(_!=P&&!(y&&P>_))return!1;var S=v.get(f),A=v.get(p);if(S&&A)return S==p&&A==f;var b=-1,R=!0,M=g&o?new i:void 0;for(v.set(f,p),v.set(p,f);++b<_;){var I=f[b],q=p[b];if(E)var $=y?E(q,I,b,p,f,v):E(I,q,b,f,p,v);if($!==void 0){if($)continue;R=!1;break}if(M){if(!e(p,function(L,O){if(!t(M,O)&&(I===L||w(I,L,g,E,v)))return M.push(O)})){R=!1;break}}else if(!(I===q||w(I,q,g,E,v))){R=!1;break}}return v.delete(f),v.delete(p),R}return ky=l,ky}var Oy,_E;function _x(){if(_E)return Oy;_E=1;var i=aa(),e=i.Uint8Array;return Oy=e,Oy}var Cy,EE;function Ex(){if(EE)return Cy;EE=1;function i(e){var t=-1,r=Array(e.size);return e.forEach(function(o,l){r[++t]=[l,o]}),r}return Cy=i,Cy}var Ny,wE;function wx(){if(wE)return Ny;wE=1;function i(e){var t=-1,r=Array(e.size);return e.forEach(function(o){r[++t]=o}),r}return Ny=i,Ny}var xy,TE;function Tx(){if(TE)return xy;TE=1;var i=b_(),e=_x(),t=CI(),r=VI(),o=Ex(),l=wx(),f=1,p=2,g="[object Boolean]",E="[object Date]",w="[object Error]",v="[object Map]",y="[object Number]",_="[object RegExp]",P="[object Set]",S="[object String]",A="[object Symbol]",b="[object ArrayBuffer]",R="[object DataView]",M=i?i.prototype:void 0,I=M?M.valueOf:void 0;function q($,L,O,F,D,k,U){switch(O){case R:if($.byteLength!=L.byteLength||$.byteOffset!=L.byteOffset)return!1;$=$.buffer,L=L.buffer;case b:return!($.byteLength!=L.byteLength||!k(new e($),new e(L)));case g:case E:case y:return t(+$,+L);case w:return $.name==L.name&&$.message==L.message;case _:case S:return $==L+"";case v:var V=o;case P:var J=F&f;if(V||(V=l),$.size!=L.size&&!J)return!1;var ee=U.get($);if(ee)return ee==L;F|=p,U.set($,L);var fe=r(V($),V(L),F,D,k,U);return U.delete($),fe;case A:if(I)return I.call($)==I.call(L)}return!1}return xy=q,xy}var Ly,IE;function Ix(){if(IE)return Ly;IE=1;function i(e,t){for(var r=-1,o=t.length,l=e.length;++r<o;)e[l+r]=t[r];return e}return Ly=i,Ly}var Dy,AE;function P_(){if(AE)return Dy;AE=1;var i=Array.isArray;return Dy=i,Dy}var My,SE;function Ax(){if(SE)return My;SE=1;var i=Ix(),e=P_();function t(r,o,l){var f=o(r);return e(r)?f:i(f,l(r))}return My=t,My}var Vy,bE;function Sx(){if(bE)return Vy;bE=1;function i(e,t){for(var r=-1,o=e==null?0:e.length,l=0,f=[];++r<o;){var p=e[r];t(p,r,e)&&(f[l++]=p)}return f}return Vy=i,Vy}var Uy,RE;function bx(){if(RE)return Uy;RE=1;function i(){return[]}return Uy=i,Uy}var Fy,PE;function Rx(){if(PE)return Fy;PE=1;var i=Sx(),e=bx(),t=Object.prototype,r=t.propertyIsEnumerable,o=Object.getOwnPropertySymbols,l=o?function(f){return f==null?[]:(f=Object(f),i(o(f),function(p){return r.call(f,p)}))}:e;return Fy=l,Fy}var qy,kE;function Px(){if(kE)return qy;kE=1;function i(e,t){for(var r=-1,o=Array(e);++r<e;)o[r]=t(r);return o}return qy=i,qy}var By,OE;function Cg(){if(OE)return By;OE=1;function i(e){return e!=null&&typeof e=="object"}return By=i,By}var jy,CE;function kx(){if(CE)return jy;CE=1;var i=Pg(),e=Cg(),t="[object Arguments]";function r(o){return e(o)&&i(o)==t}return jy=r,jy}var zy,NE;function Ox(){if(NE)return zy;NE=1;var i=kx(),e=Cg(),t=Object.prototype,r=t.hasOwnProperty,o=t.propertyIsEnumerable,l=i(function(){return arguments}())?i:function(f){return e(f)&&r.call(f,"callee")&&!o.call(f,"callee")};return zy=l,zy}var Uh={exports:{}},$y,xE;function Cx(){if(xE)return $y;xE=1;function i(){return!1}return $y=i,$y}Uh.exports;var LE;function UI(){return LE||(LE=1,function(i,e){var t=aa(),r=Cx(),o=e&&!e.nodeType&&e,l=o&&!0&&i&&!i.nodeType&&i,f=l&&l.exports===o,p=f?t.Buffer:void 0,g=p?p.isBuffer:void 0,E=g||r;i.exports=E}(Uh,Uh.exports)),Uh.exports}var Hy,DE;function Nx(){if(DE)return Hy;DE=1;var i=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function t(r,o){var l=typeof r;return o=o??i,!!o&&(l=="number"||l!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<o}return Hy=t,Hy}var Wy,ME;function FI(){if(ME)return Wy;ME=1;var i=9007199254740991;function e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=i}return Wy=e,Wy}var Ky,VE;function xx(){if(VE)return Ky;VE=1;var i=Pg(),e=FI(),t=Cg(),r="[object Arguments]",o="[object Array]",l="[object Boolean]",f="[object Date]",p="[object Error]",g="[object Function]",E="[object Map]",w="[object Number]",v="[object Object]",y="[object RegExp]",_="[object Set]",P="[object String]",S="[object WeakMap]",A="[object ArrayBuffer]",b="[object DataView]",R="[object Float32Array]",M="[object Float64Array]",I="[object Int8Array]",q="[object Int16Array]",$="[object Int32Array]",L="[object Uint8Array]",O="[object Uint8ClampedArray]",F="[object Uint16Array]",D="[object Uint32Array]",k={};k[R]=k[M]=k[I]=k[q]=k[$]=k[L]=k[O]=k[F]=k[D]=!0,k[r]=k[o]=k[A]=k[l]=k[b]=k[f]=k[p]=k[g]=k[E]=k[w]=k[v]=k[y]=k[_]=k[P]=k[S]=!1;function U(V){return t(V)&&e(V.length)&&!!k[i(V)]}return Ky=U,Ky}var Gy,UE;function Lx(){if(UE)return Gy;UE=1;function i(e){return function(t){return e(t)}}return Gy=i,Gy}var Fh={exports:{}};Fh.exports;var FE;function Dx(){return FE||(FE=1,function(i,e){var t=NI(),r=e&&!e.nodeType&&e,o=r&&!0&&i&&!i.nodeType&&i,l=o&&o.exports===r,f=l&&t.process,p=function(){try{var g=o&&o.require&&o.require("util").types;return g||f&&f.binding&&f.binding("util")}catch{}}();i.exports=p}(Fh,Fh.exports)),Fh.exports}var Qy,qE;function qI(){if(qE)return Qy;qE=1;var i=xx(),e=Lx(),t=Dx(),r=t&&t.isTypedArray,o=r?e(r):i;return Qy=o,Qy}var Yy,BE;function Mx(){if(BE)return Yy;BE=1;var i=Px(),e=Ox(),t=P_(),r=UI(),o=Nx(),l=qI(),f=Object.prototype,p=f.hasOwnProperty;function g(E,w){var v=t(E),y=!v&&e(E),_=!v&&!y&&r(E),P=!v&&!y&&!_&&l(E),S=v||y||_||P,A=S?i(E.length,String):[],b=A.length;for(var R in E)(w||p.call(E,R))&&!(S&&(R=="length"||_&&(R=="offset"||R=="parent")||P&&(R=="buffer"||R=="byteLength"||R=="byteOffset")||o(R,b)))&&A.push(R);return A}return Yy=g,Yy}var Xy,jE;function Vx(){if(jE)return Xy;jE=1;var i=Object.prototype;function e(t){var r=t&&t.constructor,o=typeof r=="function"&&r.prototype||i;return t===o}return Xy=e,Xy}var Jy,zE;function Ux(){if(zE)return Jy;zE=1;function i(e,t){return function(r){return e(t(r))}}return Jy=i,Jy}var Zy,$E;function Fx(){if($E)return Zy;$E=1;var i=Ux(),e=i(Object.keys,Object);return Zy=e,Zy}var ev,HE;function qx(){if(HE)return ev;HE=1;var i=Vx(),e=Fx(),t=Object.prototype,r=t.hasOwnProperty;function o(l){if(!i(l))return e(l);var f=[];for(var p in Object(l))r.call(l,p)&&p!="constructor"&&f.push(p);return f}return ev=o,ev}var tv,WE;function Bx(){if(WE)return tv;WE=1;var i=LI(),e=FI();function t(r){return r!=null&&e(r.length)&&!i(r)}return tv=t,tv}var nv,KE;function jx(){if(KE)return nv;KE=1;var i=Mx(),e=qx(),t=Bx();function r(o){return t(o)?i(o):e(o)}return nv=r,nv}var rv,GE;function zx(){if(GE)return rv;GE=1;var i=Ax(),e=Rx(),t=jx();function r(o){return i(o,t,e)}return rv=r,rv}var iv,QE;function $x(){if(QE)return iv;QE=1;var i=zx(),e=1,t=Object.prototype,r=t.hasOwnProperty;function o(l,f,p,g,E,w){var v=p&e,y=i(l),_=y.length,P=i(f),S=P.length;if(_!=S&&!v)return!1;for(var A=_;A--;){var b=y[A];if(!(v?b in f:r.call(f,b)))return!1}var R=w.get(l),M=w.get(f);if(R&&M)return R==f&&M==l;var I=!0;w.set(l,f),w.set(f,l);for(var q=v;++A<_;){b=y[A];var $=l[b],L=f[b];if(g)var O=v?g(L,$,b,f,l,w):g($,L,b,l,f,w);if(!(O===void 0?$===L||E($,L,p,g,w):O)){I=!1;break}q||(q=b=="constructor")}if(I&&!q){var F=l.constructor,D=f.constructor;F!=D&&"constructor"in l&&"constructor"in f&&!(typeof F=="function"&&F instanceof F&&typeof D=="function"&&D instanceof D)&&(I=!1)}return w.delete(l),w.delete(f),I}return iv=o,iv}var sv,YE;function Hx(){if(YE)return sv;YE=1;var i=Sf(),e=aa(),t=i(e,"DataView");return sv=t,sv}var ov,XE;function Wx(){if(XE)return ov;XE=1;var i=Sf(),e=aa(),t=i(e,"Promise");return ov=t,ov}var av,JE;function Kx(){if(JE)return av;JE=1;var i=Sf(),e=aa(),t=i(e,"Set");return av=t,av}var uv,ZE;function Gx(){if(ZE)return uv;ZE=1;var i=Sf(),e=aa(),t=i(e,"WeakMap");return uv=t,uv}var lv,ew;function Qx(){if(ew)return lv;ew=1;var i=Hx(),e=R_(),t=Wx(),r=Kx(),o=Gx(),l=Pg(),f=DI(),p="[object Map]",g="[object Object]",E="[object Promise]",w="[object Set]",v="[object WeakMap]",y="[object DataView]",_=f(i),P=f(e),S=f(t),A=f(r),b=f(o),R=l;return(i&&R(new i(new ArrayBuffer(1)))!=y||e&&R(new e)!=p||t&&R(t.resolve())!=E||r&&R(new r)!=w||o&&R(new o)!=v)&&(R=function(M){var I=l(M),q=I==g?M.constructor:void 0,$=q?f(q):"";if($)switch($){case _:return y;case P:return p;case S:return E;case A:return w;case b:return v}return I}),lv=R,lv}var cv,tw;function Yx(){if(tw)return cv;tw=1;var i=dx(),e=VI(),t=Tx(),r=$x(),o=Qx(),l=P_(),f=UI(),p=qI(),g=1,E="[object Arguments]",w="[object Array]",v="[object Object]",y=Object.prototype,_=y.hasOwnProperty;function P(S,A,b,R,M,I){var q=l(S),$=l(A),L=q?w:o(S),O=$?w:o(A);L=L==E?v:L,O=O==E?v:O;var F=L==v,D=O==v,k=L==O;if(k&&f(S)){if(!f(A))return!1;q=!0,F=!1}if(k&&!F)return I||(I=new i),q||p(S)?e(S,A,b,R,M,I):t(S,A,L,b,R,M,I);if(!(b&g)){var U=F&&_.call(S,"__wrapped__"),V=D&&_.call(A,"__wrapped__");if(U||V){var J=U?S.value():S,ee=V?A.value():A;return I||(I=new i),M(J,ee,b,R,I)}}return k?(I||(I=new i),r(S,A,b,R,M,I)):!1}return cv=P,cv}var fv,nw;function Xx(){if(nw)return fv;nw=1;var i=Yx(),e=Cg();function t(r,o,l,f,p){return r===o?!0:r==null||o==null||!e(r)&&!e(o)?r!==r&&o!==o:i(r,o,l,f,t,p)}return fv=t,fv}var hv,rw;function Jx(){if(rw)return hv;rw=1;var i=Xx();function e(t,r){return i(t,r)}return hv=e,hv}var Up={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */var Zx=Up.exports,iw;function eL(){return iw||(iw=1,function(i,e){(function(r,o){i.exports=o()})(typeof self<"u"?self:Zx,function(){return function(t){var r={};function o(l){if(r[l])return r[l].exports;var f=r[l]={i:l,l:!1,exports:{}};return t[l].call(f.exports,f,f.exports,o),f.l=!0,f.exports}return o.m=t,o.c=r,o.d=function(l,f,p){o.o(l,f)||Object.defineProperty(l,f,{configurable:!1,enumerable:!0,get:p})},o.n=function(l){var f=l&&l.__esModule?function(){return l.default}:function(){return l};return o.d(f,"a",f),f},o.o=function(l,f){return Object.prototype.hasOwnProperty.call(l,f)},o.p="",o(o.s=109)}([function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var l=o(17),f=o(18),p=o(19),g=o(45),E=o(46),w=o(47),v=o(48),y=o(49),_=o(12),P=o(32),S=o(33),A=o(31),b=o(1),R={Scope:b.Scope,create:b.create,find:b.find,query:b.query,register:b.register,Container:l.default,Format:f.default,Leaf:p.default,Embed:v.default,Scroll:g.default,Block:w.default,Inline:E.default,Text:y.default,Attributor:{Attribute:_.default,Class:P.default,Style:S.default,Store:A.default}};r.default=R},function(t,r,o){var l=this&&this.__extends||function(){var A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,R){b.__proto__=R}||function(b,R){for(var M in R)R.hasOwnProperty(M)&&(b[M]=R[M])};return function(b,R){A(b,R);function M(){this.constructor=b}b.prototype=R===null?Object.create(R):(M.prototype=R.prototype,new M)}}();Object.defineProperty(r,"__esModule",{value:!0});var f=function(A){l(b,A);function b(R){var M=this;return R="[Parchment] "+R,M=A.call(this,R)||this,M.message=R,M.name=M.constructor.name,M}return b}(Error);r.ParchmentError=f;var p={},g={},E={},w={};r.DATA_KEY="__blot";var v;(function(A){A[A.TYPE=3]="TYPE",A[A.LEVEL=12]="LEVEL",A[A.ATTRIBUTE=13]="ATTRIBUTE",A[A.BLOT=14]="BLOT",A[A.INLINE=7]="INLINE",A[A.BLOCK=11]="BLOCK",A[A.BLOCK_BLOT=10]="BLOCK_BLOT",A[A.INLINE_BLOT=6]="INLINE_BLOT",A[A.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",A[A.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",A[A.ANY=15]="ANY"})(v=r.Scope||(r.Scope={}));function y(A,b){var R=P(A);if(R==null)throw new f("Unable to create "+A+" blot");var M=R,I=A instanceof Node||A.nodeType===Node.TEXT_NODE?A:M.create(b);return new M(I,b)}r.create=y;function _(A,b){return b===void 0&&(b=!1),A==null?null:A[r.DATA_KEY]!=null?A[r.DATA_KEY].blot:b?_(A.parentNode,b):null}r.find=_;function P(A,b){b===void 0&&(b=v.ANY);var R;if(typeof A=="string")R=w[A]||p[A];else if(A instanceof Text||A.nodeType===Node.TEXT_NODE)R=w.text;else if(typeof A=="number")A&v.LEVEL&v.BLOCK?R=w.block:A&v.LEVEL&v.INLINE&&(R=w.inline);else if(A instanceof HTMLElement){var M=(A.getAttribute("class")||"").split(/\s+/);for(var I in M)if(R=g[M[I]],R)break;R=R||E[A.tagName]}return R==null?null:b&v.LEVEL&R.scope&&b&v.TYPE&R.scope?R:null}r.query=P;function S(){for(var A=[],b=0;b<arguments.length;b++)A[b]=arguments[b];if(A.length>1)return A.map(function(I){return S(I)});var R=A[0];if(typeof R.blotName!="string"&&typeof R.attrName!="string")throw new f("Invalid definition");if(R.blotName==="abstract")throw new f("Cannot register abstract class");if(w[R.blotName||R.attrName]=R,typeof R.keyName=="string")p[R.keyName]=R;else if(R.className!=null&&(g[R.className]=R),R.tagName!=null){Array.isArray(R.tagName)?R.tagName=R.tagName.map(function(I){return I.toUpperCase()}):R.tagName=R.tagName.toUpperCase();var M=Array.isArray(R.tagName)?R.tagName:[R.tagName];M.forEach(function(I){(E[I]==null||R.className==null)&&(E[I]=R)})}return R}r.register=S},function(t,r,o){var l=o(51),f=o(11),p=o(3),g=o(20),E="\0",w=function(v){Array.isArray(v)?this.ops=v:v!=null&&Array.isArray(v.ops)?this.ops=v.ops:this.ops=[]};w.prototype.insert=function(v,y){var _={};return v.length===0?this:(_.insert=v,y!=null&&typeof y=="object"&&Object.keys(y).length>0&&(_.attributes=y),this.push(_))},w.prototype.delete=function(v){return v<=0?this:this.push({delete:v})},w.prototype.retain=function(v,y){if(v<=0)return this;var _={retain:v};return y!=null&&typeof y=="object"&&Object.keys(y).length>0&&(_.attributes=y),this.push(_)},w.prototype.push=function(v){var y=this.ops.length,_=this.ops[y-1];if(v=p(!0,{},v),typeof _=="object"){if(typeof v.delete=="number"&&typeof _.delete=="number")return this.ops[y-1]={delete:_.delete+v.delete},this;if(typeof _.delete=="number"&&v.insert!=null&&(y-=1,_=this.ops[y-1],typeof _!="object"))return this.ops.unshift(v),this;if(f(v.attributes,_.attributes)){if(typeof v.insert=="string"&&typeof _.insert=="string")return this.ops[y-1]={insert:_.insert+v.insert},typeof v.attributes=="object"&&(this.ops[y-1].attributes=v.attributes),this;if(typeof v.retain=="number"&&typeof _.retain=="number")return this.ops[y-1]={retain:_.retain+v.retain},typeof v.attributes=="object"&&(this.ops[y-1].attributes=v.attributes),this}}return y===this.ops.length?this.ops.push(v):this.ops.splice(y,0,v),this},w.prototype.chop=function(){var v=this.ops[this.ops.length-1];return v&&v.retain&&!v.attributes&&this.ops.pop(),this},w.prototype.filter=function(v){return this.ops.filter(v)},w.prototype.forEach=function(v){this.ops.forEach(v)},w.prototype.map=function(v){return this.ops.map(v)},w.prototype.partition=function(v){var y=[],_=[];return this.forEach(function(P){var S=v(P)?y:_;S.push(P)}),[y,_]},w.prototype.reduce=function(v,y){return this.ops.reduce(v,y)},w.prototype.changeLength=function(){return this.reduce(function(v,y){return y.insert?v+g.length(y):y.delete?v-y.delete:v},0)},w.prototype.length=function(){return this.reduce(function(v,y){return v+g.length(y)},0)},w.prototype.slice=function(v,y){v=v||0,typeof y!="number"&&(y=1/0);for(var _=[],P=g.iterator(this.ops),S=0;S<y&&P.hasNext();){var A;S<v?A=P.next(v-S):(A=P.next(y-S),_.push(A)),S+=g.length(A)}return new w(_)},w.prototype.compose=function(v){var y=g.iterator(this.ops),_=g.iterator(v.ops),P=[],S=_.peek();if(S!=null&&typeof S.retain=="number"&&S.attributes==null){for(var A=S.retain;y.peekType()==="insert"&&y.peekLength()<=A;)A-=y.peekLength(),P.push(y.next());S.retain-A>0&&_.next(S.retain-A)}for(var b=new w(P);y.hasNext()||_.hasNext();)if(_.peekType()==="insert")b.push(_.next());else if(y.peekType()==="delete")b.push(y.next());else{var R=Math.min(y.peekLength(),_.peekLength()),M=y.next(R),I=_.next(R);if(typeof I.retain=="number"){var q={};typeof M.retain=="number"?q.retain=R:q.insert=M.insert;var $=g.attributes.compose(M.attributes,I.attributes,typeof M.retain=="number");if($&&(q.attributes=$),b.push(q),!_.hasNext()&&f(b.ops[b.ops.length-1],q)){var L=new w(y.rest());return b.concat(L).chop()}}else typeof I.delete=="number"&&typeof M.retain=="number"&&b.push(I)}return b.chop()},w.prototype.concat=function(v){var y=new w(this.ops.slice());return v.ops.length>0&&(y.push(v.ops[0]),y.ops=y.ops.concat(v.ops.slice(1))),y},w.prototype.diff=function(v,y){if(this.ops===v.ops)return new w;var _=[this,v].map(function(R){return R.map(function(M){if(M.insert!=null)return typeof M.insert=="string"?M.insert:E;var I=R===v?"on":"with";throw new Error("diff() called "+I+" non-document")}).join("")}),P=new w,S=l(_[0],_[1],y),A=g.iterator(this.ops),b=g.iterator(v.ops);return S.forEach(function(R){for(var M=R[1].length;M>0;){var I=0;switch(R[0]){case l.INSERT:I=Math.min(b.peekLength(),M),P.push(b.next(I));break;case l.DELETE:I=Math.min(M,A.peekLength()),A.next(I),P.delete(I);break;case l.EQUAL:I=Math.min(A.peekLength(),b.peekLength(),M);var q=A.next(I),$=b.next(I);f(q.insert,$.insert)?P.retain(I,g.attributes.diff(q.attributes,$.attributes)):P.push($).delete(I);break}M-=I}}),P.chop()},w.prototype.eachLine=function(v,y){y=y||`
`;for(var _=g.iterator(this.ops),P=new w,S=0;_.hasNext();){if(_.peekType()!=="insert")return;var A=_.peek(),b=g.length(A)-_.peekLength(),R=typeof A.insert=="string"?A.insert.indexOf(y,b)-b:-1;if(R<0)P.push(_.next());else if(R>0)P.push(_.next(R));else{if(v(P,_.next(1).attributes||{},S)===!1)return;S+=1,P=new w}}P.length()>0&&v(P,{},S)},w.prototype.transform=function(v,y){if(y=!!y,typeof v=="number")return this.transformPosition(v,y);for(var _=g.iterator(this.ops),P=g.iterator(v.ops),S=new w;_.hasNext()||P.hasNext();)if(_.peekType()==="insert"&&(y||P.peekType()!=="insert"))S.retain(g.length(_.next()));else if(P.peekType()==="insert")S.push(P.next());else{var A=Math.min(_.peekLength(),P.peekLength()),b=_.next(A),R=P.next(A);if(b.delete)continue;R.delete?S.push(R):S.retain(A,g.attributes.transform(b.attributes,R.attributes,y))}return S.chop()},w.prototype.transformPosition=function(v,y){y=!!y;for(var _=g.iterator(this.ops),P=0;_.hasNext()&&P<=v;){var S=_.peekLength(),A=_.peekType();if(_.next(),A==="delete"){v-=Math.min(S,v-P);continue}else A==="insert"&&(P<v||!y)&&(v+=S);P+=S}return v},t.exports=w},function(t,r){var o=Object.prototype.hasOwnProperty,l=Object.prototype.toString,f=Object.defineProperty,p=Object.getOwnPropertyDescriptor,g=function(_){return typeof Array.isArray=="function"?Array.isArray(_):l.call(_)==="[object Array]"},E=function(_){if(!_||l.call(_)!=="[object Object]")return!1;var P=o.call(_,"constructor"),S=_.constructor&&_.constructor.prototype&&o.call(_.constructor.prototype,"isPrototypeOf");if(_.constructor&&!P&&!S)return!1;var A;for(A in _);return typeof A>"u"||o.call(_,A)},w=function(_,P){f&&P.name==="__proto__"?f(_,P.name,{enumerable:!0,configurable:!0,value:P.newValue,writable:!0}):_[P.name]=P.newValue},v=function(_,P){if(P==="__proto__")if(o.call(_,P)){if(p)return p(_,P).value}else return;return _[P]};t.exports=function y(){var _,P,S,A,b,R,M=arguments[0],I=1,q=arguments.length,$=!1;for(typeof M=="boolean"&&($=M,M=arguments[1]||{},I=2),(M==null||typeof M!="object"&&typeof M!="function")&&(M={});I<q;++I)if(_=arguments[I],_!=null)for(P in _)S=v(M,P),A=v(_,P),M!==A&&($&&A&&(E(A)||(b=g(A)))?(b?(b=!1,R=S&&g(S)?S:[]):R=S&&E(S)?S:{},w(M,{name:P,newValue:y($,R,A)})):typeof A<"u"&&w(M,{name:P,newValue:A}));return M}},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var l=function(){function k(U,V){for(var J=0;J<V.length;J++){var ee=V[J];ee.enumerable=ee.enumerable||!1,ee.configurable=!0,"value"in ee&&(ee.writable=!0),Object.defineProperty(U,ee.key,ee)}}return function(U,V,J){return V&&k(U.prototype,V),J&&k(U,J),U}}(),f=function k(U,V,J){U===null&&(U=Function.prototype);var ee=Object.getOwnPropertyDescriptor(U,V);if(ee===void 0){var fe=Object.getPrototypeOf(U);return fe===null?void 0:k(fe,V,J)}else{if("value"in ee)return ee.value;var ce=ee.get;return ce===void 0?void 0:ce.call(J)}},p=o(3),g=M(p),E=o(2),w=M(E),v=o(0),y=M(v),_=o(16),P=M(_),S=o(6),A=M(S),b=o(7),R=M(b);function M(k){return k&&k.__esModule?k:{default:k}}function I(k,U){if(!(k instanceof U))throw new TypeError("Cannot call a class as a function")}function q(k,U){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U&&(typeof U=="object"||typeof U=="function")?U:k}function $(k,U){if(typeof U!="function"&&U!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof U);k.prototype=Object.create(U&&U.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf(k,U):k.__proto__=U)}var L=1,O=function(k){$(U,k);function U(){return I(this,U),q(this,(U.__proto__||Object.getPrototypeOf(U)).apply(this,arguments))}return l(U,[{key:"attach",value:function(){f(U.prototype.__proto__||Object.getPrototypeOf(U.prototype),"attach",this).call(this),this.attributes=new y.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new w.default().insert(this.value(),(0,g.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(J,ee){var fe=y.default.query(J,y.default.Scope.BLOCK_ATTRIBUTE);fe!=null&&this.attributes.attribute(fe,ee)}},{key:"formatAt",value:function(J,ee,fe,ce){this.format(fe,ce)}},{key:"insertAt",value:function(J,ee,fe){if(typeof ee=="string"&&ee.endsWith(`
`)){var ce=y.default.create(F.blotName);this.parent.insertBefore(ce,J===0?this:this.next),ce.insertAt(0,ee.slice(0,-1))}else f(U.prototype.__proto__||Object.getPrototypeOf(U.prototype),"insertAt",this).call(this,J,ee,fe)}}]),U}(y.default.Embed);O.scope=y.default.Scope.BLOCK_BLOT;var F=function(k){$(U,k);function U(V){I(this,U);var J=q(this,(U.__proto__||Object.getPrototypeOf(U)).call(this,V));return J.cache={},J}return l(U,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(y.default.Leaf).reduce(function(J,ee){return ee.length()===0?J:J.insert(ee.value(),D(ee))},new w.default).insert(`
`,D(this))),this.cache.delta}},{key:"deleteAt",value:function(J,ee){f(U.prototype.__proto__||Object.getPrototypeOf(U.prototype),"deleteAt",this).call(this,J,ee),this.cache={}}},{key:"formatAt",value:function(J,ee,fe,ce){ee<=0||(y.default.query(fe,y.default.Scope.BLOCK)?J+ee===this.length()&&this.format(fe,ce):f(U.prototype.__proto__||Object.getPrototypeOf(U.prototype),"formatAt",this).call(this,J,Math.min(ee,this.length()-J-1),fe,ce),this.cache={})}},{key:"insertAt",value:function(J,ee,fe){if(fe!=null)return f(U.prototype.__proto__||Object.getPrototypeOf(U.prototype),"insertAt",this).call(this,J,ee,fe);if(ee.length!==0){var ce=ee.split(`
`),de=ce.shift();de.length>0&&(J<this.length()-1||this.children.tail==null?f(U.prototype.__proto__||Object.getPrototypeOf(U.prototype),"insertAt",this).call(this,Math.min(J,this.length()-1),de):this.children.tail.insertAt(this.children.tail.length(),de),this.cache={});var re=this;ce.reduce(function(X,B){return re=re.split(X,!0),re.insertAt(0,B),B.length},J+de.length)}}},{key:"insertBefore",value:function(J,ee){var fe=this.children.head;f(U.prototype.__proto__||Object.getPrototypeOf(U.prototype),"insertBefore",this).call(this,J,ee),fe instanceof P.default&&fe.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=f(U.prototype.__proto__||Object.getPrototypeOf(U.prototype),"length",this).call(this)+L),this.cache.length}},{key:"moveChildren",value:function(J,ee){f(U.prototype.__proto__||Object.getPrototypeOf(U.prototype),"moveChildren",this).call(this,J,ee),this.cache={}}},{key:"optimize",value:function(J){f(U.prototype.__proto__||Object.getPrototypeOf(U.prototype),"optimize",this).call(this,J),this.cache={}}},{key:"path",value:function(J){return f(U.prototype.__proto__||Object.getPrototypeOf(U.prototype),"path",this).call(this,J,!0)}},{key:"removeChild",value:function(J){f(U.prototype.__proto__||Object.getPrototypeOf(U.prototype),"removeChild",this).call(this,J),this.cache={}}},{key:"split",value:function(J){var ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(ee&&(J===0||J>=this.length()-L)){var fe=this.clone();return J===0?(this.parent.insertBefore(fe,this),this):(this.parent.insertBefore(fe,this.next),fe)}else{var ce=f(U.prototype.__proto__||Object.getPrototypeOf(U.prototype),"split",this).call(this,J,ee);return this.cache={},ce}}}]),U}(y.default.Block);F.blotName="block",F.tagName="P",F.defaultChild="break",F.allowedChildren=[A.default,y.default.Embed,R.default];function D(k){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return k==null||(typeof k.formats=="function"&&(U=(0,g.default)(U,k.formats())),k.parent==null||k.parent.blotName=="scroll"||k.parent.statics.scope!==k.statics.scope)?U:D(k.parent,U)}r.bubbleFormats=D,r.BlockEmbed=O,r.default=F},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(re){return typeof re}:function(re){return re&&typeof Symbol=="function"&&re.constructor===Symbol&&re!==Symbol.prototype?"symbol":typeof re},f=function(){function re(X,B){var W=[],Z=!0,ue=!1,se=void 0;try{for(var Y=X[Symbol.iterator](),ie;!(Z=(ie=Y.next()).done)&&(W.push(ie.value),!(B&&W.length===B));Z=!0);}catch(pe){ue=!0,se=pe}finally{try{!Z&&Y.return&&Y.return()}finally{if(ue)throw se}}return W}return function(X,B){if(Array.isArray(X))return X;if(Symbol.iterator in Object(X))return re(X,B);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),p=function(){function re(X,B){for(var W=0;W<B.length;W++){var Z=B[W];Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z&&(Z.writable=!0),Object.defineProperty(X,Z.key,Z)}}return function(X,B,W){return B&&re(X.prototype,B),W&&re(X,W),X}}();o(50);var g=o(2),E=D(g),w=o(14),v=D(w),y=o(8),_=D(y),P=o(9),S=D(P),A=o(0),b=D(A),R=o(15),M=D(R),I=o(3),q=D(I),$=o(10),L=D($),O=o(34),F=D(O);function D(re){return re&&re.__esModule?re:{default:re}}function k(re,X,B){return X in re?Object.defineProperty(re,X,{value:B,enumerable:!0,configurable:!0,writable:!0}):re[X]=B,re}function U(re,X){if(!(re instanceof X))throw new TypeError("Cannot call a class as a function")}var V=(0,L.default)("quill"),J=function(){p(re,null,[{key:"debug",value:function(B){B===!0&&(B="log"),L.default.level(B)}},{key:"find",value:function(B){return B.__quill||b.default.find(B)}},{key:"import",value:function(B){return this.imports[B]==null&&V.error("Cannot import "+B+". Are you sure it was registered?"),this.imports[B]}},{key:"register",value:function(B,W){var Z=this,ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof B!="string"){var se=B.attrName||B.blotName;typeof se=="string"?this.register("formats/"+se,B,W):Object.keys(B).forEach(function(Y){Z.register(Y,B[Y],W)})}else this.imports[B]!=null&&!ue&&V.warn("Overwriting "+B+" with",W),this.imports[B]=W,(B.startsWith("blots/")||B.startsWith("formats/"))&&W.blotName!=="abstract"?b.default.register(W):B.startsWith("modules")&&typeof W.register=="function"&&W.register()}}]);function re(X){var B=this,W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(U(this,re),this.options=ee(X,W),this.container=this.options.container,this.container==null)return V.error("Invalid Quill container",X);this.options.debug&&re.debug(this.options.debug);var Z=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new _.default,this.scroll=b.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new v.default(this.scroll),this.selection=new M.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(_.default.events.EDITOR_CHANGE,function(se){se===_.default.events.TEXT_CHANGE&&B.root.classList.toggle("ql-blank",B.editor.isBlank())}),this.emitter.on(_.default.events.SCROLL_UPDATE,function(se,Y){var ie=B.selection.lastRange,pe=ie&&ie.length===0?ie.index:void 0;fe.call(B,function(){return B.editor.update(null,Y,pe)},se)});var ue=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+Z+"<p><br></p></div>");this.setContents(ue),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return p(re,[{key:"addContainer",value:function(B){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof B=="string"){var Z=B;B=document.createElement("div"),B.classList.add(Z)}return this.container.insertBefore(B,W),B}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(B,W,Z){var ue=this,se=ce(B,W,Z),Y=f(se,4);return B=Y[0],W=Y[1],Z=Y[3],fe.call(this,function(){return ue.editor.deleteText(B,W)},Z,B,-1*W)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(B),this.container.classList.toggle("ql-disabled",!B)}},{key:"focus",value:function(){var B=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=B,this.scrollIntoView()}},{key:"format",value:function(B,W){var Z=this,ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_.default.sources.API;return fe.call(this,function(){var se=Z.getSelection(!0),Y=new E.default;if(se==null)return Y;if(b.default.query(B,b.default.Scope.BLOCK))Y=Z.editor.formatLine(se.index,se.length,k({},B,W));else{if(se.length===0)return Z.selection.format(B,W),Y;Y=Z.editor.formatText(se.index,se.length,k({},B,W))}return Z.setSelection(se,_.default.sources.SILENT),Y},ue)}},{key:"formatLine",value:function(B,W,Z,ue,se){var Y=this,ie=void 0,pe=ce(B,W,Z,ue,se),me=f(pe,4);return B=me[0],W=me[1],ie=me[2],se=me[3],fe.call(this,function(){return Y.editor.formatLine(B,W,ie)},se,B,0)}},{key:"formatText",value:function(B,W,Z,ue,se){var Y=this,ie=void 0,pe=ce(B,W,Z,ue,se),me=f(pe,4);return B=me[0],W=me[1],ie=me[2],se=me[3],fe.call(this,function(){return Y.editor.formatText(B,W,ie)},se,B,0)}},{key:"getBounds",value:function(B){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Z=void 0;typeof B=="number"?Z=this.selection.getBounds(B,W):Z=this.selection.getBounds(B.index,B.length);var ue=this.container.getBoundingClientRect();return{bottom:Z.bottom-ue.top,height:Z.height,left:Z.left-ue.left,right:Z.right-ue.left,top:Z.top-ue.top,width:Z.width}}},{key:"getContents",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-B,Z=ce(B,W),ue=f(Z,2);return B=ue[0],W=ue[1],this.editor.getContents(B,W)}},{key:"getFormat",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof B=="number"?this.editor.getFormat(B,W):this.editor.getFormat(B.index,B.length)}},{key:"getIndex",value:function(B){return B.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(B){return this.scroll.leaf(B)}},{key:"getLine",value:function(B){return this.scroll.line(B)}},{key:"getLines",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof B!="number"?this.scroll.lines(B.index,B.length):this.scroll.lines(B,W)}},{key:"getModule",value:function(B){return this.theme.modules[B]}},{key:"getSelection",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return B&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-B,Z=ce(B,W),ue=f(Z,2);return B=ue[0],W=ue[1],this.editor.getText(B,W)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(B,W,Z){var ue=this,se=arguments.length>3&&arguments[3]!==void 0?arguments[3]:re.sources.API;return fe.call(this,function(){return ue.editor.insertEmbed(B,W,Z)},se,B)}},{key:"insertText",value:function(B,W,Z,ue,se){var Y=this,ie=void 0,pe=ce(B,0,Z,ue,se),me=f(pe,4);return B=me[0],ie=me[2],se=me[3],fe.call(this,function(){return Y.editor.insertText(B,W,ie)},se,B,W.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(B,W,Z){this.clipboard.dangerouslyPasteHTML(B,W,Z)}},{key:"removeFormat",value:function(B,W,Z){var ue=this,se=ce(B,W,Z),Y=f(se,4);return B=Y[0],W=Y[1],Z=Y[3],fe.call(this,function(){return ue.editor.removeFormat(B,W)},Z,B)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(B){var W=this,Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_.default.sources.API;return fe.call(this,function(){B=new E.default(B);var ue=W.getLength(),se=W.editor.deleteText(0,ue),Y=W.editor.applyDelta(B),ie=Y.ops[Y.ops.length-1];ie!=null&&typeof ie.insert=="string"&&ie.insert[ie.insert.length-1]===`
`&&(W.editor.deleteText(W.getLength()-1,1),Y.delete(1));var pe=se.compose(Y);return pe},Z)}},{key:"setSelection",value:function(B,W,Z){if(B==null)this.selection.setRange(null,W||re.sources.API);else{var ue=ce(B,W,Z),se=f(ue,4);B=se[0],W=se[1],Z=se[3],this.selection.setRange(new R.Range(B,W),Z),Z!==_.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(B){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_.default.sources.API,Z=new E.default().insert(B);return this.setContents(Z,W)}},{key:"update",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:_.default.sources.USER,W=this.scroll.update(B);return this.selection.update(B),W}},{key:"updateContents",value:function(B){var W=this,Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_.default.sources.API;return fe.call(this,function(){return B=new E.default(B),W.editor.applyDelta(B,Z)},Z,!0)}}]),re}();J.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},J.events=_.default.events,J.sources=_.default.sources,J.version="1.3.7",J.imports={delta:E.default,parchment:b.default,"core/module":S.default,"core/theme":F.default};function ee(re,X){if(X=(0,q.default)(!0,{container:re,modules:{clipboard:!0,keyboard:!0,history:!0}},X),!X.theme||X.theme===J.DEFAULTS.theme)X.theme=F.default;else if(X.theme=J.import("themes/"+X.theme),X.theme==null)throw new Error("Invalid theme "+X.theme+". Did you register it?");var B=(0,q.default)(!0,{},X.theme.DEFAULTS);[B,X].forEach(function(ue){ue.modules=ue.modules||{},Object.keys(ue.modules).forEach(function(se){ue.modules[se]===!0&&(ue.modules[se]={})})});var W=Object.keys(B.modules).concat(Object.keys(X.modules)),Z=W.reduce(function(ue,se){var Y=J.import("modules/"+se);return Y==null?V.error("Cannot load "+se+" module. Are you sure you registered it?"):ue[se]=Y.DEFAULTS||{},ue},{});return X.modules!=null&&X.modules.toolbar&&X.modules.toolbar.constructor!==Object&&(X.modules.toolbar={container:X.modules.toolbar}),X=(0,q.default)(!0,{},J.DEFAULTS,{modules:Z},B,X),["bounds","container","scrollingContainer"].forEach(function(ue){typeof X[ue]=="string"&&(X[ue]=document.querySelector(X[ue]))}),X.modules=Object.keys(X.modules).reduce(function(ue,se){return X.modules[se]&&(ue[se]=X.modules[se]),ue},{}),X}function fe(re,X,B,W){if(this.options.strict&&!this.isEnabled()&&X===_.default.sources.USER)return new E.default;var Z=B==null?null:this.getSelection(),ue=this.editor.delta,se=re();if(Z!=null&&(B===!0&&(B=Z.index),W==null?Z=de(Z,se,X):W!==0&&(Z=de(Z,B,W,X)),this.setSelection(Z,_.default.sources.SILENT)),se.length()>0){var Y,ie=[_.default.events.TEXT_CHANGE,se,ue,X];if((Y=this.emitter).emit.apply(Y,[_.default.events.EDITOR_CHANGE].concat(ie)),X!==_.default.sources.SILENT){var pe;(pe=this.emitter).emit.apply(pe,ie)}}return se}function ce(re,X,B,W,Z){var ue={};return typeof re.index=="number"&&typeof re.length=="number"?typeof X!="number"?(Z=W,W=B,B=X,X=re.length,re=re.index):(X=re.length,re=re.index):typeof X!="number"&&(Z=W,W=B,B=X,X=0),(typeof B>"u"?"undefined":l(B))==="object"?(ue=B,Z=W):typeof B=="string"&&(W!=null?ue[B]=W:Z=B),Z=Z||_.default.sources.API,[re,X,ue,Z]}function de(re,X,B,W){if(re==null)return null;var Z=void 0,ue=void 0;if(X instanceof E.default){var se=[re.index,re.index+re.length].map(function(me){return X.transformPosition(me,W!==_.default.sources.USER)}),Y=f(se,2);Z=Y[0],ue=Y[1]}else{var ie=[re.index,re.index+re.length].map(function(me){return me<X||me===X&&W===_.default.sources.USER?me:B>=0?me+B:Math.max(X,me+B)}),pe=f(ie,2);Z=pe[0],ue=pe[1]}return new R.Range(Z,ue-Z)}r.expandConfig=ee,r.overload=ce,r.default=J},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var l=function(){function A(b,R){for(var M=0;M<R.length;M++){var I=R[M];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(b,I.key,I)}}return function(b,R,M){return R&&A(b.prototype,R),M&&A(b,M),b}}(),f=function A(b,R,M){b===null&&(b=Function.prototype);var I=Object.getOwnPropertyDescriptor(b,R);if(I===void 0){var q=Object.getPrototypeOf(b);return q===null?void 0:A(q,R,M)}else{if("value"in I)return I.value;var $=I.get;return $===void 0?void 0:$.call(M)}},p=o(7),g=v(p),E=o(0),w=v(E);function v(A){return A&&A.__esModule?A:{default:A}}function y(A,b){if(!(A instanceof b))throw new TypeError("Cannot call a class as a function")}function _(A,b){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:A}function P(A,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);A.prototype=Object.create(b&&b.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(A,b):A.__proto__=b)}var S=function(A){P(b,A);function b(){return y(this,b),_(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return l(b,[{key:"formatAt",value:function(M,I,q,$){if(b.compare(this.statics.blotName,q)<0&&w.default.query(q,w.default.Scope.BLOT)){var L=this.isolate(M,I);$&&L.wrap(q,$)}else f(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"formatAt",this).call(this,M,I,q,$)}},{key:"optimize",value:function(M){if(f(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"optimize",this).call(this,M),this.parent instanceof b&&b.compare(this.statics.blotName,this.parent.statics.blotName)>0){var I=this.parent.isolate(this.offset(),this.length());this.moveChildren(I),I.wrap(this)}}}],[{key:"compare",value:function(M,I){var q=b.order.indexOf(M),$=b.order.indexOf(I);return q>=0||$>=0?q-$:M===I?0:M<I?-1:1}}]),b}(w.default.Inline);S.allowedChildren=[S,w.default.Embed,g.default],S.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=S},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var l=o(0),f=p(l);function p(y){return y&&y.__esModule?y:{default:y}}function g(y,_){if(!(y instanceof _))throw new TypeError("Cannot call a class as a function")}function E(y,_){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:y}function w(y,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);y.prototype=Object.create(_&&_.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(y,_):y.__proto__=_)}var v=function(y){w(_,y);function _(){return g(this,_),E(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return _}(f.default.Text);r.default=v},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var l=function(){function R(M,I){for(var q=0;q<I.length;q++){var $=I[q];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(M,$.key,$)}}return function(M,I,q){return I&&R(M.prototype,I),q&&R(M,q),M}}(),f=function R(M,I,q){M===null&&(M=Function.prototype);var $=Object.getOwnPropertyDescriptor(M,I);if($===void 0){var L=Object.getPrototypeOf(M);return L===null?void 0:R(L,I,q)}else{if("value"in $)return $.value;var O=$.get;return O===void 0?void 0:O.call(q)}},p=o(54),g=v(p),E=o(10),w=v(E);function v(R){return R&&R.__esModule?R:{default:R}}function y(R,M){if(!(R instanceof M))throw new TypeError("Cannot call a class as a function")}function _(R,M){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M&&(typeof M=="object"||typeof M=="function")?M:R}function P(R,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof M);R.prototype=Object.create(M&&M.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(R,M):R.__proto__=M)}var S=(0,w.default)("quill:events"),A=["selectionchange","mousedown","mouseup","click"];A.forEach(function(R){document.addEventListener(R,function(){for(var M=arguments.length,I=Array(M),q=0;q<M;q++)I[q]=arguments[q];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function($){if($.__quill&&$.__quill.emitter){var L;(L=$.__quill.emitter).handleDOM.apply(L,I)}})})});var b=function(R){P(M,R);function M(){y(this,M);var I=_(this,(M.__proto__||Object.getPrototypeOf(M)).call(this));return I.listeners={},I.on("error",S.error),I}return l(M,[{key:"emit",value:function(){S.log.apply(S,arguments),f(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(q){for(var $=arguments.length,L=Array($>1?$-1:0),O=1;O<$;O++)L[O-1]=arguments[O];(this.listeners[q.type]||[]).forEach(function(F){var D=F.node,k=F.handler;(q.target===D||D.contains(q.target))&&k.apply(void 0,[q].concat(L))})}},{key:"listenDOM",value:function(q,$,L){this.listeners[q]||(this.listeners[q]=[]),this.listeners[q].push({node:$,handler:L})}}]),M}(g.default);b.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},b.sources={API:"api",SILENT:"silent",USER:"user"},r.default=b},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});function l(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}var f=function p(g){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};l(this,p),this.quill=g,this.options=E};f.DEFAULTS={},r.default=f},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var l=["error","warn","log","info"],f="warn";function p(E){if(l.indexOf(E)<=l.indexOf(f)){for(var w,v=arguments.length,y=Array(v>1?v-1:0),_=1;_<v;_++)y[_-1]=arguments[_];(w=console)[E].apply(w,y)}}function g(E){return l.reduce(function(w,v){return w[v]=p.bind(console,v,E),w},{})}p.level=g.level=function(E){f=E},r.default=g},function(t,r,o){var l=Array.prototype.slice,f=o(52),p=o(53),g=t.exports=function(y,_,P){return P||(P={}),y===_?!0:y instanceof Date&&_ instanceof Date?y.getTime()===_.getTime():!y||!_||typeof y!="object"&&typeof _!="object"?P.strict?y===_:y==_:v(y,_,P)};function E(y){return y==null}function w(y){return!(!y||typeof y!="object"||typeof y.length!="number"||typeof y.copy!="function"||typeof y.slice!="function"||y.length>0&&typeof y[0]!="number")}function v(y,_,P){var S,A;if(E(y)||E(_)||y.prototype!==_.prototype)return!1;if(p(y))return p(_)?(y=l.call(y),_=l.call(_),g(y,_,P)):!1;if(w(y)){if(!w(_)||y.length!==_.length)return!1;for(S=0;S<y.length;S++)if(y[S]!==_[S])return!1;return!0}try{var b=f(y),R=f(_)}catch{return!1}if(b.length!=R.length)return!1;for(b.sort(),R.sort(),S=b.length-1;S>=0;S--)if(b[S]!=R[S])return!1;for(S=b.length-1;S>=0;S--)if(A=b[S],!g(y[A],_[A],P))return!1;return typeof y==typeof _}},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var l=o(1),f=function(){function p(g,E,w){w===void 0&&(w={}),this.attrName=g,this.keyName=E;var v=l.Scope.TYPE&l.Scope.ATTRIBUTE;w.scope!=null?this.scope=w.scope&l.Scope.LEVEL|v:this.scope=l.Scope.ATTRIBUTE,w.whitelist!=null&&(this.whitelist=w.whitelist)}return p.keys=function(g){return[].map.call(g.attributes,function(E){return E.name})},p.prototype.add=function(g,E){return this.canAdd(g,E)?(g.setAttribute(this.keyName,E),!0):!1},p.prototype.canAdd=function(g,E){var w=l.query(g,l.Scope.BLOT&(this.scope|l.Scope.TYPE));return w==null?!1:this.whitelist==null?!0:typeof E=="string"?this.whitelist.indexOf(E.replace(/["']/g,""))>-1:this.whitelist.indexOf(E)>-1},p.prototype.remove=function(g){g.removeAttribute(this.keyName)},p.prototype.value=function(g){var E=g.getAttribute(this.keyName);return this.canAdd(g,E)&&E?E:""},p}();r.default=f},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var l=function(){function O(F,D){var k=[],U=!0,V=!1,J=void 0;try{for(var ee=F[Symbol.iterator](),fe;!(U=(fe=ee.next()).done)&&(k.push(fe.value),!(D&&k.length===D));U=!0);}catch(ce){V=!0,J=ce}finally{try{!U&&ee.return&&ee.return()}finally{if(V)throw J}}return k}return function(F,D){if(Array.isArray(F))return F;if(Symbol.iterator in Object(F))return O(F,D);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(){function O(F,D){for(var k=0;k<D.length;k++){var U=D[k];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(F,U.key,U)}}return function(F,D,k){return D&&O(F.prototype,D),k&&O(F,k),F}}(),p=function O(F,D,k){F===null&&(F=Function.prototype);var U=Object.getOwnPropertyDescriptor(F,D);if(U===void 0){var V=Object.getPrototypeOf(F);return V===null?void 0:O(V,D,k)}else{if("value"in U)return U.value;var J=U.get;return J===void 0?void 0:J.call(k)}},g=o(2),E=R(g),w=o(0),v=R(w),y=o(4),_=R(y),P=o(6),S=R(P),A=o(7),b=R(A);function R(O){return O&&O.__esModule?O:{default:O}}function M(O,F){if(!(O instanceof F))throw new TypeError("Cannot call a class as a function")}function I(O,F){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F&&(typeof F=="object"||typeof F=="function")?F:O}function q(O,F){if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof F);O.prototype=Object.create(F&&F.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(O,F):O.__proto__=F)}var $=function(O){q(F,O);function F(){return M(this,F),I(this,(F.__proto__||Object.getPrototypeOf(F)).apply(this,arguments))}return F}(S.default);$.blotName="code",$.tagName="CODE";var L=function(O){q(F,O);function F(){return M(this,F),I(this,(F.__proto__||Object.getPrototypeOf(F)).apply(this,arguments))}return f(F,[{key:"delta",value:function(){var k=this,U=this.domNode.textContent;return U.endsWith(`
`)&&(U=U.slice(0,-1)),U.split(`
`).reduce(function(V,J){return V.insert(J).insert(`
`,k.formats())},new E.default)}},{key:"format",value:function(k,U){if(!(k===this.statics.blotName&&U)){var V=this.descendant(b.default,this.length()-1),J=l(V,1),ee=J[0];ee!=null&&ee.deleteAt(ee.length()-1,1),p(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"format",this).call(this,k,U)}}},{key:"formatAt",value:function(k,U,V,J){if(U!==0&&!(v.default.query(V,v.default.Scope.BLOCK)==null||V===this.statics.blotName&&J===this.statics.formats(this.domNode))){var ee=this.newlineIndex(k);if(!(ee<0||ee>=k+U)){var fe=this.newlineIndex(k,!0)+1,ce=ee-fe+1,de=this.isolate(fe,ce),re=de.next;de.format(V,J),re instanceof F&&re.formatAt(0,k-fe+U-ce,V,J)}}}},{key:"insertAt",value:function(k,U,V){if(V==null){var J=this.descendant(b.default,k),ee=l(J,2),fe=ee[0],ce=ee[1];fe.insertAt(ce,U)}}},{key:"length",value:function(){var k=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?k:k+1}},{key:"newlineIndex",value:function(k){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(U)return this.domNode.textContent.slice(0,k).lastIndexOf(`
`);var V=this.domNode.textContent.slice(k).indexOf(`
`);return V>-1?k+V:-1}},{key:"optimize",value:function(k){this.domNode.textContent.endsWith(`
`)||this.appendChild(v.default.create("text",`
`)),p(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"optimize",this).call(this,k);var U=this.next;U!=null&&U.prev===this&&U.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===U.statics.formats(U.domNode)&&(U.optimize(k),U.moveChildren(this),U.remove())}},{key:"replace",value:function(k){p(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"replace",this).call(this,k),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(U){var V=v.default.find(U);V==null?U.parentNode.removeChild(U):V instanceof v.default.Embed?V.remove():V.unwrap()})}}],[{key:"create",value:function(k){var U=p(F.__proto__||Object.getPrototypeOf(F),"create",this).call(this,k);return U.setAttribute("spellcheck",!1),U}},{key:"formats",value:function(){return!0}}]),F}(_.default);L.blotName="code-block",L.tagName="PRE",L.TAB="  ",r.Code=$,r.default=L},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(re){return typeof re}:function(re){return re&&typeof Symbol=="function"&&re.constructor===Symbol&&re!==Symbol.prototype?"symbol":typeof re},f=function(){function re(X,B){var W=[],Z=!0,ue=!1,se=void 0;try{for(var Y=X[Symbol.iterator](),ie;!(Z=(ie=Y.next()).done)&&(W.push(ie.value),!(B&&W.length===B));Z=!0);}catch(pe){ue=!0,se=pe}finally{try{!Z&&Y.return&&Y.return()}finally{if(ue)throw se}}return W}return function(X,B){if(Array.isArray(X))return X;if(Symbol.iterator in Object(X))return re(X,B);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),p=function(){function re(X,B){for(var W=0;W<B.length;W++){var Z=B[W];Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z&&(Z.writable=!0),Object.defineProperty(X,Z.key,Z)}}return function(X,B,W){return B&&re(X.prototype,B),W&&re(X,W),X}}(),g=o(2),E=U(g),w=o(20),v=U(w),y=o(0),_=U(y),P=o(13),S=U(P),A=o(24),b=U(A),R=o(4),M=U(R),I=o(16),q=U(I),$=o(21),L=U($),O=o(11),F=U(O),D=o(3),k=U(D);function U(re){return re&&re.__esModule?re:{default:re}}function V(re,X,B){return X in re?Object.defineProperty(re,X,{value:B,enumerable:!0,configurable:!0,writable:!0}):re[X]=B,re}function J(re,X){if(!(re instanceof X))throw new TypeError("Cannot call a class as a function")}var ee=/^[ -~]*$/,fe=function(){function re(X){J(this,re),this.scroll=X,this.delta=this.getDelta()}return p(re,[{key:"applyDelta",value:function(B){var W=this,Z=!1;this.scroll.update();var ue=this.scroll.length();return this.scroll.batchStart(),B=de(B),B.reduce(function(se,Y){var ie=Y.retain||Y.delete||Y.insert.length||1,pe=Y.attributes||{};if(Y.insert!=null){if(typeof Y.insert=="string"){var me=Y.insert;me.endsWith(`
`)&&Z&&(Z=!1,me=me.slice(0,-1)),se>=ue&&!me.endsWith(`
`)&&(Z=!0),W.scroll.insertAt(se,me);var Se=W.scroll.line(se),qe=f(Se,2),Ye=qe[0],Je=qe[1],Xe=(0,k.default)({},(0,R.bubbleFormats)(Ye));if(Ye instanceof M.default){var yt=Ye.descendant(_.default.Leaf,Je),mn=f(yt,1),Ot=mn[0];Xe=(0,k.default)(Xe,(0,R.bubbleFormats)(Ot))}pe=v.default.attributes.diff(Xe,pe)||{}}else if(l(Y.insert)==="object"){var Ie=Object.keys(Y.insert)[0];if(Ie==null)return se;W.scroll.insertAt(se,Ie,Y.insert[Ie])}ue+=ie}return Object.keys(pe).forEach(function(be){W.scroll.formatAt(se,ie,be,pe[be])}),se+ie},0),B.reduce(function(se,Y){return typeof Y.delete=="number"?(W.scroll.deleteAt(se,Y.delete),se):se+(Y.retain||Y.insert.length||1)},0),this.scroll.batchEnd(),this.update(B)}},{key:"deleteText",value:function(B,W){return this.scroll.deleteAt(B,W),this.update(new E.default().retain(B).delete(W))}},{key:"formatLine",value:function(B,W){var Z=this,ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(ue).forEach(function(se){if(!(Z.scroll.whitelist!=null&&!Z.scroll.whitelist[se])){var Y=Z.scroll.lines(B,Math.max(W,1)),ie=W;Y.forEach(function(pe){var me=pe.length();if(!(pe instanceof S.default))pe.format(se,ue[se]);else{var Se=B-pe.offset(Z.scroll),qe=pe.newlineIndex(Se+ie)-Se+1;pe.formatAt(Se,qe,se,ue[se])}ie-=me})}}),this.scroll.optimize(),this.update(new E.default().retain(B).retain(W,(0,L.default)(ue)))}},{key:"formatText",value:function(B,W){var Z=this,ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(ue).forEach(function(se){Z.scroll.formatAt(B,W,se,ue[se])}),this.update(new E.default().retain(B).retain(W,(0,L.default)(ue)))}},{key:"getContents",value:function(B,W){return this.delta.slice(B,B+W)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(B,W){return B.concat(W.delta())},new E.default)}},{key:"getFormat",value:function(B){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Z=[],ue=[];W===0?this.scroll.path(B).forEach(function(Y){var ie=f(Y,1),pe=ie[0];pe instanceof M.default?Z.push(pe):pe instanceof _.default.Leaf&&ue.push(pe)}):(Z=this.scroll.lines(B,W),ue=this.scroll.descendants(_.default.Leaf,B,W));var se=[Z,ue].map(function(Y){if(Y.length===0)return{};for(var ie=(0,R.bubbleFormats)(Y.shift());Object.keys(ie).length>0;){var pe=Y.shift();if(pe==null)return ie;ie=ce((0,R.bubbleFormats)(pe),ie)}return ie});return k.default.apply(k.default,se)}},{key:"getText",value:function(B,W){return this.getContents(B,W).filter(function(Z){return typeof Z.insert=="string"}).map(function(Z){return Z.insert}).join("")}},{key:"insertEmbed",value:function(B,W,Z){return this.scroll.insertAt(B,W,Z),this.update(new E.default().retain(B).insert(V({},W,Z)))}},{key:"insertText",value:function(B,W){var Z=this,ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return W=W.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(B,W),Object.keys(ue).forEach(function(se){Z.scroll.formatAt(B,W.length,se,ue[se])}),this.update(new E.default().retain(B).insert(W,(0,L.default)(ue)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var B=this.scroll.children.head;return B.statics.blotName!==M.default.blotName||B.children.length>1?!1:B.children.head instanceof q.default}},{key:"removeFormat",value:function(B,W){var Z=this.getText(B,W),ue=this.scroll.line(B+W),se=f(ue,2),Y=se[0],ie=se[1],pe=0,me=new E.default;Y!=null&&(Y instanceof S.default?pe=Y.newlineIndex(ie)-ie+1:pe=Y.length()-ie,me=Y.delta().slice(ie,ie+pe-1).insert(`
`));var Se=this.getContents(B,W+pe),qe=Se.diff(new E.default().insert(Z).concat(me)),Ye=new E.default().retain(B).concat(qe);return this.applyDelta(Ye)}},{key:"update",value:function(B){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,ue=this.delta;if(W.length===1&&W[0].type==="characterData"&&W[0].target.data.match(ee)&&_.default.find(W[0].target)){var se=_.default.find(W[0].target),Y=(0,R.bubbleFormats)(se),ie=se.offset(this.scroll),pe=W[0].oldValue.replace(b.default.CONTENTS,""),me=new E.default().insert(pe),Se=new E.default().insert(se.value()),qe=new E.default().retain(ie).concat(me.diff(Se,Z));B=qe.reduce(function(Ye,Je){return Je.insert?Ye.insert(Je.insert,Y):Ye.push(Je)},new E.default),this.delta=ue.compose(B)}else this.delta=this.getDelta(),(!B||!(0,F.default)(ue.compose(B),this.delta))&&(B=ue.diff(this.delta,Z));return B}}]),re}();function ce(re,X){return Object.keys(X).reduce(function(B,W){return re[W]==null||(X[W]===re[W]?B[W]=X[W]:Array.isArray(X[W])?X[W].indexOf(re[W])<0&&(B[W]=X[W].concat([re[W]])):B[W]=[X[W],re[W]]),B},{})}function de(re){return re.reduce(function(X,B){if(B.insert===1){var W=(0,L.default)(B.attributes);return delete W.image,X.insert({image:B.attributes.image},W)}if(B.attributes!=null&&(B.attributes.list===!0||B.attributes.bullet===!0)&&(B=(0,L.default)(B),B.attributes.list?B.attributes.list="ordered":(B.attributes.list="bullet",delete B.attributes.bullet)),typeof B.insert=="string"){var Z=B.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return X.insert(Z,B.attributes)}return X.push(B)},new E.default)}r.default=fe},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var l=function(){function O(F,D){var k=[],U=!0,V=!1,J=void 0;try{for(var ee=F[Symbol.iterator](),fe;!(U=(fe=ee.next()).done)&&(k.push(fe.value),!(D&&k.length===D));U=!0);}catch(ce){V=!0,J=ce}finally{try{!U&&ee.return&&ee.return()}finally{if(V)throw J}}return k}return function(F,D){if(Array.isArray(F))return F;if(Symbol.iterator in Object(F))return O(F,D);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(){function O(F,D){for(var k=0;k<D.length;k++){var U=D[k];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(F,U.key,U)}}return function(F,D,k){return D&&O(F.prototype,D),k&&O(F,k),F}}(),p=o(0),g=b(p),E=o(21),w=b(E),v=o(11),y=b(v),_=o(8),P=b(_),S=o(10),A=b(S);function b(O){return O&&O.__esModule?O:{default:O}}function R(O){if(Array.isArray(O)){for(var F=0,D=Array(O.length);F<O.length;F++)D[F]=O[F];return D}else return Array.from(O)}function M(O,F){if(!(O instanceof F))throw new TypeError("Cannot call a class as a function")}var I=(0,A.default)("quill:selection"),q=function O(F){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;M(this,O),this.index=F,this.length=D},$=function(){function O(F,D){var k=this;M(this,O),this.emitter=D,this.scroll=F,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=g.default.create("cursor",this),this.lastRange=this.savedRange=new q(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){k.mouseDown||setTimeout(k.update.bind(k,P.default.sources.USER),1)}),this.emitter.on(P.default.events.EDITOR_CHANGE,function(U,V){U===P.default.events.TEXT_CHANGE&&V.length()>0&&k.update(P.default.sources.SILENT)}),this.emitter.on(P.default.events.SCROLL_BEFORE_UPDATE,function(){if(k.hasFocus()){var U=k.getNativeRange();U!=null&&U.start.node!==k.cursor.textNode&&k.emitter.once(P.default.events.SCROLL_UPDATE,function(){try{k.setNativeRange(U.start.node,U.start.offset,U.end.node,U.end.offset)}catch{}})}}),this.emitter.on(P.default.events.SCROLL_OPTIMIZE,function(U,V){if(V.range){var J=V.range,ee=J.startNode,fe=J.startOffset,ce=J.endNode,de=J.endOffset;k.setNativeRange(ee,fe,ce,de)}}),this.update(P.default.sources.SILENT)}return f(O,[{key:"handleComposition",value:function(){var D=this;this.root.addEventListener("compositionstart",function(){D.composing=!0}),this.root.addEventListener("compositionend",function(){if(D.composing=!1,D.cursor.parent){var k=D.cursor.restore();if(!k)return;setTimeout(function(){D.setNativeRange(k.startNode,k.startOffset,k.endNode,k.endOffset)},1)}})}},{key:"handleDragging",value:function(){var D=this;this.emitter.listenDOM("mousedown",document.body,function(){D.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){D.mouseDown=!1,D.update(P.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(D,k){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[D])){this.scroll.update();var U=this.getNativeRange();if(!(U==null||!U.native.collapsed||g.default.query(D,g.default.Scope.BLOCK))){if(U.start.node!==this.cursor.textNode){var V=g.default.find(U.start.node,!1);if(V==null)return;if(V instanceof g.default.Leaf){var J=V.split(U.start.offset);V.parent.insertBefore(this.cursor,J)}else V.insertBefore(this.cursor,U.start.node);this.cursor.attach()}this.cursor.format(D,k),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(D){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,U=this.scroll.length();D=Math.min(D,U-1),k=Math.min(D+k,U-1)-D;var V=void 0,J=this.scroll.leaf(D),ee=l(J,2),fe=ee[0],ce=ee[1];if(fe==null)return null;var de=fe.position(ce,!0),re=l(de,2);V=re[0],ce=re[1];var X=document.createRange();if(k>0){X.setStart(V,ce);var B=this.scroll.leaf(D+k),W=l(B,2);if(fe=W[0],ce=W[1],fe==null)return null;var Z=fe.position(ce,!0),ue=l(Z,2);return V=ue[0],ce=ue[1],X.setEnd(V,ce),X.getBoundingClientRect()}else{var se="left",Y=void 0;return V instanceof Text?(ce<V.data.length?(X.setStart(V,ce),X.setEnd(V,ce+1)):(X.setStart(V,ce-1),X.setEnd(V,ce),se="right"),Y=X.getBoundingClientRect()):(Y=fe.domNode.getBoundingClientRect(),ce>0&&(se="right")),{bottom:Y.top+Y.height,height:Y.height,left:Y[se],right:Y[se],top:Y.top,width:0}}}},{key:"getNativeRange",value:function(){var D=document.getSelection();if(D==null||D.rangeCount<=0)return null;var k=D.getRangeAt(0);if(k==null)return null;var U=this.normalizeNative(k);return I.info("getNativeRange",U),U}},{key:"getRange",value:function(){var D=this.getNativeRange();if(D==null)return[null,null];var k=this.normalizedToRange(D);return[k,D]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(D){var k=this,U=[[D.start.node,D.start.offset]];D.native.collapsed||U.push([D.end.node,D.end.offset]);var V=U.map(function(fe){var ce=l(fe,2),de=ce[0],re=ce[1],X=g.default.find(de,!0),B=X.offset(k.scroll);return re===0?B:X instanceof g.default.Container?B+X.length():B+X.index(de,re)}),J=Math.min(Math.max.apply(Math,R(V)),this.scroll.length()-1),ee=Math.min.apply(Math,[J].concat(R(V)));return new q(ee,J-ee)}},{key:"normalizeNative",value:function(D){if(!L(this.root,D.startContainer)||!D.collapsed&&!L(this.root,D.endContainer))return null;var k={start:{node:D.startContainer,offset:D.startOffset},end:{node:D.endContainer,offset:D.endOffset},native:D};return[k.start,k.end].forEach(function(U){for(var V=U.node,J=U.offset;!(V instanceof Text)&&V.childNodes.length>0;)if(V.childNodes.length>J)V=V.childNodes[J],J=0;else if(V.childNodes.length===J)V=V.lastChild,J=V instanceof Text?V.data.length:V.childNodes.length+1;else break;U.node=V,U.offset=J}),k}},{key:"rangeToNative",value:function(D){var k=this,U=D.collapsed?[D.index]:[D.index,D.index+D.length],V=[],J=this.scroll.length();return U.forEach(function(ee,fe){ee=Math.min(J-1,ee);var ce=void 0,de=k.scroll.leaf(ee),re=l(de,2),X=re[0],B=re[1],W=X.position(B,fe!==0),Z=l(W,2);ce=Z[0],B=Z[1],V.push(ce,B)}),V.length<2&&(V=V.concat(V)),V}},{key:"scrollIntoView",value:function(D){var k=this.lastRange;if(k!=null){var U=this.getBounds(k.index,k.length);if(U!=null){var V=this.scroll.length()-1,J=this.scroll.line(Math.min(k.index,V)),ee=l(J,1),fe=ee[0],ce=fe;if(k.length>0){var de=this.scroll.line(Math.min(k.index+k.length,V)),re=l(de,1);ce=re[0]}if(!(fe==null||ce==null)){var X=D.getBoundingClientRect();U.top<X.top?D.scrollTop-=X.top-U.top:U.bottom>X.bottom&&(D.scrollTop+=U.bottom-X.bottom)}}}}},{key:"setNativeRange",value:function(D,k){var U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:D,V=arguments.length>3&&arguments[3]!==void 0?arguments[3]:k,J=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(I.info("setNativeRange",D,k,U,V),!(D!=null&&(this.root.parentNode==null||D.parentNode==null||U.parentNode==null))){var ee=document.getSelection();if(ee!=null)if(D!=null){this.hasFocus()||this.root.focus();var fe=(this.getNativeRange()||{}).native;if(fe==null||J||D!==fe.startContainer||k!==fe.startOffset||U!==fe.endContainer||V!==fe.endOffset){D.tagName=="BR"&&(k=[].indexOf.call(D.parentNode.childNodes,D),D=D.parentNode),U.tagName=="BR"&&(V=[].indexOf.call(U.parentNode.childNodes,U),U=U.parentNode);var ce=document.createRange();ce.setStart(D,k),ce.setEnd(U,V),ee.removeAllRanges(),ee.addRange(ce)}}else ee.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(D){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:P.default.sources.API;if(typeof k=="string"&&(U=k,k=!1),I.info("setRange",D),D!=null){var V=this.rangeToNative(D);this.setNativeRange.apply(this,R(V).concat([k]))}else this.setNativeRange(null);this.update(U)}},{key:"update",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:P.default.sources.USER,k=this.lastRange,U=this.getRange(),V=l(U,2),J=V[0],ee=V[1];if(this.lastRange=J,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,y.default)(k,this.lastRange)){var fe;!this.composing&&ee!=null&&ee.native.collapsed&&ee.start.node!==this.cursor.textNode&&this.cursor.restore();var ce=[P.default.events.SELECTION_CHANGE,(0,w.default)(this.lastRange),(0,w.default)(k),D];if((fe=this.emitter).emit.apply(fe,[P.default.events.EDITOR_CHANGE].concat(ce)),D!==P.default.sources.SILENT){var de;(de=this.emitter).emit.apply(de,ce)}}}}]),O}();function L(O,F){try{F.parentNode}catch{return!1}return F instanceof Text&&(F=F.parentNode),O.contains(F)}r.Range=q,r.default=$},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var l=function(){function P(S,A){for(var b=0;b<A.length;b++){var R=A[b];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(S,R.key,R)}}return function(S,A,b){return A&&P(S.prototype,A),b&&P(S,b),S}}(),f=function P(S,A,b){S===null&&(S=Function.prototype);var R=Object.getOwnPropertyDescriptor(S,A);if(R===void 0){var M=Object.getPrototypeOf(S);return M===null?void 0:P(M,A,b)}else{if("value"in R)return R.value;var I=R.get;return I===void 0?void 0:I.call(b)}},p=o(0),g=E(p);function E(P){return P&&P.__esModule?P:{default:P}}function w(P,S){if(!(P instanceof S))throw new TypeError("Cannot call a class as a function")}function v(P,S){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:P}function y(P,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);P.prototype=Object.create(S&&S.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(P,S):P.__proto__=S)}var _=function(P){y(S,P);function S(){return w(this,S),v(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return l(S,[{key:"insertInto",value:function(b,R){b.children.length===0?f(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"insertInto",this).call(this,b,R):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),S}(g.default.Embed);_.blotName="break",_.tagName="BR",r.default=_},function(t,r,o){var l=this&&this.__extends||function(){var v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,_){y.__proto__=_}||function(y,_){for(var P in _)_.hasOwnProperty(P)&&(y[P]=_[P])};return function(y,_){v(y,_);function P(){this.constructor=y}y.prototype=_===null?Object.create(_):(P.prototype=_.prototype,new P)}}();Object.defineProperty(r,"__esModule",{value:!0});var f=o(44),p=o(30),g=o(1),E=function(v){l(y,v);function y(_){var P=v.call(this,_)||this;return P.build(),P}return y.prototype.appendChild=function(_){this.insertBefore(_)},y.prototype.attach=function(){v.prototype.attach.call(this),this.children.forEach(function(_){_.attach()})},y.prototype.build=function(){var _=this;this.children=new f.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(P){try{var S=w(P);_.insertBefore(S,_.children.head||void 0)}catch(A){if(A instanceof g.ParchmentError)return;throw A}})},y.prototype.deleteAt=function(_,P){if(_===0&&P===this.length())return this.remove();this.children.forEachAt(_,P,function(S,A,b){S.deleteAt(A,b)})},y.prototype.descendant=function(_,P){var S=this.children.find(P),A=S[0],b=S[1];return _.blotName==null&&_(A)||_.blotName!=null&&A instanceof _?[A,b]:A instanceof y?A.descendant(_,b):[null,-1]},y.prototype.descendants=function(_,P,S){P===void 0&&(P=0),S===void 0&&(S=Number.MAX_VALUE);var A=[],b=S;return this.children.forEachAt(P,S,function(R,M,I){(_.blotName==null&&_(R)||_.blotName!=null&&R instanceof _)&&A.push(R),R instanceof y&&(A=A.concat(R.descendants(_,M,b))),b-=I}),A},y.prototype.detach=function(){this.children.forEach(function(_){_.detach()}),v.prototype.detach.call(this)},y.prototype.formatAt=function(_,P,S,A){this.children.forEachAt(_,P,function(b,R,M){b.formatAt(R,M,S,A)})},y.prototype.insertAt=function(_,P,S){var A=this.children.find(_),b=A[0],R=A[1];if(b)b.insertAt(R,P,S);else{var M=S==null?g.create("text",P):g.create(P,S);this.appendChild(M)}},y.prototype.insertBefore=function(_,P){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(S){return _ instanceof S}))throw new g.ParchmentError("Cannot insert "+_.statics.blotName+" into "+this.statics.blotName);_.insertInto(this,P)},y.prototype.length=function(){return this.children.reduce(function(_,P){return _+P.length()},0)},y.prototype.moveChildren=function(_,P){this.children.forEach(function(S){_.insertBefore(S,P)})},y.prototype.optimize=function(_){if(v.prototype.optimize.call(this,_),this.children.length===0)if(this.statics.defaultChild!=null){var P=g.create(this.statics.defaultChild);this.appendChild(P),P.optimize(_)}else this.remove()},y.prototype.path=function(_,P){P===void 0&&(P=!1);var S=this.children.find(_,P),A=S[0],b=S[1],R=[[this,_]];return A instanceof y?R.concat(A.path(b,P)):(A!=null&&R.push([A,b]),R)},y.prototype.removeChild=function(_){this.children.remove(_)},y.prototype.replace=function(_){_ instanceof y&&_.moveChildren(this),v.prototype.replace.call(this,_)},y.prototype.split=function(_,P){if(P===void 0&&(P=!1),!P){if(_===0)return this;if(_===this.length())return this.next}var S=this.clone();return this.parent.insertBefore(S,this.next),this.children.forEachAt(_,this.length(),function(A,b,R){A=A.split(b,P),S.appendChild(A)}),S},y.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},y.prototype.update=function(_,P){var S=this,A=[],b=[];_.forEach(function(R){R.target===S.domNode&&R.type==="childList"&&(A.push.apply(A,R.addedNodes),b.push.apply(b,R.removedNodes))}),b.forEach(function(R){if(!(R.parentNode!=null&&R.tagName!=="IFRAME"&&document.body.compareDocumentPosition(R)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var M=g.find(R);M!=null&&(M.domNode.parentNode==null||M.domNode.parentNode===S.domNode)&&M.detach()}}),A.filter(function(R){return R.parentNode==S.domNode}).sort(function(R,M){return R===M?0:R.compareDocumentPosition(M)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(R){var M=null;R.nextSibling!=null&&(M=g.find(R.nextSibling));var I=w(R);(I.next!=M||I.next==null)&&(I.parent!=null&&I.parent.removeChild(S),S.insertBefore(I,M||void 0))})},y}(p.default);function w(v){var y=g.find(v);if(y==null)try{y=g.create(v)}catch{y=g.create(g.Scope.INLINE),[].slice.call(v.childNodes).forEach(function(P){y.domNode.appendChild(P)}),v.parentNode&&v.parentNode.replaceChild(y.domNode,v),y.attach()}return y}r.default=E},function(t,r,o){var l=this&&this.__extends||function(){var v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,_){y.__proto__=_}||function(y,_){for(var P in _)_.hasOwnProperty(P)&&(y[P]=_[P])};return function(y,_){v(y,_);function P(){this.constructor=y}y.prototype=_===null?Object.create(_):(P.prototype=_.prototype,new P)}}();Object.defineProperty(r,"__esModule",{value:!0});var f=o(12),p=o(31),g=o(17),E=o(1),w=function(v){l(y,v);function y(_){var P=v.call(this,_)||this;return P.attributes=new p.default(P.domNode),P}return y.formats=function(_){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return _.tagName.toLowerCase()},y.prototype.format=function(_,P){var S=E.query(_);S instanceof f.default?this.attributes.attribute(S,P):P&&S!=null&&(_!==this.statics.blotName||this.formats()[_]!==P)&&this.replaceWith(_,P)},y.prototype.formats=function(){var _=this.attributes.values(),P=this.statics.formats(this.domNode);return P!=null&&(_[this.statics.blotName]=P),_},y.prototype.replaceWith=function(_,P){var S=v.prototype.replaceWith.call(this,_,P);return this.attributes.copy(S),S},y.prototype.update=function(_,P){var S=this;v.prototype.update.call(this,_,P),_.some(function(A){return A.target===S.domNode&&A.type==="attributes"})&&this.attributes.build()},y.prototype.wrap=function(_,P){var S=v.prototype.wrap.call(this,_,P);return S instanceof y&&S.statics.scope===this.statics.scope&&this.attributes.move(S),S},y}(g.default);r.default=w},function(t,r,o){var l=this&&this.__extends||function(){var E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,v){w.__proto__=v}||function(w,v){for(var y in v)v.hasOwnProperty(y)&&(w[y]=v[y])};return function(w,v){E(w,v);function y(){this.constructor=w}w.prototype=v===null?Object.create(v):(y.prototype=v.prototype,new y)}}();Object.defineProperty(r,"__esModule",{value:!0});var f=o(30),p=o(1),g=function(E){l(w,E);function w(){return E!==null&&E.apply(this,arguments)||this}return w.value=function(v){return!0},w.prototype.index=function(v,y){return this.domNode===v||this.domNode.compareDocumentPosition(v)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(y,1):-1},w.prototype.position=function(v,y){var _=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return v>0&&(_+=1),[this.parent.domNode,_]},w.prototype.value=function(){var v;return v={},v[this.statics.blotName]=this.statics.value(this.domNode)||!0,v},w.scope=p.Scope.INLINE_BLOT,w}(f.default);r.default=g},function(t,r,o){var l=o(11),f=o(3),p={attributes:{compose:function(E,w,v){typeof E!="object"&&(E={}),typeof w!="object"&&(w={});var y=f(!0,{},w);v||(y=Object.keys(y).reduce(function(P,S){return y[S]!=null&&(P[S]=y[S]),P},{}));for(var _ in E)E[_]!==void 0&&w[_]===void 0&&(y[_]=E[_]);return Object.keys(y).length>0?y:void 0},diff:function(E,w){typeof E!="object"&&(E={}),typeof w!="object"&&(w={});var v=Object.keys(E).concat(Object.keys(w)).reduce(function(y,_){return l(E[_],w[_])||(y[_]=w[_]===void 0?null:w[_]),y},{});return Object.keys(v).length>0?v:void 0},transform:function(E,w,v){if(typeof E!="object")return w;if(typeof w=="object"){if(!v)return w;var y=Object.keys(w).reduce(function(_,P){return E[P]===void 0&&(_[P]=w[P]),_},{});return Object.keys(y).length>0?y:void 0}}},iterator:function(E){return new g(E)},length:function(E){return typeof E.delete=="number"?E.delete:typeof E.retain=="number"?E.retain:typeof E.insert=="string"?E.insert.length:1}};function g(E){this.ops=E,this.index=0,this.offset=0}g.prototype.hasNext=function(){return this.peekLength()<1/0},g.prototype.next=function(E){E||(E=1/0);var w=this.ops[this.index];if(w){var v=this.offset,y=p.length(w);if(E>=y-v?(E=y-v,this.index+=1,this.offset=0):this.offset+=E,typeof w.delete=="number")return{delete:E};var _={};return w.attributes&&(_.attributes=w.attributes),typeof w.retain=="number"?_.retain=E:typeof w.insert=="string"?_.insert=w.insert.substr(v,E):_.insert=w.insert,_}else return{retain:1/0}},g.prototype.peek=function(){return this.ops[this.index]},g.prototype.peekLength=function(){return this.ops[this.index]?p.length(this.ops[this.index])-this.offset:1/0},g.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},g.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var E=this.offset,w=this.index,v=this.next(),y=this.ops.slice(this.index);return this.offset=E,this.index=w,[v].concat(y)}else return[]},t.exports=p},function(t,r){var o=function(){function l(S,A){return A!=null&&S instanceof A}var f;try{f=Map}catch{f=function(){}}var p;try{p=Set}catch{p=function(){}}var g;try{g=Promise}catch{g=function(){}}function E(S,A,b,R,M){typeof A=="object"&&(b=A.depth,R=A.prototype,M=A.includeNonEnumerable,A=A.circular);var I=[],q=[],$=typeof Buffer<"u";typeof A>"u"&&(A=!0),typeof b>"u"&&(b=1/0);function L(O,F){if(O===null)return null;if(F===0)return O;var D,k;if(typeof O!="object")return O;if(l(O,f))D=new f;else if(l(O,p))D=new p;else if(l(O,g))D=new g(function(X,B){O.then(function(W){X(L(W,F-1))},function(W){B(L(W,F-1))})});else if(E.__isArray(O))D=[];else if(E.__isRegExp(O))D=new RegExp(O.source,P(O)),O.lastIndex&&(D.lastIndex=O.lastIndex);else if(E.__isDate(O))D=new Date(O.getTime());else{if($&&Buffer.isBuffer(O))return Buffer.allocUnsafe?D=Buffer.allocUnsafe(O.length):D=new Buffer(O.length),O.copy(D),D;l(O,Error)?D=Object.create(O):typeof R>"u"?(k=Object.getPrototypeOf(O),D=Object.create(k)):(D=Object.create(R),k=R)}if(A){var U=I.indexOf(O);if(U!=-1)return q[U];I.push(O),q.push(D)}l(O,f)&&O.forEach(function(X,B){var W=L(B,F-1),Z=L(X,F-1);D.set(W,Z)}),l(O,p)&&O.forEach(function(X){var B=L(X,F-1);D.add(B)});for(var V in O){var J;k&&(J=Object.getOwnPropertyDescriptor(k,V)),!(J&&J.set==null)&&(D[V]=L(O[V],F-1))}if(Object.getOwnPropertySymbols)for(var ee=Object.getOwnPropertySymbols(O),V=0;V<ee.length;V++){var fe=ee[V],ce=Object.getOwnPropertyDescriptor(O,fe);ce&&!ce.enumerable&&!M||(D[fe]=L(O[fe],F-1),ce.enumerable||Object.defineProperty(D,fe,{enumerable:!1}))}if(M)for(var de=Object.getOwnPropertyNames(O),V=0;V<de.length;V++){var re=de[V],ce=Object.getOwnPropertyDescriptor(O,re);ce&&ce.enumerable||(D[re]=L(O[re],F-1),Object.defineProperty(D,re,{enumerable:!1}))}return D}return L(S,b)}E.clonePrototype=function(A){if(A===null)return null;var b=function(){};return b.prototype=A,new b};function w(S){return Object.prototype.toString.call(S)}E.__objToStr=w;function v(S){return typeof S=="object"&&w(S)==="[object Date]"}E.__isDate=v;function y(S){return typeof S=="object"&&w(S)==="[object Array]"}E.__isArray=y;function _(S){return typeof S=="object"&&w(S)==="[object RegExp]"}E.__isRegExp=_;function P(S){var A="";return S.global&&(A+="g"),S.ignoreCase&&(A+="i"),S.multiline&&(A+="m"),A}return E.__getRegExpFlags=P,E}();typeof t=="object"&&t.exports&&(t.exports=o)},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var l=function(){function D(k,U){var V=[],J=!0,ee=!1,fe=void 0;try{for(var ce=k[Symbol.iterator](),de;!(J=(de=ce.next()).done)&&(V.push(de.value),!(U&&V.length===U));J=!0);}catch(re){ee=!0,fe=re}finally{try{!J&&ce.return&&ce.return()}finally{if(ee)throw fe}}return V}return function(k,U){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return D(k,U);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(){function D(k,U){for(var V=0;V<U.length;V++){var J=U[V];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(k,J.key,J)}}return function(k,U,V){return U&&D(k.prototype,U),V&&D(k,V),k}}(),p=function D(k,U,V){k===null&&(k=Function.prototype);var J=Object.getOwnPropertyDescriptor(k,U);if(J===void 0){var ee=Object.getPrototypeOf(k);return ee===null?void 0:D(ee,U,V)}else{if("value"in J)return J.value;var fe=J.get;return fe===void 0?void 0:fe.call(V)}},g=o(0),E=I(g),w=o(8),v=I(w),y=o(4),_=I(y),P=o(16),S=I(P),A=o(13),b=I(A),R=o(25),M=I(R);function I(D){return D&&D.__esModule?D:{default:D}}function q(D,k){if(!(D instanceof k))throw new TypeError("Cannot call a class as a function")}function $(D,k){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:D}function L(D,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);D.prototype=Object.create(k&&k.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(D,k):D.__proto__=k)}function O(D){return D instanceof _.default||D instanceof y.BlockEmbed}var F=function(D){L(k,D);function k(U,V){q(this,k);var J=$(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,U));return J.emitter=V.emitter,Array.isArray(V.whitelist)&&(J.whitelist=V.whitelist.reduce(function(ee,fe){return ee[fe]=!0,ee},{})),J.domNode.addEventListener("DOMNodeInserted",function(){}),J.optimize(),J.enable(),J}return f(k,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(V,J){var ee=this.line(V),fe=l(ee,2),ce=fe[0],de=fe[1],re=this.line(V+J),X=l(re,1),B=X[0];if(p(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"deleteAt",this).call(this,V,J),B!=null&&ce!==B&&de>0){if(ce instanceof y.BlockEmbed||B instanceof y.BlockEmbed){this.optimize();return}if(ce instanceof b.default){var W=ce.newlineIndex(ce.length(),!0);if(W>-1&&(ce=ce.split(W+1),ce===B)){this.optimize();return}}else if(B instanceof b.default){var Z=B.newlineIndex(0);Z>-1&&B.split(Z+1)}var ue=B.children.head instanceof S.default?null:B.children.head;ce.moveChildren(B,ue),ce.remove()}this.optimize()}},{key:"enable",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",V)}},{key:"formatAt",value:function(V,J,ee,fe){this.whitelist!=null&&!this.whitelist[ee]||(p(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"formatAt",this).call(this,V,J,ee,fe),this.optimize())}},{key:"insertAt",value:function(V,J,ee){if(!(ee!=null&&this.whitelist!=null&&!this.whitelist[J])){if(V>=this.length())if(ee==null||E.default.query(J,E.default.Scope.BLOCK)==null){var fe=E.default.create(this.statics.defaultChild);this.appendChild(fe),ee==null&&J.endsWith(`
`)&&(J=J.slice(0,-1)),fe.insertAt(0,J,ee)}else{var ce=E.default.create(J,ee);this.appendChild(ce)}else p(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertAt",this).call(this,V,J,ee);this.optimize()}}},{key:"insertBefore",value:function(V,J){if(V.statics.scope===E.default.Scope.INLINE_BLOT){var ee=E.default.create(this.statics.defaultChild);ee.appendChild(V),V=ee}p(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertBefore",this).call(this,V,J)}},{key:"leaf",value:function(V){return this.path(V).pop()||[null,-1]}},{key:"line",value:function(V){return V===this.length()?this.line(V-1):this.descendant(O,V)}},{key:"lines",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,ee=function fe(ce,de,re){var X=[],B=re;return ce.children.forEachAt(de,re,function(W,Z,ue){O(W)?X.push(W):W instanceof E.default.Container&&(X=X.concat(fe(W,Z,B))),B-=ue}),X};return ee(this,V,J)}},{key:"optimize",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(p(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"optimize",this).call(this,V,J),V.length>0&&this.emitter.emit(v.default.events.SCROLL_OPTIMIZE,V,J))}},{key:"path",value:function(V){return p(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"path",this).call(this,V).slice(1)}},{key:"update",value:function(V){if(this.batch!==!0){var J=v.default.sources.USER;typeof V=="string"&&(J=V),Array.isArray(V)||(V=this.observer.takeRecords()),V.length>0&&this.emitter.emit(v.default.events.SCROLL_BEFORE_UPDATE,J,V),p(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"update",this).call(this,V.concat([])),V.length>0&&this.emitter.emit(v.default.events.SCROLL_UPDATE,J,V)}}}]),k}(E.default.Scroll);F.blotName="scroll",F.className="ql-editor",F.tagName="DIV",F.defaultChild="block",F.allowedChildren=[_.default,y.BlockEmbed,M.default],r.default=F},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Y){return typeof Y}:function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y},f=function(){function Y(ie,pe){var me=[],Se=!0,qe=!1,Ye=void 0;try{for(var Je=ie[Symbol.iterator](),Xe;!(Se=(Xe=Je.next()).done)&&(me.push(Xe.value),!(pe&&me.length===pe));Se=!0);}catch(yt){qe=!0,Ye=yt}finally{try{!Se&&Je.return&&Je.return()}finally{if(qe)throw Ye}}return me}return function(ie,pe){if(Array.isArray(ie))return ie;if(Symbol.iterator in Object(ie))return Y(ie,pe);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),p=function(){function Y(ie,pe){for(var me=0;me<pe.length;me++){var Se=pe[me];Se.enumerable=Se.enumerable||!1,Se.configurable=!0,"value"in Se&&(Se.writable=!0),Object.defineProperty(ie,Se.key,Se)}}return function(ie,pe,me){return pe&&Y(ie.prototype,pe),me&&Y(ie,me),ie}}(),g=o(21),E=D(g),w=o(11),v=D(w),y=o(3),_=D(y),P=o(2),S=D(P),A=o(20),b=D(A),R=o(0),M=D(R),I=o(5),q=D(I),$=o(10),L=D($),O=o(9),F=D(O);function D(Y){return Y&&Y.__esModule?Y:{default:Y}}function k(Y,ie,pe){return ie in Y?Object.defineProperty(Y,ie,{value:pe,enumerable:!0,configurable:!0,writable:!0}):Y[ie]=pe,Y}function U(Y,ie){if(!(Y instanceof ie))throw new TypeError("Cannot call a class as a function")}function V(Y,ie){if(!Y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ie&&(typeof ie=="object"||typeof ie=="function")?ie:Y}function J(Y,ie){if(typeof ie!="function"&&ie!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ie);Y.prototype=Object.create(ie&&ie.prototype,{constructor:{value:Y,enumerable:!1,writable:!0,configurable:!0}}),ie&&(Object.setPrototypeOf?Object.setPrototypeOf(Y,ie):Y.__proto__=ie)}var ee=(0,L.default)("quill:keyboard"),fe=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",ce=function(Y){J(ie,Y),p(ie,null,[{key:"match",value:function(me,Se){return Se=se(Se),["altKey","ctrlKey","metaKey","shiftKey"].some(function(qe){return!!Se[qe]!==me[qe]&&Se[qe]!==null})?!1:Se.key===(me.which||me.keyCode)}}]);function ie(pe,me){U(this,ie);var Se=V(this,(ie.__proto__||Object.getPrototypeOf(ie)).call(this,pe,me));return Se.bindings={},Object.keys(Se.options.bindings).forEach(function(qe){qe==="list autofill"&&pe.scroll.whitelist!=null&&!pe.scroll.whitelist.list||Se.options.bindings[qe]&&Se.addBinding(Se.options.bindings[qe])}),Se.addBinding({key:ie.keys.ENTER,shiftKey:null},W),Se.addBinding({key:ie.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(Se.addBinding({key:ie.keys.BACKSPACE},{collapsed:!0},re),Se.addBinding({key:ie.keys.DELETE},{collapsed:!0},X)):(Se.addBinding({key:ie.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},re),Se.addBinding({key:ie.keys.DELETE},{collapsed:!0,suffix:/^.?$/},X)),Se.addBinding({key:ie.keys.BACKSPACE},{collapsed:!1},B),Se.addBinding({key:ie.keys.DELETE},{collapsed:!1},B),Se.addBinding({key:ie.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},re),Se.listen(),Se}return p(ie,[{key:"addBinding",value:function(me){var Se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},qe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Ye=se(me);if(Ye==null||Ye.key==null)return ee.warn("Attempted to add invalid keyboard binding",Ye);typeof Se=="function"&&(Se={handler:Se}),typeof qe=="function"&&(qe={handler:qe}),Ye=(0,_.default)(Ye,Se,qe),this.bindings[Ye.key]=this.bindings[Ye.key]||[],this.bindings[Ye.key].push(Ye)}},{key:"listen",value:function(){var me=this;this.quill.root.addEventListener("keydown",function(Se){if(!Se.defaultPrevented){var qe=Se.which||Se.keyCode,Ye=(me.bindings[qe]||[]).filter(function(qt){return ie.match(Se,qt)});if(Ye.length!==0){var Je=me.quill.getSelection();if(!(Je==null||!me.quill.hasFocus())){var Xe=me.quill.getLine(Je.index),yt=f(Xe,2),mn=yt[0],Ot=yt[1],Ie=me.quill.getLeaf(Je.index),be=f(Ie,2),Ve=be[0],Ue=be[1],Oe=Je.length===0?[Ve,Ue]:me.quill.getLeaf(Je.index+Je.length),st=f(Oe,2),lt=st[0],ut=st[1],Dt=Ve instanceof M.default.Text?Ve.value().slice(0,Ue):"",Ct=lt instanceof M.default.Text?lt.value().slice(ut):"",Et={collapsed:Je.length===0,empty:Je.length===0&&mn.length()<=1,format:me.quill.getFormat(Je),offset:Ot,prefix:Dt,suffix:Ct},Xi=Ye.some(function(qt){if(qt.collapsed!=null&&qt.collapsed!==Et.collapsed||qt.empty!=null&&qt.empty!==Et.empty||qt.offset!=null&&qt.offset!==Et.offset)return!1;if(Array.isArray(qt.format)){if(qt.format.every(function(Cn){return Et.format[Cn]==null}))return!1}else if(l(qt.format)==="object"&&!Object.keys(qt.format).every(function(Cn){return qt.format[Cn]===!0?Et.format[Cn]!=null:qt.format[Cn]===!1?Et.format[Cn]==null:(0,v.default)(qt.format[Cn],Et.format[Cn])}))return!1;return qt.prefix!=null&&!qt.prefix.test(Et.prefix)||qt.suffix!=null&&!qt.suffix.test(Et.suffix)?!1:qt.handler.call(me,Je,Et)!==!0});Xi&&Se.preventDefault()}}}})}}]),ie}(F.default);ce.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},ce.DEFAULTS={bindings:{bold:ue("bold"),italic:ue("italic"),underline:ue("underline"),indent:{key:ce.keys.TAB,format:["blockquote","indent","list"],handler:function(ie,pe){if(pe.collapsed&&pe.offset!==0)return!0;this.quill.format("indent","+1",q.default.sources.USER)}},outdent:{key:ce.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(ie,pe){if(pe.collapsed&&pe.offset!==0)return!0;this.quill.format("indent","-1",q.default.sources.USER)}},"outdent backspace":{key:ce.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(ie,pe){pe.format.indent!=null?this.quill.format("indent","-1",q.default.sources.USER):pe.format.list!=null&&this.quill.format("list",!1,q.default.sources.USER)}},"indent code-block":Z(!0),"outdent code-block":Z(!1),"remove tab":{key:ce.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(ie){this.quill.deleteText(ie.index-1,1,q.default.sources.USER)}},tab:{key:ce.keys.TAB,handler:function(ie){this.quill.history.cutoff();var pe=new S.default().retain(ie.index).delete(ie.length).insert("	");this.quill.updateContents(pe,q.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(ie.index+1,q.default.sources.SILENT)}},"list empty enter":{key:ce.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(ie,pe){this.quill.format("list",!1,q.default.sources.USER),pe.format.indent&&this.quill.format("indent",!1,q.default.sources.USER)}},"checklist enter":{key:ce.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(ie){var pe=this.quill.getLine(ie.index),me=f(pe,2),Se=me[0],qe=me[1],Ye=(0,_.default)({},Se.formats(),{list:"checked"}),Je=new S.default().retain(ie.index).insert(`
`,Ye).retain(Se.length()-qe-1).retain(1,{list:"unchecked"});this.quill.updateContents(Je,q.default.sources.USER),this.quill.setSelection(ie.index+1,q.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:ce.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(ie,pe){var me=this.quill.getLine(ie.index),Se=f(me,2),qe=Se[0],Ye=Se[1],Je=new S.default().retain(ie.index).insert(`
`,pe.format).retain(qe.length()-Ye-1).retain(1,{header:null});this.quill.updateContents(Je,q.default.sources.USER),this.quill.setSelection(ie.index+1,q.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(ie,pe){var me=pe.prefix.length,Se=this.quill.getLine(ie.index),qe=f(Se,2),Ye=qe[0],Je=qe[1];if(Je>me)return!0;var Xe=void 0;switch(pe.prefix.trim()){case"[]":case"[ ]":Xe="unchecked";break;case"[x]":Xe="checked";break;case"-":case"*":Xe="bullet";break;default:Xe="ordered"}this.quill.insertText(ie.index," ",q.default.sources.USER),this.quill.history.cutoff();var yt=new S.default().retain(ie.index-Je).delete(me+1).retain(Ye.length()-2-Je).retain(1,{list:Xe});this.quill.updateContents(yt,q.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(ie.index-me,q.default.sources.SILENT)}},"code exit":{key:ce.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(ie){var pe=this.quill.getLine(ie.index),me=f(pe,2),Se=me[0],qe=me[1],Ye=new S.default().retain(ie.index+Se.length()-qe-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(Ye,q.default.sources.USER)}},"embed left":de(ce.keys.LEFT,!1),"embed left shift":de(ce.keys.LEFT,!0),"embed right":de(ce.keys.RIGHT,!1),"embed right shift":de(ce.keys.RIGHT,!0)}};function de(Y,ie){var pe,me=Y===ce.keys.LEFT?"prefix":"suffix";return pe={key:Y,shiftKey:ie,altKey:null},k(pe,me,/^$/),k(pe,"handler",function(qe){var Ye=qe.index;Y===ce.keys.RIGHT&&(Ye+=qe.length+1);var Je=this.quill.getLeaf(Ye),Xe=f(Je,1),yt=Xe[0];return yt instanceof M.default.Embed?(Y===ce.keys.LEFT?ie?this.quill.setSelection(qe.index-1,qe.length+1,q.default.sources.USER):this.quill.setSelection(qe.index-1,q.default.sources.USER):ie?this.quill.setSelection(qe.index,qe.length+1,q.default.sources.USER):this.quill.setSelection(qe.index+qe.length+1,q.default.sources.USER),!1):!0}),pe}function re(Y,ie){if(!(Y.index===0||this.quill.getLength()<=1)){var pe=this.quill.getLine(Y.index),me=f(pe,1),Se=me[0],qe={};if(ie.offset===0){var Ye=this.quill.getLine(Y.index-1),Je=f(Ye,1),Xe=Je[0];if(Xe!=null&&Xe.length()>1){var yt=Se.formats(),mn=this.quill.getFormat(Y.index-1,1);qe=b.default.attributes.diff(yt,mn)||{}}}var Ot=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(ie.prefix)?2:1;this.quill.deleteText(Y.index-Ot,Ot,q.default.sources.USER),Object.keys(qe).length>0&&this.quill.formatLine(Y.index-Ot,Ot,qe,q.default.sources.USER),this.quill.focus()}}function X(Y,ie){var pe=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(ie.suffix)?2:1;if(!(Y.index>=this.quill.getLength()-pe)){var me={},Se=0,qe=this.quill.getLine(Y.index),Ye=f(qe,1),Je=Ye[0];if(ie.offset>=Je.length()-1){var Xe=this.quill.getLine(Y.index+1),yt=f(Xe,1),mn=yt[0];if(mn){var Ot=Je.formats(),Ie=this.quill.getFormat(Y.index,1);me=b.default.attributes.diff(Ot,Ie)||{},Se=mn.length()}}this.quill.deleteText(Y.index,pe,q.default.sources.USER),Object.keys(me).length>0&&this.quill.formatLine(Y.index+Se-1,pe,me,q.default.sources.USER)}}function B(Y){var ie=this.quill.getLines(Y),pe={};if(ie.length>1){var me=ie[0].formats(),Se=ie[ie.length-1].formats();pe=b.default.attributes.diff(Se,me)||{}}this.quill.deleteText(Y,q.default.sources.USER),Object.keys(pe).length>0&&this.quill.formatLine(Y.index,1,pe,q.default.sources.USER),this.quill.setSelection(Y.index,q.default.sources.SILENT),this.quill.focus()}function W(Y,ie){var pe=this;Y.length>0&&this.quill.scroll.deleteAt(Y.index,Y.length);var me=Object.keys(ie.format).reduce(function(Se,qe){return M.default.query(qe,M.default.Scope.BLOCK)&&!Array.isArray(ie.format[qe])&&(Se[qe]=ie.format[qe]),Se},{});this.quill.insertText(Y.index,`
`,me,q.default.sources.USER),this.quill.setSelection(Y.index+1,q.default.sources.SILENT),this.quill.focus(),Object.keys(ie.format).forEach(function(Se){me[Se]==null&&(Array.isArray(ie.format[Se])||Se!=="link"&&pe.quill.format(Se,ie.format[Se],q.default.sources.USER))})}function Z(Y){return{key:ce.keys.TAB,shiftKey:!Y,format:{"code-block":!0},handler:function(pe){var me=M.default.query("code-block"),Se=pe.index,qe=pe.length,Ye=this.quill.scroll.descendant(me,Se),Je=f(Ye,2),Xe=Je[0],yt=Je[1];if(Xe!=null){var mn=this.quill.getIndex(Xe),Ot=Xe.newlineIndex(yt,!0)+1,Ie=Xe.newlineIndex(mn+yt+qe),be=Xe.domNode.textContent.slice(Ot,Ie).split(`
`);yt=0,be.forEach(function(Ve,Ue){Y?(Xe.insertAt(Ot+yt,me.TAB),yt+=me.TAB.length,Ue===0?Se+=me.TAB.length:qe+=me.TAB.length):Ve.startsWith(me.TAB)&&(Xe.deleteAt(Ot+yt,me.TAB.length),yt-=me.TAB.length,Ue===0?Se-=me.TAB.length:qe-=me.TAB.length),yt+=Ve.length+1}),this.quill.update(q.default.sources.USER),this.quill.setSelection(Se,qe,q.default.sources.SILENT)}}}}function ue(Y){return{key:Y[0].toUpperCase(),shortKey:!0,handler:function(pe,me){this.quill.format(Y,!me.format[Y],q.default.sources.USER)}}}function se(Y){if(typeof Y=="string"||typeof Y=="number")return se({key:Y});if((typeof Y>"u"?"undefined":l(Y))==="object"&&(Y=(0,E.default)(Y,!1)),typeof Y.key=="string")if(ce.keys[Y.key.toUpperCase()]!=null)Y.key=ce.keys[Y.key.toUpperCase()];else if(Y.key.length===1)Y.key=Y.key.toUpperCase().charCodeAt(0);else return null;return Y.shortKey&&(Y[fe]=Y.shortKey,delete Y.shortKey),Y}r.default=ce,r.SHORTKEY=fe},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var l=function(){function b(R,M){var I=[],q=!0,$=!1,L=void 0;try{for(var O=R[Symbol.iterator](),F;!(q=(F=O.next()).done)&&(I.push(F.value),!(M&&I.length===M));q=!0);}catch(D){$=!0,L=D}finally{try{!q&&O.return&&O.return()}finally{if($)throw L}}return I}return function(R,M){if(Array.isArray(R))return R;if(Symbol.iterator in Object(R))return b(R,M);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function b(R,M,I){R===null&&(R=Function.prototype);var q=Object.getOwnPropertyDescriptor(R,M);if(q===void 0){var $=Object.getPrototypeOf(R);return $===null?void 0:b($,M,I)}else{if("value"in q)return q.value;var L=q.get;return L===void 0?void 0:L.call(I)}},p=function(){function b(R,M){for(var I=0;I<M.length;I++){var q=M[I];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(R,q.key,q)}}return function(R,M,I){return M&&b(R.prototype,M),I&&b(R,I),R}}(),g=o(0),E=y(g),w=o(7),v=y(w);function y(b){return b&&b.__esModule?b:{default:b}}function _(b,R){if(!(b instanceof R))throw new TypeError("Cannot call a class as a function")}function P(b,R){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:b}function S(b,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);b.prototype=Object.create(R&&R.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(b,R):b.__proto__=R)}var A=function(b){S(R,b),p(R,null,[{key:"value",value:function(){}}]);function R(M,I){_(this,R);var q=P(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,M));return q.selection=I,q.textNode=document.createTextNode(R.CONTENTS),q.domNode.appendChild(q.textNode),q._length=0,q}return p(R,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(I,q){if(this._length!==0)return f(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"format",this).call(this,I,q);for(var $=this,L=0;$!=null&&$.statics.scope!==E.default.Scope.BLOCK_BLOT;)L+=$.offset($.parent),$=$.parent;$!=null&&(this._length=R.CONTENTS.length,$.optimize(),$.formatAt(L,R.CONTENTS.length,I,q),this._length=0)}},{key:"index",value:function(I,q){return I===this.textNode?0:f(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"index",this).call(this,I,q)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){f(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var I=this.textNode,q=this.selection.getNativeRange(),$=void 0,L=void 0,O=void 0;if(q!=null&&q.start.node===I&&q.end.node===I){var F=[I,q.start.offset,q.end.offset];$=F[0],L=F[1],O=F[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==R.CONTENTS){var D=this.textNode.data.split(R.CONTENTS).join("");this.next instanceof v.default?($=this.next.domNode,this.next.insertAt(0,D),this.textNode.data=R.CONTENTS):(this.textNode.data=D,this.parent.insertBefore(E.default.create(this.textNode),this),this.textNode=document.createTextNode(R.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),L!=null){var k=[L,O].map(function(V){return Math.max(0,Math.min($.data.length,V-1))}),U=l(k,2);return L=U[0],O=U[1],{startNode:$,startOffset:L,endNode:$,endOffset:O}}}}},{key:"update",value:function(I,q){var $=this;if(I.some(function(O){return O.type==="characterData"&&O.target===$.textNode})){var L=this.restore();L&&(q.range=L)}}},{key:"value",value:function(){return""}}]),R}(E.default.Embed);A.blotName="cursor",A.className="ql-cursor",A.tagName="span",A.CONTENTS="\uFEFF",r.default=A},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var l=o(0),f=E(l),p=o(4),g=E(p);function E(P){return P&&P.__esModule?P:{default:P}}function w(P,S){if(!(P instanceof S))throw new TypeError("Cannot call a class as a function")}function v(P,S){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:P}function y(P,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);P.prototype=Object.create(S&&S.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(P,S):P.__proto__=S)}var _=function(P){y(S,P);function S(){return w(this,S),v(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return S}(f.default.Container);_.allowedChildren=[g.default,p.BlockEmbed,_],r.default=_},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var l=function(){function A(b,R){for(var M=0;M<R.length;M++){var I=R[M];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(b,I.key,I)}}return function(b,R,M){return R&&A(b.prototype,R),M&&A(b,M),b}}(),f=function A(b,R,M){b===null&&(b=Function.prototype);var I=Object.getOwnPropertyDescriptor(b,R);if(I===void 0){var q=Object.getPrototypeOf(b);return q===null?void 0:A(q,R,M)}else{if("value"in I)return I.value;var $=I.get;return $===void 0?void 0:$.call(M)}},p=o(0),g=E(p);function E(A){return A&&A.__esModule?A:{default:A}}function w(A,b){if(!(A instanceof b))throw new TypeError("Cannot call a class as a function")}function v(A,b){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:A}function y(A,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);A.prototype=Object.create(b&&b.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(A,b):A.__proto__=b)}var _=function(A){y(b,A);function b(){return w(this,b),v(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return l(b,[{key:"value",value:function(M){var I=f(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"value",this).call(this,M);return I.startsWith("rgb(")?(I=I.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+I.split(",").map(function(q){return("00"+parseInt(q).toString(16)).slice(-2)}).join("")):I}}]),b}(g.default.Attributor.Style),P=new g.default.Attributor.Class("color","ql-color",{scope:g.default.Scope.INLINE}),S=new _("color","color",{scope:g.default.Scope.INLINE});r.ColorAttributor=_,r.ColorClass=P,r.ColorStyle=S},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var l=function(){function S(A,b){for(var R=0;R<b.length;R++){var M=b[R];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(A,M.key,M)}}return function(A,b,R){return b&&S(A.prototype,b),R&&S(A,R),A}}(),f=function S(A,b,R){A===null&&(A=Function.prototype);var M=Object.getOwnPropertyDescriptor(A,b);if(M===void 0){var I=Object.getPrototypeOf(A);return I===null?void 0:S(I,b,R)}else{if("value"in M)return M.value;var q=M.get;return q===void 0?void 0:q.call(R)}},p=o(6),g=E(p);function E(S){return S&&S.__esModule?S:{default:S}}function w(S,A){if(!(S instanceof A))throw new TypeError("Cannot call a class as a function")}function v(S,A){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:S}function y(S,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);S.prototype=Object.create(A&&A.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(S,A):S.__proto__=A)}var _=function(S){y(A,S);function A(){return w(this,A),v(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return l(A,[{key:"format",value:function(R,M){if(R!==this.statics.blotName||!M)return f(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"format",this).call(this,R,M);M=this.constructor.sanitize(M),this.domNode.setAttribute("href",M)}}],[{key:"create",value:function(R){var M=f(A.__proto__||Object.getPrototypeOf(A),"create",this).call(this,R);return R=this.sanitize(R),M.setAttribute("href",R),M.setAttribute("rel","noopener noreferrer"),M.setAttribute("target","_blank"),M}},{key:"formats",value:function(R){return R.getAttribute("href")}},{key:"sanitize",value:function(R){return P(R,this.PROTOCOL_WHITELIST)?R:this.SANITIZED_URL}}]),A}(g.default);_.blotName="link",_.tagName="A",_.SANITIZED_URL="about:blank",_.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function P(S,A){var b=document.createElement("a");b.href=S;var R=b.href.slice(0,b.href.indexOf(":"));return A.indexOf(R)>-1}r.default=_,r.sanitize=P},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},f=function(){function A(b,R){for(var M=0;M<R.length;M++){var I=R[M];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(b,I.key,I)}}return function(b,R,M){return R&&A(b.prototype,R),M&&A(b,M),b}}(),p=o(23),g=v(p),E=o(107),w=v(E);function v(A){return A&&A.__esModule?A:{default:A}}function y(A,b){if(!(A instanceof b))throw new TypeError("Cannot call a class as a function")}var _=0;function P(A,b){A.setAttribute(b,A.getAttribute(b)!=="true")}var S=function(){function A(b){var R=this;y(this,A),this.select=b,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){R.togglePicker()}),this.label.addEventListener("keydown",function(M){switch(M.keyCode){case g.default.keys.ENTER:R.togglePicker();break;case g.default.keys.ESCAPE:R.escape(),M.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return f(A,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),P(this.label,"aria-expanded"),P(this.options,"aria-hidden")}},{key:"buildItem",value:function(R){var M=this,I=document.createElement("span");return I.tabIndex="0",I.setAttribute("role","button"),I.classList.add("ql-picker-item"),R.hasAttribute("value")&&I.setAttribute("data-value",R.getAttribute("value")),R.textContent&&I.setAttribute("data-label",R.textContent),I.addEventListener("click",function(){M.selectItem(I,!0)}),I.addEventListener("keydown",function(q){switch(q.keyCode){case g.default.keys.ENTER:M.selectItem(I,!0),q.preventDefault();break;case g.default.keys.ESCAPE:M.escape(),q.preventDefault();break}}),I}},{key:"buildLabel",value:function(){var R=document.createElement("span");return R.classList.add("ql-picker-label"),R.innerHTML=w.default,R.tabIndex="0",R.setAttribute("role","button"),R.setAttribute("aria-expanded","false"),this.container.appendChild(R),R}},{key:"buildOptions",value:function(){var R=this,M=document.createElement("span");M.classList.add("ql-picker-options"),M.setAttribute("aria-hidden","true"),M.tabIndex="-1",M.id="ql-picker-options-"+_,_+=1,this.label.setAttribute("aria-controls",M.id),this.options=M,[].slice.call(this.select.options).forEach(function(I){var q=R.buildItem(I);M.appendChild(q),I.selected===!0&&R.selectItem(q)}),this.container.appendChild(M)}},{key:"buildPicker",value:function(){var R=this;[].slice.call(this.select.attributes).forEach(function(M){R.container.setAttribute(M.name,M.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var R=this;this.close(),setTimeout(function(){return R.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(R){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,I=this.container.querySelector(".ql-selected");if(R!==I&&(I!=null&&I.classList.remove("ql-selected"),R!=null&&(R.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(R.parentNode.children,R),R.hasAttribute("data-value")?this.label.setAttribute("data-value",R.getAttribute("data-value")):this.label.removeAttribute("data-value"),R.hasAttribute("data-label")?this.label.setAttribute("data-label",R.getAttribute("data-label")):this.label.removeAttribute("data-label"),M))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":l(Event))==="object"){var q=document.createEvent("Event");q.initEvent("change",!0,!0),this.select.dispatchEvent(q)}this.close()}}},{key:"update",value:function(){var R=void 0;if(this.select.selectedIndex>-1){var M=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];R=this.select.options[this.select.selectedIndex],this.selectItem(M)}else this.selectItem(null);var I=R!=null&&R!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",I)}}]),A}();r.default=S},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var l=o(0),f=ee(l),p=o(5),g=ee(p),E=o(4),w=ee(E),v=o(16),y=ee(v),_=o(25),P=ee(_),S=o(24),A=ee(S),b=o(35),R=ee(b),M=o(6),I=ee(M),q=o(22),$=ee(q),L=o(7),O=ee(L),F=o(55),D=ee(F),k=o(42),U=ee(k),V=o(23),J=ee(V);function ee(fe){return fe&&fe.__esModule?fe:{default:fe}}g.default.register({"blots/block":w.default,"blots/block/embed":E.BlockEmbed,"blots/break":y.default,"blots/container":P.default,"blots/cursor":A.default,"blots/embed":R.default,"blots/inline":I.default,"blots/scroll":$.default,"blots/text":O.default,"modules/clipboard":D.default,"modules/history":U.default,"modules/keyboard":J.default}),f.default.register(w.default,y.default,A.default,I.default,$.default,O.default),r.default=g.default},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var l=o(1),f=function(){function p(g){this.domNode=g,this.domNode[l.DATA_KEY]={blot:this}}return Object.defineProperty(p.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),p.create=function(g){if(this.tagName==null)throw new l.ParchmentError("Blot definition missing tagName");var E;return Array.isArray(this.tagName)?(typeof g=="string"&&(g=g.toUpperCase(),parseInt(g).toString()===g&&(g=parseInt(g))),typeof g=="number"?E=document.createElement(this.tagName[g-1]):this.tagName.indexOf(g)>-1?E=document.createElement(g):E=document.createElement(this.tagName[0])):E=document.createElement(this.tagName),this.className&&E.classList.add(this.className),E},p.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},p.prototype.clone=function(){var g=this.domNode.cloneNode(!1);return l.create(g)},p.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[l.DATA_KEY]},p.prototype.deleteAt=function(g,E){var w=this.isolate(g,E);w.remove()},p.prototype.formatAt=function(g,E,w,v){var y=this.isolate(g,E);if(l.query(w,l.Scope.BLOT)!=null&&v)y.wrap(w,v);else if(l.query(w,l.Scope.ATTRIBUTE)!=null){var _=l.create(this.statics.scope);y.wrap(_),_.format(w,v)}},p.prototype.insertAt=function(g,E,w){var v=w==null?l.create("text",E):l.create(E,w),y=this.split(g);this.parent.insertBefore(v,y)},p.prototype.insertInto=function(g,E){E===void 0&&(E=null),this.parent!=null&&this.parent.children.remove(this);var w=null;g.children.insertBefore(this,E),E!=null&&(w=E.domNode),(this.domNode.parentNode!=g.domNode||this.domNode.nextSibling!=w)&&g.domNode.insertBefore(this.domNode,w),this.parent=g,this.attach()},p.prototype.isolate=function(g,E){var w=this.split(g);return w.split(E),w},p.prototype.length=function(){return 1},p.prototype.offset=function(g){return g===void 0&&(g=this.parent),this.parent==null||this==g?0:this.parent.children.offset(this)+this.parent.offset(g)},p.prototype.optimize=function(g){this.domNode[l.DATA_KEY]!=null&&delete this.domNode[l.DATA_KEY].mutations},p.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},p.prototype.replace=function(g){g.parent!=null&&(g.parent.insertBefore(this,g.next),g.remove())},p.prototype.replaceWith=function(g,E){var w=typeof g=="string"?l.create(g,E):g;return w.replace(this),w},p.prototype.split=function(g,E){return g===0?this:this.next},p.prototype.update=function(g,E){},p.prototype.wrap=function(g,E){var w=typeof g=="string"?l.create(g,E):g;return this.parent!=null&&this.parent.insertBefore(w,this.next),w.appendChild(this),w},p.blotName="abstract",p}();r.default=f},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var l=o(12),f=o(32),p=o(33),g=o(1),E=function(){function w(v){this.attributes={},this.domNode=v,this.build()}return w.prototype.attribute=function(v,y){y?v.add(this.domNode,y)&&(v.value(this.domNode)!=null?this.attributes[v.attrName]=v:delete this.attributes[v.attrName]):(v.remove(this.domNode),delete this.attributes[v.attrName])},w.prototype.build=function(){var v=this;this.attributes={};var y=l.default.keys(this.domNode),_=f.default.keys(this.domNode),P=p.default.keys(this.domNode);y.concat(_).concat(P).forEach(function(S){var A=g.query(S,g.Scope.ATTRIBUTE);A instanceof l.default&&(v.attributes[A.attrName]=A)})},w.prototype.copy=function(v){var y=this;Object.keys(this.attributes).forEach(function(_){var P=y.attributes[_].value(y.domNode);v.format(_,P)})},w.prototype.move=function(v){var y=this;this.copy(v),Object.keys(this.attributes).forEach(function(_){y.attributes[_].remove(y.domNode)}),this.attributes={}},w.prototype.values=function(){var v=this;return Object.keys(this.attributes).reduce(function(y,_){return y[_]=v.attributes[_].value(v.domNode),y},{})},w}();r.default=E},function(t,r,o){var l=this&&this.__extends||function(){var E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,v){w.__proto__=v}||function(w,v){for(var y in v)v.hasOwnProperty(y)&&(w[y]=v[y])};return function(w,v){E(w,v);function y(){this.constructor=w}w.prototype=v===null?Object.create(v):(y.prototype=v.prototype,new y)}}();Object.defineProperty(r,"__esModule",{value:!0});var f=o(12);function p(E,w){var v=E.getAttribute("class")||"";return v.split(/\s+/).filter(function(y){return y.indexOf(w+"-")===0})}var g=function(E){l(w,E);function w(){return E!==null&&E.apply(this,arguments)||this}return w.keys=function(v){return(v.getAttribute("class")||"").split(/\s+/).map(function(y){return y.split("-").slice(0,-1).join("-")})},w.prototype.add=function(v,y){return this.canAdd(v,y)?(this.remove(v),v.classList.add(this.keyName+"-"+y),!0):!1},w.prototype.remove=function(v){var y=p(v,this.keyName);y.forEach(function(_){v.classList.remove(_)}),v.classList.length===0&&v.removeAttribute("class")},w.prototype.value=function(v){var y=p(v,this.keyName)[0]||"",_=y.slice(this.keyName.length+1);return this.canAdd(v,_)?_:""},w}(f.default);r.default=g},function(t,r,o){var l=this&&this.__extends||function(){var E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,v){w.__proto__=v}||function(w,v){for(var y in v)v.hasOwnProperty(y)&&(w[y]=v[y])};return function(w,v){E(w,v);function y(){this.constructor=w}w.prototype=v===null?Object.create(v):(y.prototype=v.prototype,new y)}}();Object.defineProperty(r,"__esModule",{value:!0});var f=o(12);function p(E){var w=E.split("-"),v=w.slice(1).map(function(y){return y[0].toUpperCase()+y.slice(1)}).join("");return w[0]+v}var g=function(E){l(w,E);function w(){return E!==null&&E.apply(this,arguments)||this}return w.keys=function(v){return(v.getAttribute("style")||"").split(";").map(function(y){var _=y.split(":");return _[0].trim()})},w.prototype.add=function(v,y){return this.canAdd(v,y)?(v.style[p(this.keyName)]=y,!0):!1},w.prototype.remove=function(v){v.style[p(this.keyName)]="",v.getAttribute("style")||v.removeAttribute("style")},w.prototype.value=function(v){var y=v.style[p(this.keyName)];return this.canAdd(v,y)?y:""},w}(f.default);r.default=g},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var l=function(){function g(E,w){for(var v=0;v<w.length;v++){var y=w[v];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(E,y.key,y)}}return function(E,w,v){return w&&g(E.prototype,w),v&&g(E,v),E}}();function f(g,E){if(!(g instanceof E))throw new TypeError("Cannot call a class as a function")}var p=function(){function g(E,w){f(this,g),this.quill=E,this.options=w,this.modules={}}return l(g,[{key:"init",value:function(){var w=this;Object.keys(this.options.modules).forEach(function(v){w.modules[v]==null&&w.addModule(v)})}},{key:"addModule",value:function(w){var v=this.quill.constructor.import("modules/"+w);return this.modules[w]=new v(this.quill,this.options.modules[w]||{}),this.modules[w]}}]),g}();p.DEFAULTS={modules:{}},p.themes={default:p},r.default=p},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var l=function(){function b(R,M){for(var I=0;I<M.length;I++){var q=M[I];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(R,q.key,q)}}return function(R,M,I){return M&&b(R.prototype,M),I&&b(R,I),R}}(),f=function b(R,M,I){R===null&&(R=Function.prototype);var q=Object.getOwnPropertyDescriptor(R,M);if(q===void 0){var $=Object.getPrototypeOf(R);return $===null?void 0:b($,M,I)}else{if("value"in q)return q.value;var L=q.get;return L===void 0?void 0:L.call(I)}},p=o(0),g=v(p),E=o(7),w=v(E);function v(b){return b&&b.__esModule?b:{default:b}}function y(b,R){if(!(b instanceof R))throw new TypeError("Cannot call a class as a function")}function _(b,R){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:b}function P(b,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);b.prototype=Object.create(R&&R.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(b,R):b.__proto__=R)}var S="\uFEFF",A=function(b){P(R,b);function R(M){y(this,R);var I=_(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,M));return I.contentNode=document.createElement("span"),I.contentNode.setAttribute("contenteditable",!1),[].slice.call(I.domNode.childNodes).forEach(function(q){I.contentNode.appendChild(q)}),I.leftGuard=document.createTextNode(S),I.rightGuard=document.createTextNode(S),I.domNode.appendChild(I.leftGuard),I.domNode.appendChild(I.contentNode),I.domNode.appendChild(I.rightGuard),I}return l(R,[{key:"index",value:function(I,q){return I===this.leftGuard?0:I===this.rightGuard?1:f(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"index",this).call(this,I,q)}},{key:"restore",value:function(I){var q=void 0,$=void 0,L=I.data.split(S).join("");if(I===this.leftGuard)if(this.prev instanceof w.default){var O=this.prev.length();this.prev.insertAt(O,L),q={startNode:this.prev.domNode,startOffset:O+L.length}}else $=document.createTextNode(L),this.parent.insertBefore(g.default.create($),this),q={startNode:$,startOffset:L.length};else I===this.rightGuard&&(this.next instanceof w.default?(this.next.insertAt(0,L),q={startNode:this.next.domNode,startOffset:L.length}):($=document.createTextNode(L),this.parent.insertBefore(g.default.create($),this.next),q={startNode:$,startOffset:L.length}));return I.data=S,q}},{key:"update",value:function(I,q){var $=this;I.forEach(function(L){if(L.type==="characterData"&&(L.target===$.leftGuard||L.target===$.rightGuard)){var O=$.restore(L.target);O&&(q.range=O)}})}}]),R}(g.default.Embed);r.default=A},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var l=o(0),f=p(l);function p(y){return y&&y.__esModule?y:{default:y}}var g={scope:f.default.Scope.BLOCK,whitelist:["right","center","justify"]},E=new f.default.Attributor.Attribute("align","align",g),w=new f.default.Attributor.Class("align","ql-align",g),v=new f.default.Attributor.Style("align","text-align",g);r.AlignAttribute=E,r.AlignClass=w,r.AlignStyle=v},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var l=o(0),f=g(l),p=o(26);function g(v){return v&&v.__esModule?v:{default:v}}var E=new f.default.Attributor.Class("background","ql-bg",{scope:f.default.Scope.INLINE}),w=new p.ColorAttributor("background","background-color",{scope:f.default.Scope.INLINE});r.BackgroundClass=E,r.BackgroundStyle=w},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var l=o(0),f=p(l);function p(y){return y&&y.__esModule?y:{default:y}}var g={scope:f.default.Scope.BLOCK,whitelist:["rtl"]},E=new f.default.Attributor.Attribute("direction","dir",g),w=new f.default.Attributor.Class("direction","ql-direction",g),v=new f.default.Attributor.Style("direction","direction",g);r.DirectionAttribute=E,r.DirectionClass=w,r.DirectionStyle=v},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var l=function(){function b(R,M){for(var I=0;I<M.length;I++){var q=M[I];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(R,q.key,q)}}return function(R,M,I){return M&&b(R.prototype,M),I&&b(R,I),R}}(),f=function b(R,M,I){R===null&&(R=Function.prototype);var q=Object.getOwnPropertyDescriptor(R,M);if(q===void 0){var $=Object.getPrototypeOf(R);return $===null?void 0:b($,M,I)}else{if("value"in q)return q.value;var L=q.get;return L===void 0?void 0:L.call(I)}},p=o(0),g=E(p);function E(b){return b&&b.__esModule?b:{default:b}}function w(b,R){if(!(b instanceof R))throw new TypeError("Cannot call a class as a function")}function v(b,R){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:b}function y(b,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);b.prototype=Object.create(R&&R.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(b,R):b.__proto__=R)}var _={scope:g.default.Scope.INLINE,whitelist:["serif","monospace"]},P=new g.default.Attributor.Class("font","ql-font",_),S=function(b){y(R,b);function R(){return w(this,R),v(this,(R.__proto__||Object.getPrototypeOf(R)).apply(this,arguments))}return l(R,[{key:"value",value:function(I){return f(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"value",this).call(this,I).replace(/["']/g,"")}}]),R}(g.default.Attributor.Style),A=new S("font","font-family",_);r.FontStyle=A,r.FontClass=P},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var l=o(0),f=p(l);function p(w){return w&&w.__esModule?w:{default:w}}var g=new f.default.Attributor.Class("size","ql-size",{scope:f.default.Scope.INLINE,whitelist:["small","large","huge"]}),E=new f.default.Attributor.Style("size","font-size",{scope:f.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=g,r.SizeStyle=E},function(t,r,o){t.exports={align:{"":o(76),center:o(77),right:o(78),justify:o(79)},background:o(80),blockquote:o(81),bold:o(82),clean:o(83),code:o(58),"code-block":o(58),color:o(84),direction:{"":o(85),rtl:o(86)},float:{center:o(87),full:o(88),left:o(89),right:o(90)},formula:o(91),header:{1:o(92),2:o(93)},italic:o(94),image:o(95),indent:{"+1":o(96),"-1":o(97)},link:o(98),list:{ordered:o(99),bullet:o(100),check:o(101)},script:{sub:o(102),super:o(103)},strike:o(104),underline:o(105),video:o(106)}},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var l=function(){function M(I,q){for(var $=0;$<q.length;$++){var L=q[$];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(I,L.key,L)}}return function(I,q,$){return q&&M(I.prototype,q),$&&M(I,$),I}}(),f=o(0),p=y(f),g=o(5),E=y(g),w=o(9),v=y(w);function y(M){return M&&M.__esModule?M:{default:M}}function _(M,I){if(!(M instanceof I))throw new TypeError("Cannot call a class as a function")}function P(M,I){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:M}function S(M,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);M.prototype=Object.create(I&&I.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(M,I):M.__proto__=I)}var A=function(M){S(I,M);function I(q,$){_(this,I);var L=P(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,q,$));return L.lastRecorded=0,L.ignoreChange=!1,L.clear(),L.quill.on(E.default.events.EDITOR_CHANGE,function(O,F,D,k){O!==E.default.events.TEXT_CHANGE||L.ignoreChange||(!L.options.userOnly||k===E.default.sources.USER?L.record(F,D):L.transform(F))}),L.quill.keyboard.addBinding({key:"Z",shortKey:!0},L.undo.bind(L)),L.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},L.redo.bind(L)),/Win/i.test(navigator.platform)&&L.quill.keyboard.addBinding({key:"Y",shortKey:!0},L.redo.bind(L)),L}return l(I,[{key:"change",value:function($,L){if(this.stack[$].length!==0){var O=this.stack[$].pop();this.stack[L].push(O),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(O[$],E.default.sources.USER),this.ignoreChange=!1;var F=R(O[$]);this.quill.setSelection(F)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function($,L){if($.ops.length!==0){this.stack.redo=[];var O=this.quill.getContents().diff(L),F=Date.now();if(this.lastRecorded+this.options.delay>F&&this.stack.undo.length>0){var D=this.stack.undo.pop();O=O.compose(D.undo),$=D.redo.compose($)}else this.lastRecorded=F;this.stack.undo.push({redo:$,undo:O}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function($){this.stack.undo.forEach(function(L){L.undo=$.transform(L.undo,!0),L.redo=$.transform(L.redo,!0)}),this.stack.redo.forEach(function(L){L.undo=$.transform(L.undo,!0),L.redo=$.transform(L.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),I}(v.default);A.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function b(M){var I=M.ops[M.ops.length-1];return I==null?!1:I.insert!=null?typeof I.insert=="string"&&I.insert.endsWith(`
`):I.attributes!=null?Object.keys(I.attributes).some(function(q){return p.default.query(q,p.default.Scope.BLOCK)!=null}):!1}function R(M){var I=M.reduce(function($,L){return $+=L.delete||0,$},0),q=M.length()-I;return b(M)&&(q-=1),q}r.default=A,r.getLastChangeIndex=R},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var l=function(){function W(Z,ue){for(var se=0;se<ue.length;se++){var Y=ue[se];Y.enumerable=Y.enumerable||!1,Y.configurable=!0,"value"in Y&&(Y.writable=!0),Object.defineProperty(Z,Y.key,Y)}}return function(Z,ue,se){return ue&&W(Z.prototype,ue),se&&W(Z,se),Z}}(),f=function W(Z,ue,se){Z===null&&(Z=Function.prototype);var Y=Object.getOwnPropertyDescriptor(Z,ue);if(Y===void 0){var ie=Object.getPrototypeOf(Z);return ie===null?void 0:W(ie,ue,se)}else{if("value"in Y)return Y.value;var pe=Y.get;return pe===void 0?void 0:pe.call(se)}},p=o(3),g=F(p),E=o(2),w=F(E),v=o(8),y=F(v),_=o(23),P=F(_),S=o(34),A=F(S),b=o(59),R=F(b),M=o(60),I=F(M),q=o(28),$=F(q),L=o(61),O=F(L);function F(W){return W&&W.__esModule?W:{default:W}}function D(W,Z){if(!(W instanceof Z))throw new TypeError("Cannot call a class as a function")}function k(W,Z){if(!W)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Z&&(typeof Z=="object"||typeof Z=="function")?Z:W}function U(W,Z){if(typeof Z!="function"&&Z!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Z);W.prototype=Object.create(Z&&Z.prototype,{constructor:{value:W,enumerable:!1,writable:!0,configurable:!0}}),Z&&(Object.setPrototypeOf?Object.setPrototypeOf(W,Z):W.__proto__=Z)}var V=[!1,"center","right","justify"],J=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],ee=[!1,"serif","monospace"],fe=["1","2","3",!1],ce=["small",!1,"large","huge"],de=function(W){U(Z,W);function Z(ue,se){D(this,Z);var Y=k(this,(Z.__proto__||Object.getPrototypeOf(Z)).call(this,ue,se)),ie=function pe(me){if(!document.body.contains(ue.root))return document.body.removeEventListener("click",pe);Y.tooltip!=null&&!Y.tooltip.root.contains(me.target)&&document.activeElement!==Y.tooltip.textbox&&!Y.quill.hasFocus()&&Y.tooltip.hide(),Y.pickers!=null&&Y.pickers.forEach(function(Se){Se.container.contains(me.target)||Se.close()})};return ue.emitter.listenDOM("click",document.body,ie),Y}return l(Z,[{key:"addModule",value:function(se){var Y=f(Z.prototype.__proto__||Object.getPrototypeOf(Z.prototype),"addModule",this).call(this,se);return se==="toolbar"&&this.extendToolbar(Y),Y}},{key:"buildButtons",value:function(se,Y){se.forEach(function(ie){var pe=ie.getAttribute("class")||"";pe.split(/\s+/).forEach(function(me){if(me.startsWith("ql-")&&(me=me.slice(3),Y[me]!=null))if(me==="direction")ie.innerHTML=Y[me][""]+Y[me].rtl;else if(typeof Y[me]=="string")ie.innerHTML=Y[me];else{var Se=ie.value||"";Se!=null&&Y[me][Se]&&(ie.innerHTML=Y[me][Se])}})})}},{key:"buildPickers",value:function(se,Y){var ie=this;this.pickers=se.map(function(me){if(me.classList.contains("ql-align"))return me.querySelector("option")==null&&B(me,V),new I.default(me,Y.align);if(me.classList.contains("ql-background")||me.classList.contains("ql-color")){var Se=me.classList.contains("ql-background")?"background":"color";return me.querySelector("option")==null&&B(me,J,Se==="background"?"#ffffff":"#000000"),new R.default(me,Y[Se])}else return me.querySelector("option")==null&&(me.classList.contains("ql-font")?B(me,ee):me.classList.contains("ql-header")?B(me,fe):me.classList.contains("ql-size")&&B(me,ce)),new $.default(me)});var pe=function(){ie.pickers.forEach(function(Se){Se.update()})};this.quill.on(y.default.events.EDITOR_CHANGE,pe)}}]),Z}(A.default);de.DEFAULTS=(0,g.default)(!0,{},A.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var Z=this,ue=this.container.querySelector("input.ql-image[type=file]");ue==null&&(ue=document.createElement("input"),ue.setAttribute("type","file"),ue.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),ue.classList.add("ql-image"),ue.addEventListener("change",function(){if(ue.files!=null&&ue.files[0]!=null){var se=new FileReader;se.onload=function(Y){var ie=Z.quill.getSelection(!0);Z.quill.updateContents(new w.default().retain(ie.index).delete(ie.length).insert({image:Y.target.result}),y.default.sources.USER),Z.quill.setSelection(ie.index+1,y.default.sources.SILENT),ue.value=""},se.readAsDataURL(ue.files[0])}}),this.container.appendChild(ue)),ue.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var re=function(W){U(Z,W);function Z(ue,se){D(this,Z);var Y=k(this,(Z.__proto__||Object.getPrototypeOf(Z)).call(this,ue,se));return Y.textbox=Y.root.querySelector('input[type="text"]'),Y.listen(),Y}return l(Z,[{key:"listen",value:function(){var se=this;this.textbox.addEventListener("keydown",function(Y){P.default.match(Y,"enter")?(se.save(),Y.preventDefault()):P.default.match(Y,"escape")&&(se.cancel(),Y.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),Y!=null?this.textbox.value=Y:se!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+se)||""),this.root.setAttribute("data-mode",se)}},{key:"restoreFocus",value:function(){var se=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=se}},{key:"save",value:function(){var se=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var Y=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",se,y.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",se,y.default.sources.USER)),this.quill.root.scrollTop=Y;break}case"video":se=X(se);case"formula":{if(!se)break;var ie=this.quill.getSelection(!0);if(ie!=null){var pe=ie.index+ie.length;this.quill.insertEmbed(pe,this.root.getAttribute("data-mode"),se,y.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(pe+1," ",y.default.sources.USER),this.quill.setSelection(pe+2,y.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),Z}(O.default);function X(W){var Z=W.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||W.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return Z?(Z[1]||"https")+"://www.youtube.com/embed/"+Z[2]+"?showinfo=0":(Z=W.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(Z[1]||"https")+"://player.vimeo.com/video/"+Z[2]+"/":W}function B(W,Z){var ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;Z.forEach(function(se){var Y=document.createElement("option");se===ue?Y.setAttribute("selected","selected"):Y.setAttribute("value",se),W.appendChild(Y)})}r.BaseTooltip=re,r.default=de},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var l=function(){function f(){this.head=this.tail=null,this.length=0}return f.prototype.append=function(){for(var p=[],g=0;g<arguments.length;g++)p[g]=arguments[g];this.insertBefore(p[0],null),p.length>1&&this.append.apply(this,p.slice(1))},f.prototype.contains=function(p){for(var g,E=this.iterator();g=E();)if(g===p)return!0;return!1},f.prototype.insertBefore=function(p,g){p&&(p.next=g,g!=null?(p.prev=g.prev,g.prev!=null&&(g.prev.next=p),g.prev=p,g===this.head&&(this.head=p)):this.tail!=null?(this.tail.next=p,p.prev=this.tail,this.tail=p):(p.prev=null,this.head=this.tail=p),this.length+=1)},f.prototype.offset=function(p){for(var g=0,E=this.head;E!=null;){if(E===p)return g;g+=E.length(),E=E.next}return-1},f.prototype.remove=function(p){this.contains(p)&&(p.prev!=null&&(p.prev.next=p.next),p.next!=null&&(p.next.prev=p.prev),p===this.head&&(this.head=p.next),p===this.tail&&(this.tail=p.prev),this.length-=1)},f.prototype.iterator=function(p){return p===void 0&&(p=this.head),function(){var g=p;return p!=null&&(p=p.next),g}},f.prototype.find=function(p,g){g===void 0&&(g=!1);for(var E,w=this.iterator();E=w();){var v=E.length();if(p<v||g&&p===v&&(E.next==null||E.next.length()!==0))return[E,p];p-=v}return[null,0]},f.prototype.forEach=function(p){for(var g,E=this.iterator();g=E();)p(g)},f.prototype.forEachAt=function(p,g,E){if(!(g<=0))for(var w=this.find(p),v=w[0],y=w[1],_,P=p-y,S=this.iterator(v);(_=S())&&P<p+g;){var A=_.length();p>P?E(_,p-P,Math.min(g,P+A-p)):E(_,0,Math.min(A,p+g-P)),P+=A}},f.prototype.map=function(p){return this.reduce(function(g,E){return g.push(p(E)),g},[])},f.prototype.reduce=function(p,g){for(var E,w=this.iterator();E=w();)g=p(g,E);return g},f}();r.default=l},function(t,r,o){var l=this&&this.__extends||function(){var v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,_){y.__proto__=_}||function(y,_){for(var P in _)_.hasOwnProperty(P)&&(y[P]=_[P])};return function(y,_){v(y,_);function P(){this.constructor=y}y.prototype=_===null?Object.create(_):(P.prototype=_.prototype,new P)}}();Object.defineProperty(r,"__esModule",{value:!0});var f=o(17),p=o(1),g={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},E=100,w=function(v){l(y,v);function y(_){var P=v.call(this,_)||this;return P.scroll=P,P.observer=new MutationObserver(function(S){P.update(S)}),P.observer.observe(P.domNode,g),P.attach(),P}return y.prototype.detach=function(){v.prototype.detach.call(this),this.observer.disconnect()},y.prototype.deleteAt=function(_,P){this.update(),_===0&&P===this.length()?this.children.forEach(function(S){S.remove()}):v.prototype.deleteAt.call(this,_,P)},y.prototype.formatAt=function(_,P,S,A){this.update(),v.prototype.formatAt.call(this,_,P,S,A)},y.prototype.insertAt=function(_,P,S){this.update(),v.prototype.insertAt.call(this,_,P,S)},y.prototype.optimize=function(_,P){var S=this;_===void 0&&(_=[]),P===void 0&&(P={}),v.prototype.optimize.call(this,P);for(var A=[].slice.call(this.observer.takeRecords());A.length>0;)_.push(A.pop());for(var b=function(q,$){$===void 0&&($=!0),!(q==null||q===S)&&q.domNode.parentNode!=null&&(q.domNode[p.DATA_KEY].mutations==null&&(q.domNode[p.DATA_KEY].mutations=[]),$&&b(q.parent))},R=function(q){q.domNode[p.DATA_KEY]==null||q.domNode[p.DATA_KEY].mutations==null||(q instanceof f.default&&q.children.forEach(R),q.optimize(P))},M=_,I=0;M.length>0;I+=1){if(I>=E)throw new Error("[Parchment] Maximum optimize iterations reached");for(M.forEach(function(q){var $=p.find(q.target,!0);$!=null&&($.domNode===q.target&&(q.type==="childList"?(b(p.find(q.previousSibling,!1)),[].forEach.call(q.addedNodes,function(L){var O=p.find(L,!1);b(O,!1),O instanceof f.default&&O.children.forEach(function(F){b(F,!1)})})):q.type==="attributes"&&b($.prev)),b($))}),this.children.forEach(R),M=[].slice.call(this.observer.takeRecords()),A=M.slice();A.length>0;)_.push(A.pop())}},y.prototype.update=function(_,P){var S=this;P===void 0&&(P={}),_=_||this.observer.takeRecords(),_.map(function(A){var b=p.find(A.target,!0);return b==null?null:b.domNode[p.DATA_KEY].mutations==null?(b.domNode[p.DATA_KEY].mutations=[A],b):(b.domNode[p.DATA_KEY].mutations.push(A),null)}).forEach(function(A){A==null||A===S||A.domNode[p.DATA_KEY]==null||A.update(A.domNode[p.DATA_KEY].mutations||[],P)}),this.domNode[p.DATA_KEY].mutations!=null&&v.prototype.update.call(this,this.domNode[p.DATA_KEY].mutations,P),this.optimize(_,P)},y.blotName="scroll",y.defaultChild="block",y.scope=p.Scope.BLOCK_BLOT,y.tagName="DIV",y}(f.default);r.default=w},function(t,r,o){var l=this&&this.__extends||function(){var w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,y){v.__proto__=y}||function(v,y){for(var _ in y)y.hasOwnProperty(_)&&(v[_]=y[_])};return function(v,y){w(v,y);function _(){this.constructor=v}v.prototype=y===null?Object.create(y):(_.prototype=y.prototype,new _)}}();Object.defineProperty(r,"__esModule",{value:!0});var f=o(18),p=o(1);function g(w,v){if(Object.keys(w).length!==Object.keys(v).length)return!1;for(var y in w)if(w[y]!==v[y])return!1;return!0}var E=function(w){l(v,w);function v(){return w!==null&&w.apply(this,arguments)||this}return v.formats=function(y){if(y.tagName!==v.tagName)return w.formats.call(this,y)},v.prototype.format=function(y,_){var P=this;y===this.statics.blotName&&!_?(this.children.forEach(function(S){S instanceof f.default||(S=S.wrap(v.blotName,!0)),P.attributes.copy(S)}),this.unwrap()):w.prototype.format.call(this,y,_)},v.prototype.formatAt=function(y,_,P,S){if(this.formats()[P]!=null||p.query(P,p.Scope.ATTRIBUTE)){var A=this.isolate(y,_);A.format(P,S)}else w.prototype.formatAt.call(this,y,_,P,S)},v.prototype.optimize=function(y){w.prototype.optimize.call(this,y);var _=this.formats();if(Object.keys(_).length===0)return this.unwrap();var P=this.next;P instanceof v&&P.prev===this&&g(_,P.formats())&&(P.moveChildren(this),P.remove())},v.blotName="inline",v.scope=p.Scope.INLINE_BLOT,v.tagName="SPAN",v}(f.default);r.default=E},function(t,r,o){var l=this&&this.__extends||function(){var E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,v){w.__proto__=v}||function(w,v){for(var y in v)v.hasOwnProperty(y)&&(w[y]=v[y])};return function(w,v){E(w,v);function y(){this.constructor=w}w.prototype=v===null?Object.create(v):(y.prototype=v.prototype,new y)}}();Object.defineProperty(r,"__esModule",{value:!0});var f=o(18),p=o(1),g=function(E){l(w,E);function w(){return E!==null&&E.apply(this,arguments)||this}return w.formats=function(v){var y=p.query(w.blotName).tagName;if(v.tagName!==y)return E.formats.call(this,v)},w.prototype.format=function(v,y){p.query(v,p.Scope.BLOCK)!=null&&(v===this.statics.blotName&&!y?this.replaceWith(w.blotName):E.prototype.format.call(this,v,y))},w.prototype.formatAt=function(v,y,_,P){p.query(_,p.Scope.BLOCK)!=null?this.format(_,P):E.prototype.formatAt.call(this,v,y,_,P)},w.prototype.insertAt=function(v,y,_){if(_==null||p.query(y,p.Scope.INLINE)!=null)E.prototype.insertAt.call(this,v,y,_);else{var P=this.split(v),S=p.create(y,_);P.parent.insertBefore(S,P)}},w.prototype.update=function(v,y){navigator.userAgent.match(/Trident/)?this.build():E.prototype.update.call(this,v,y)},w.blotName="block",w.scope=p.Scope.BLOCK_BLOT,w.tagName="P",w}(f.default);r.default=g},function(t,r,o){var l=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,w){E.__proto__=w}||function(E,w){for(var v in w)w.hasOwnProperty(v)&&(E[v]=w[v])};return function(E,w){g(E,w);function v(){this.constructor=E}E.prototype=w===null?Object.create(w):(v.prototype=w.prototype,new v)}}();Object.defineProperty(r,"__esModule",{value:!0});var f=o(19),p=function(g){l(E,g);function E(){return g!==null&&g.apply(this,arguments)||this}return E.formats=function(w){},E.prototype.format=function(w,v){g.prototype.formatAt.call(this,0,this.length(),w,v)},E.prototype.formatAt=function(w,v,y,_){w===0&&v===this.length()?this.format(y,_):g.prototype.formatAt.call(this,w,v,y,_)},E.prototype.formats=function(){return this.statics.formats(this.domNode)},E}(f.default);r.default=p},function(t,r,o){var l=this&&this.__extends||function(){var E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,v){w.__proto__=v}||function(w,v){for(var y in v)v.hasOwnProperty(y)&&(w[y]=v[y])};return function(w,v){E(w,v);function y(){this.constructor=w}w.prototype=v===null?Object.create(v):(y.prototype=v.prototype,new y)}}();Object.defineProperty(r,"__esModule",{value:!0});var f=o(19),p=o(1),g=function(E){l(w,E);function w(v){var y=E.call(this,v)||this;return y.text=y.statics.value(y.domNode),y}return w.create=function(v){return document.createTextNode(v)},w.value=function(v){var y=v.data;return y.normalize&&(y=y.normalize()),y},w.prototype.deleteAt=function(v,y){this.domNode.data=this.text=this.text.slice(0,v)+this.text.slice(v+y)},w.prototype.index=function(v,y){return this.domNode===v?y:-1},w.prototype.insertAt=function(v,y,_){_==null?(this.text=this.text.slice(0,v)+y+this.text.slice(v),this.domNode.data=this.text):E.prototype.insertAt.call(this,v,y,_)},w.prototype.length=function(){return this.text.length},w.prototype.optimize=function(v){E.prototype.optimize.call(this,v),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof w&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},w.prototype.position=function(v,y){return[this.domNode,v]},w.prototype.split=function(v,y){if(y===void 0&&(y=!1),!y){if(v===0)return this;if(v===this.length())return this.next}var _=p.create(this.domNode.splitText(v));return this.parent.insertBefore(_,this.next),this.text=this.statics.value(this.domNode),_},w.prototype.update=function(v,y){var _=this;v.some(function(P){return P.type==="characterData"&&P.target===_.domNode})&&(this.text=this.statics.value(this.domNode))},w.prototype.value=function(){return this.text},w.blotName="text",w.scope=p.Scope.INLINE_BLOT,w}(f.default);r.default=g},function(t,r,o){var l=document.createElement("div");if(l.classList.toggle("test-class",!1),l.classList.contains("test-class")){var f=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(p,g){return arguments.length>1&&!this.contains(p)==!g?g:f.call(this,p)}}String.prototype.startsWith||(String.prototype.startsWith=function(p,g){return g=g||0,this.substr(g,p.length)===p}),String.prototype.endsWith||(String.prototype.endsWith=function(p,g){var E=this.toString();(typeof g!="number"||!isFinite(g)||Math.floor(g)!==g||g>E.length)&&(g=E.length),g-=p.length;var w=E.indexOf(p,g);return w!==-1&&w===g}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(g){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof g!="function")throw new TypeError("predicate must be a function");for(var E=Object(this),w=E.length>>>0,v=arguments[1],y,_=0;_<w;_++)if(y=E[_],g.call(v,y,_,E))return y}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(t,r){var o=-1,l=1,f=0;function p(I,q,$){if(I==q)return I?[[f,I]]:[];($<0||I.length<$)&&($=null);var L=v(I,q),O=I.substring(0,L);I=I.substring(L),q=q.substring(L),L=y(I,q);var F=I.substring(I.length-L);I=I.substring(0,I.length-L),q=q.substring(0,q.length-L);var D=g(I,q);return O&&D.unshift([f,O]),F&&D.push([f,F]),P(D),$!=null&&(D=b(D,$)),D=R(D),D}function g(I,q){var $;if(!I)return[[l,q]];if(!q)return[[o,I]];var L=I.length>q.length?I:q,O=I.length>q.length?q:I,F=L.indexOf(O);if(F!=-1)return $=[[l,L.substring(0,F)],[f,O],[l,L.substring(F+O.length)]],I.length>q.length&&($[0][0]=$[2][0]=o),$;if(O.length==1)return[[o,I],[l,q]];var D=_(I,q);if(D){var k=D[0],U=D[1],V=D[2],J=D[3],ee=D[4],fe=p(k,V),ce=p(U,J);return fe.concat([[f,ee]],ce)}return E(I,q)}function E(I,q){for(var $=I.length,L=q.length,O=Math.ceil(($+L)/2),F=O,D=2*O,k=new Array(D),U=new Array(D),V=0;V<D;V++)k[V]=-1,U[V]=-1;k[F+1]=0,U[F+1]=0;for(var J=$-L,ee=J%2!=0,fe=0,ce=0,de=0,re=0,X=0;X<O;X++){for(var B=-X+fe;B<=X-ce;B+=2){var W=F+B,Z;B==-X||B!=X&&k[W-1]<k[W+1]?Z=k[W+1]:Z=k[W-1]+1;for(var ue=Z-B;Z<$&&ue<L&&I.charAt(Z)==q.charAt(ue);)Z++,ue++;if(k[W]=Z,Z>$)ce+=2;else if(ue>L)fe+=2;else if(ee){var se=F+J-B;if(se>=0&&se<D&&U[se]!=-1){var Y=$-U[se];if(Z>=Y)return w(I,q,Z,ue)}}}for(var ie=-X+de;ie<=X-re;ie+=2){var se=F+ie,Y;ie==-X||ie!=X&&U[se-1]<U[se+1]?Y=U[se+1]:Y=U[se-1]+1;for(var pe=Y-ie;Y<$&&pe<L&&I.charAt($-Y-1)==q.charAt(L-pe-1);)Y++,pe++;if(U[se]=Y,Y>$)re+=2;else if(pe>L)de+=2;else if(!ee){var W=F+J-ie;if(W>=0&&W<D&&k[W]!=-1){var Z=k[W],ue=F+Z-W;if(Y=$-Y,Z>=Y)return w(I,q,Z,ue)}}}}return[[o,I],[l,q]]}function w(I,q,$,L){var O=I.substring(0,$),F=q.substring(0,L),D=I.substring($),k=q.substring(L),U=p(O,F),V=p(D,k);return U.concat(V)}function v(I,q){if(!I||!q||I.charAt(0)!=q.charAt(0))return 0;for(var $=0,L=Math.min(I.length,q.length),O=L,F=0;$<O;)I.substring(F,O)==q.substring(F,O)?($=O,F=$):L=O,O=Math.floor((L-$)/2+$);return O}function y(I,q){if(!I||!q||I.charAt(I.length-1)!=q.charAt(q.length-1))return 0;for(var $=0,L=Math.min(I.length,q.length),O=L,F=0;$<O;)I.substring(I.length-O,I.length-F)==q.substring(q.length-O,q.length-F)?($=O,F=$):L=O,O=Math.floor((L-$)/2+$);return O}function _(I,q){var $=I.length>q.length?I:q,L=I.length>q.length?q:I;if($.length<4||L.length*2<$.length)return null;function O(ce,de,re){for(var X=ce.substring(re,re+Math.floor(ce.length/4)),B=-1,W="",Z,ue,se,Y;(B=de.indexOf(X,B+1))!=-1;){var ie=v(ce.substring(re),de.substring(B)),pe=y(ce.substring(0,re),de.substring(0,B));W.length<pe+ie&&(W=de.substring(B-pe,B)+de.substring(B,B+ie),Z=ce.substring(0,re-pe),ue=ce.substring(re+ie),se=de.substring(0,B-pe),Y=de.substring(B+ie))}return W.length*2>=ce.length?[Z,ue,se,Y,W]:null}var F=O($,L,Math.ceil($.length/4)),D=O($,L,Math.ceil($.length/2)),k;if(!F&&!D)return null;D?F?k=F[4].length>D[4].length?F:D:k=D:k=F;var U,V,J,ee;I.length>q.length?(U=k[0],V=k[1],J=k[2],ee=k[3]):(J=k[0],ee=k[1],U=k[2],V=k[3]);var fe=k[4];return[U,V,J,ee,fe]}function P(I){I.push([f,""]);for(var q=0,$=0,L=0,O="",F="",D;q<I.length;)switch(I[q][0]){case l:L++,F+=I[q][1],q++;break;case o:$++,O+=I[q][1],q++;break;case f:$+L>1?($!==0&&L!==0&&(D=v(F,O),D!==0&&(q-$-L>0&&I[q-$-L-1][0]==f?I[q-$-L-1][1]+=F.substring(0,D):(I.splice(0,0,[f,F.substring(0,D)]),q++),F=F.substring(D),O=O.substring(D)),D=y(F,O),D!==0&&(I[q][1]=F.substring(F.length-D)+I[q][1],F=F.substring(0,F.length-D),O=O.substring(0,O.length-D))),$===0?I.splice(q-L,$+L,[l,F]):L===0?I.splice(q-$,$+L,[o,O]):I.splice(q-$-L,$+L,[o,O],[l,F]),q=q-$-L+($?1:0)+(L?1:0)+1):q!==0&&I[q-1][0]==f?(I[q-1][1]+=I[q][1],I.splice(q,1)):q++,L=0,$=0,O="",F="";break}I[I.length-1][1]===""&&I.pop();var k=!1;for(q=1;q<I.length-1;)I[q-1][0]==f&&I[q+1][0]==f&&(I[q][1].substring(I[q][1].length-I[q-1][1].length)==I[q-1][1]?(I[q][1]=I[q-1][1]+I[q][1].substring(0,I[q][1].length-I[q-1][1].length),I[q+1][1]=I[q-1][1]+I[q+1][1],I.splice(q-1,1),k=!0):I[q][1].substring(0,I[q+1][1].length)==I[q+1][1]&&(I[q-1][1]+=I[q+1][1],I[q][1]=I[q][1].substring(I[q+1][1].length)+I[q+1][1],I.splice(q+1,1),k=!0)),q++;k&&P(I)}var S=p;S.INSERT=l,S.DELETE=o,S.EQUAL=f,t.exports=S;function A(I,q){if(q===0)return[f,I];for(var $=0,L=0;L<I.length;L++){var O=I[L];if(O[0]===o||O[0]===f){var F=$+O[1].length;if(q===F)return[L+1,I];if(q<F){I=I.slice();var D=q-$,k=[O[0],O[1].slice(0,D)],U=[O[0],O[1].slice(D)];return I.splice(L,1,k,U),[L+1,I]}else $=F}}throw new Error("cursor_pos is out of bounds!")}function b(I,q){var $=A(I,q),L=$[1],O=$[0],F=L[O],D=L[O+1];if(F==null)return I;if(F[0]!==f)return I;if(D!=null&&F[1]+D[1]===D[1]+F[1])return L.splice(O,2,D,F),M(L,O,2);if(D!=null&&D[1].indexOf(F[1])===0){L.splice(O,2,[D[0],F[1]],[0,F[1]]);var k=D[1].slice(F[1].length);return k.length>0&&L.splice(O+2,0,[D[0],k]),M(L,O,3)}else return I}function R(I){for(var q=!1,$=function(D){return D.charCodeAt(0)>=56320&&D.charCodeAt(0)<=57343},L=function(D){return D.charCodeAt(D.length-1)>=55296&&D.charCodeAt(D.length-1)<=56319},O=2;O<I.length;O+=1)I[O-2][0]===f&&L(I[O-2][1])&&I[O-1][0]===o&&$(I[O-1][1])&&I[O][0]===l&&$(I[O][1])&&(q=!0,I[O-1][1]=I[O-2][1].slice(-1)+I[O-1][1],I[O][1]=I[O-2][1].slice(-1)+I[O][1],I[O-2][1]=I[O-2][1].slice(0,-1));if(!q)return I;for(var F=[],O=0;O<I.length;O+=1)I[O][1].length>0&&F.push(I[O]);return F}function M(I,q,$){for(var L=q+$-1;L>=0&&L>=q-1;L--)if(L+1<I.length){var O=I[L],F=I[L+1];O[0]===F[1]&&I.splice(L,2,[O[0],O[1]+F[1]])}return I}},function(t,r){r=t.exports=typeof Object.keys=="function"?Object.keys:o,r.shim=o;function o(l){var f=[];for(var p in l)f.push(p);return f}},function(t,r){var o=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";r=t.exports=o?l:f,r.supported=l;function l(p){return Object.prototype.toString.call(p)=="[object Arguments]"}r.unsupported=f;function f(p){return p&&typeof p=="object"&&typeof p.length=="number"&&Object.prototype.hasOwnProperty.call(p,"callee")&&!Object.prototype.propertyIsEnumerable.call(p,"callee")||!1}},function(t,r){var o=Object.prototype.hasOwnProperty,l="~";function f(){}Object.create&&(f.prototype=Object.create(null),new f().__proto__||(l=!1));function p(E,w,v){this.fn=E,this.context=w,this.once=v||!1}function g(){this._events=new f,this._eventsCount=0}g.prototype.eventNames=function(){var w=[],v,y;if(this._eventsCount===0)return w;for(y in v=this._events)o.call(v,y)&&w.push(l?y.slice(1):y);return Object.getOwnPropertySymbols?w.concat(Object.getOwnPropertySymbols(v)):w},g.prototype.listeners=function(w,v){var y=l?l+w:w,_=this._events[y];if(v)return!!_;if(!_)return[];if(_.fn)return[_.fn];for(var P=0,S=_.length,A=new Array(S);P<S;P++)A[P]=_[P].fn;return A},g.prototype.emit=function(w,v,y,_,P,S){var A=l?l+w:w;if(!this._events[A])return!1;var b=this._events[A],R=arguments.length,M,I;if(b.fn){switch(b.once&&this.removeListener(w,b.fn,void 0,!0),R){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,v),!0;case 3:return b.fn.call(b.context,v,y),!0;case 4:return b.fn.call(b.context,v,y,_),!0;case 5:return b.fn.call(b.context,v,y,_,P),!0;case 6:return b.fn.call(b.context,v,y,_,P,S),!0}for(I=1,M=new Array(R-1);I<R;I++)M[I-1]=arguments[I];b.fn.apply(b.context,M)}else{var q=b.length,$;for(I=0;I<q;I++)switch(b[I].once&&this.removeListener(w,b[I].fn,void 0,!0),R){case 1:b[I].fn.call(b[I].context);break;case 2:b[I].fn.call(b[I].context,v);break;case 3:b[I].fn.call(b[I].context,v,y);break;case 4:b[I].fn.call(b[I].context,v,y,_);break;default:if(!M)for($=1,M=new Array(R-1);$<R;$++)M[$-1]=arguments[$];b[I].fn.apply(b[I].context,M)}}return!0},g.prototype.on=function(w,v,y){var _=new p(v,y||this),P=l?l+w:w;return this._events[P]?this._events[P].fn?this._events[P]=[this._events[P],_]:this._events[P].push(_):(this._events[P]=_,this._eventsCount++),this},g.prototype.once=function(w,v,y){var _=new p(v,y||this,!0),P=l?l+w:w;return this._events[P]?this._events[P].fn?this._events[P]=[this._events[P],_]:this._events[P].push(_):(this._events[P]=_,this._eventsCount++),this},g.prototype.removeListener=function(w,v,y,_){var P=l?l+w:w;if(!this._events[P])return this;if(!v)return--this._eventsCount===0?this._events=new f:delete this._events[P],this;var S=this._events[P];if(S.fn)S.fn===v&&(!_||S.once)&&(!y||S.context===y)&&(--this._eventsCount===0?this._events=new f:delete this._events[P]);else{for(var A=0,b=[],R=S.length;A<R;A++)(S[A].fn!==v||_&&!S[A].once||y&&S[A].context!==y)&&b.push(S[A]);b.length?this._events[P]=b.length===1?b[0]:b:--this._eventsCount===0?this._events=new f:delete this._events[P]}return this},g.prototype.removeAllListeners=function(w){var v;return w?(v=l?l+w:w,this._events[v]&&(--this._eventsCount===0?this._events=new f:delete this._events[v])):(this._events=new f,this._eventsCount=0),this},g.prototype.off=g.prototype.removeListener,g.prototype.addListener=g.prototype.on,g.prototype.setMaxListeners=function(){return this},g.prefixed=l,g.EventEmitter=g,typeof t<"u"&&(t.exports=g)},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ie){return typeof Ie}:function(Ie){return Ie&&typeof Symbol=="function"&&Ie.constructor===Symbol&&Ie!==Symbol.prototype?"symbol":typeof Ie},f=function(){function Ie(be,Ve){var Ue=[],Oe=!0,st=!1,lt=void 0;try{for(var ut=be[Symbol.iterator](),Dt;!(Oe=(Dt=ut.next()).done)&&(Ue.push(Dt.value),!(Ve&&Ue.length===Ve));Oe=!0);}catch(Ct){st=!0,lt=Ct}finally{try{!Oe&&ut.return&&ut.return()}finally{if(st)throw lt}}return Ue}return function(be,Ve){if(Array.isArray(be))return be;if(Symbol.iterator in Object(be))return Ie(be,Ve);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),p=function(){function Ie(be,Ve){for(var Ue=0;Ue<Ve.length;Ue++){var Oe=Ve[Ue];Oe.enumerable=Oe.enumerable||!1,Oe.configurable=!0,"value"in Oe&&(Oe.writable=!0),Object.defineProperty(be,Oe.key,Oe)}}return function(be,Ve,Ue){return Ve&&Ie(be.prototype,Ve),Ue&&Ie(be,Ue),be}}(),g=o(3),E=U(g),w=o(2),v=U(w),y=o(0),_=U(y),P=o(5),S=U(P),A=o(10),b=U(A),R=o(9),M=U(R),I=o(36),q=o(37),$=o(13),L=U($),O=o(26),F=o(38),D=o(39),k=o(40);function U(Ie){return Ie&&Ie.__esModule?Ie:{default:Ie}}function V(Ie,be,Ve){return be in Ie?Object.defineProperty(Ie,be,{value:Ve,enumerable:!0,configurable:!0,writable:!0}):Ie[be]=Ve,Ie}function J(Ie,be){if(!(Ie instanceof be))throw new TypeError("Cannot call a class as a function")}function ee(Ie,be){if(!Ie)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return be&&(typeof be=="object"||typeof be=="function")?be:Ie}function fe(Ie,be){if(typeof be!="function"&&be!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof be);Ie.prototype=Object.create(be&&be.prototype,{constructor:{value:Ie,enumerable:!1,writable:!0,configurable:!0}}),be&&(Object.setPrototypeOf?Object.setPrototypeOf(Ie,be):Ie.__proto__=be)}var ce=(0,b.default)("quill:clipboard"),de="__ql-matcher",re=[[Node.TEXT_NODE,Ot],[Node.TEXT_NODE,Xe],["br",qe],[Node.ELEMENT_NODE,Xe],[Node.ELEMENT_NODE,Se],[Node.ELEMENT_NODE,yt],[Node.ELEMENT_NODE,me],[Node.ELEMENT_NODE,mn],["li",Je],["b",pe.bind(pe,"bold")],["i",pe.bind(pe,"italic")],["style",Ye]],X=[I.AlignAttribute,F.DirectionAttribute].reduce(function(Ie,be){return Ie[be.keyName]=be,Ie},{}),B=[I.AlignStyle,q.BackgroundStyle,O.ColorStyle,F.DirectionStyle,D.FontStyle,k.SizeStyle].reduce(function(Ie,be){return Ie[be.keyName]=be,Ie},{}),W=function(Ie){fe(be,Ie);function be(Ve,Ue){J(this,be);var Oe=ee(this,(be.__proto__||Object.getPrototypeOf(be)).call(this,Ve,Ue));return Oe.quill.root.addEventListener("paste",Oe.onPaste.bind(Oe)),Oe.container=Oe.quill.addContainer("ql-clipboard"),Oe.container.setAttribute("contenteditable",!0),Oe.container.setAttribute("tabindex",-1),Oe.matchers=[],re.concat(Oe.options.matchers).forEach(function(st){var lt=f(st,2),ut=lt[0],Dt=lt[1];!Ue.matchVisual&&Dt===yt||Oe.addMatcher(ut,Dt)}),Oe}return p(be,[{key:"addMatcher",value:function(Ue,Oe){this.matchers.push([Ue,Oe])}},{key:"convert",value:function(Ue){if(typeof Ue=="string")return this.container.innerHTML=Ue.replace(/\>\r?\n +\</g,"><"),this.convert();var Oe=this.quill.getFormat(this.quill.selection.savedRange.index);if(Oe[L.default.blotName]){var st=this.container.innerText;return this.container.innerHTML="",new v.default().insert(st,V({},L.default.blotName,Oe[L.default.blotName]))}var lt=this.prepareMatching(),ut=f(lt,2),Dt=ut[0],Ct=ut[1],Et=ie(this.container,Dt,Ct);return se(Et,`
`)&&Et.ops[Et.ops.length-1].attributes==null&&(Et=Et.compose(new v.default().retain(Et.length()-1).delete(1))),ce.log("convert",this.container.innerHTML,Et),this.container.innerHTML="",Et}},{key:"dangerouslyPasteHTML",value:function(Ue,Oe){var st=arguments.length>2&&arguments[2]!==void 0?arguments[2]:S.default.sources.API;if(typeof Ue=="string")this.quill.setContents(this.convert(Ue),Oe),this.quill.setSelection(0,S.default.sources.SILENT);else{var lt=this.convert(Oe);this.quill.updateContents(new v.default().retain(Ue).concat(lt),st),this.quill.setSelection(Ue+lt.length(),S.default.sources.SILENT)}}},{key:"onPaste",value:function(Ue){var Oe=this;if(!(Ue.defaultPrevented||!this.quill.isEnabled())){var st=this.quill.getSelection(),lt=new v.default().retain(st.index),ut=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(S.default.sources.SILENT),setTimeout(function(){lt=lt.concat(Oe.convert()).delete(st.length),Oe.quill.updateContents(lt,S.default.sources.USER),Oe.quill.setSelection(lt.length()-st.length,S.default.sources.SILENT),Oe.quill.scrollingContainer.scrollTop=ut,Oe.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var Ue=this,Oe=[],st=[];return this.matchers.forEach(function(lt){var ut=f(lt,2),Dt=ut[0],Ct=ut[1];switch(Dt){case Node.TEXT_NODE:st.push(Ct);break;case Node.ELEMENT_NODE:Oe.push(Ct);break;default:[].forEach.call(Ue.container.querySelectorAll(Dt),function(Et){Et[de]=Et[de]||[],Et[de].push(Ct)});break}}),[Oe,st]}}]),be}(M.default);W.DEFAULTS={matchers:[],matchVisual:!0};function Z(Ie,be,Ve){return(typeof be>"u"?"undefined":l(be))==="object"?Object.keys(be).reduce(function(Ue,Oe){return Z(Ue,Oe,be[Oe])},Ie):Ie.reduce(function(Ue,Oe){return Oe.attributes&&Oe.attributes[be]?Ue.push(Oe):Ue.insert(Oe.insert,(0,E.default)({},V({},be,Ve),Oe.attributes))},new v.default)}function ue(Ie){if(Ie.nodeType!==Node.ELEMENT_NODE)return{};var be="__ql-computed-style";return Ie[be]||(Ie[be]=window.getComputedStyle(Ie))}function se(Ie,be){for(var Ve="",Ue=Ie.ops.length-1;Ue>=0&&Ve.length<be.length;--Ue){var Oe=Ie.ops[Ue];if(typeof Oe.insert!="string")break;Ve=Oe.insert+Ve}return Ve.slice(-1*be.length)===be}function Y(Ie){if(Ie.childNodes.length===0)return!1;var be=ue(Ie);return["block","list-item"].indexOf(be.display)>-1}function ie(Ie,be,Ve){return Ie.nodeType===Ie.TEXT_NODE?Ve.reduce(function(Ue,Oe){return Oe(Ie,Ue)},new v.default):Ie.nodeType===Ie.ELEMENT_NODE?[].reduce.call(Ie.childNodes||[],function(Ue,Oe){var st=ie(Oe,be,Ve);return Oe.nodeType===Ie.ELEMENT_NODE&&(st=be.reduce(function(lt,ut){return ut(Oe,lt)},st),st=(Oe[de]||[]).reduce(function(lt,ut){return ut(Oe,lt)},st)),Ue.concat(st)},new v.default):new v.default}function pe(Ie,be,Ve){return Z(Ve,Ie,!0)}function me(Ie,be){var Ve=_.default.Attributor.Attribute.keys(Ie),Ue=_.default.Attributor.Class.keys(Ie),Oe=_.default.Attributor.Style.keys(Ie),st={};return Ve.concat(Ue).concat(Oe).forEach(function(lt){var ut=_.default.query(lt,_.default.Scope.ATTRIBUTE);ut!=null&&(st[ut.attrName]=ut.value(Ie),st[ut.attrName])||(ut=X[lt],ut!=null&&(ut.attrName===lt||ut.keyName===lt)&&(st[ut.attrName]=ut.value(Ie)||void 0),ut=B[lt],ut!=null&&(ut.attrName===lt||ut.keyName===lt)&&(ut=B[lt],st[ut.attrName]=ut.value(Ie)||void 0))}),Object.keys(st).length>0&&(be=Z(be,st)),be}function Se(Ie,be){var Ve=_.default.query(Ie);if(Ve==null)return be;if(Ve.prototype instanceof _.default.Embed){var Ue={},Oe=Ve.value(Ie);Oe!=null&&(Ue[Ve.blotName]=Oe,be=new v.default().insert(Ue,Ve.formats(Ie)))}else typeof Ve.formats=="function"&&(be=Z(be,Ve.blotName,Ve.formats(Ie)));return be}function qe(Ie,be){return se(be,`
`)||be.insert(`
`),be}function Ye(){return new v.default}function Je(Ie,be){var Ve=_.default.query(Ie);if(Ve==null||Ve.blotName!=="list-item"||!se(be,`
`))return be;for(var Ue=-1,Oe=Ie.parentNode;!Oe.classList.contains("ql-clipboard");)(_.default.query(Oe)||{}).blotName==="list"&&(Ue+=1),Oe=Oe.parentNode;return Ue<=0?be:be.compose(new v.default().retain(be.length()-1).retain(1,{indent:Ue}))}function Xe(Ie,be){return se(be,`
`)||(Y(Ie)||be.length()>0&&Ie.nextSibling&&Y(Ie.nextSibling))&&be.insert(`
`),be}function yt(Ie,be){if(Y(Ie)&&Ie.nextElementSibling!=null&&!se(be,`

`)){var Ve=Ie.offsetHeight+parseFloat(ue(Ie).marginTop)+parseFloat(ue(Ie).marginBottom);Ie.nextElementSibling.offsetTop>Ie.offsetTop+Ve*1.5&&be.insert(`
`)}return be}function mn(Ie,be){var Ve={},Ue=Ie.style||{};return Ue.fontStyle&&ue(Ie).fontStyle==="italic"&&(Ve.italic=!0),Ue.fontWeight&&(ue(Ie).fontWeight.startsWith("bold")||parseInt(ue(Ie).fontWeight)>=700)&&(Ve.bold=!0),Object.keys(Ve).length>0&&(be=Z(be,Ve)),parseFloat(Ue.textIndent||0)>0&&(be=new v.default().insert("	").concat(be)),be}function Ot(Ie,be){var Ve=Ie.data;if(Ie.parentNode.tagName==="O:P")return be.insert(Ve.trim());if(Ve.trim().length===0&&Ie.parentNode.classList.contains("ql-clipboard"))return be;if(!ue(Ie.parentNode).whiteSpace.startsWith("pre")){var Ue=function(st,lt){return lt=lt.replace(/[^\u00a0]/g,""),lt.length<1&&st?" ":lt};Ve=Ve.replace(/\r\n/g," ").replace(/\n/g," "),Ve=Ve.replace(/\s\s+/g,Ue.bind(Ue,!0)),(Ie.previousSibling==null&&Y(Ie.parentNode)||Ie.previousSibling!=null&&Y(Ie.previousSibling))&&(Ve=Ve.replace(/^\s+/,Ue.bind(Ue,!1))),(Ie.nextSibling==null&&Y(Ie.parentNode)||Ie.nextSibling!=null&&Y(Ie.nextSibling))&&(Ve=Ve.replace(/\s+$/,Ue.bind(Ue,!1)))}return be.insert(Ve)}r.default=W,r.matchAttributor=me,r.matchBlot=Se,r.matchNewline=Xe,r.matchSpacing=yt,r.matchText=Ot},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var l=function(){function P(S,A){for(var b=0;b<A.length;b++){var R=A[b];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(S,R.key,R)}}return function(S,A,b){return A&&P(S.prototype,A),b&&P(S,b),S}}(),f=function P(S,A,b){S===null&&(S=Function.prototype);var R=Object.getOwnPropertyDescriptor(S,A);if(R===void 0){var M=Object.getPrototypeOf(S);return M===null?void 0:P(M,A,b)}else{if("value"in R)return R.value;var I=R.get;return I===void 0?void 0:I.call(b)}},p=o(6),g=E(p);function E(P){return P&&P.__esModule?P:{default:P}}function w(P,S){if(!(P instanceof S))throw new TypeError("Cannot call a class as a function")}function v(P,S){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:P}function y(P,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);P.prototype=Object.create(S&&S.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(P,S):P.__proto__=S)}var _=function(P){y(S,P);function S(){return w(this,S),v(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return l(S,[{key:"optimize",value:function(b){f(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"optimize",this).call(this,b),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return f(S.__proto__||Object.getPrototypeOf(S),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),S}(g.default);_.blotName="bold",_.tagName=["STRONG","B"],r.default=_},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var l=function(){function k(U,V){var J=[],ee=!0,fe=!1,ce=void 0;try{for(var de=U[Symbol.iterator](),re;!(ee=(re=de.next()).done)&&(J.push(re.value),!(V&&J.length===V));ee=!0);}catch(X){fe=!0,ce=X}finally{try{!ee&&de.return&&de.return()}finally{if(fe)throw ce}}return J}return function(U,V){if(Array.isArray(U))return U;if(Symbol.iterator in Object(U))return k(U,V);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(){function k(U,V){for(var J=0;J<V.length;J++){var ee=V[J];ee.enumerable=ee.enumerable||!1,ee.configurable=!0,"value"in ee&&(ee.writable=!0),Object.defineProperty(U,ee.key,ee)}}return function(U,V,J){return V&&k(U.prototype,V),J&&k(U,J),U}}(),p=o(2),g=b(p),E=o(0),w=b(E),v=o(5),y=b(v),_=o(10),P=b(_),S=o(9),A=b(S);function b(k){return k&&k.__esModule?k:{default:k}}function R(k,U,V){return U in k?Object.defineProperty(k,U,{value:V,enumerable:!0,configurable:!0,writable:!0}):k[U]=V,k}function M(k,U){if(!(k instanceof U))throw new TypeError("Cannot call a class as a function")}function I(k,U){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U&&(typeof U=="object"||typeof U=="function")?U:k}function q(k,U){if(typeof U!="function"&&U!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof U);k.prototype=Object.create(U&&U.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf(k,U):k.__proto__=U)}var $=(0,P.default)("quill:toolbar"),L=function(k){q(U,k);function U(V,J){M(this,U);var ee=I(this,(U.__proto__||Object.getPrototypeOf(U)).call(this,V,J));if(Array.isArray(ee.options.container)){var fe=document.createElement("div");F(fe,ee.options.container),V.container.parentNode.insertBefore(fe,V.container),ee.container=fe}else typeof ee.options.container=="string"?ee.container=document.querySelector(ee.options.container):ee.container=ee.options.container;if(!(ee.container instanceof HTMLElement)){var ce;return ce=$.error("Container required for toolbar",ee.options),I(ee,ce)}return ee.container.classList.add("ql-toolbar"),ee.controls=[],ee.handlers={},Object.keys(ee.options.handlers).forEach(function(de){ee.addHandler(de,ee.options.handlers[de])}),[].forEach.call(ee.container.querySelectorAll("button, select"),function(de){ee.attach(de)}),ee.quill.on(y.default.events.EDITOR_CHANGE,function(de,re){de===y.default.events.SELECTION_CHANGE&&ee.update(re)}),ee.quill.on(y.default.events.SCROLL_OPTIMIZE,function(){var de=ee.quill.selection.getRange(),re=l(de,1),X=re[0];ee.update(X)}),ee}return f(U,[{key:"addHandler",value:function(J,ee){this.handlers[J]=ee}},{key:"attach",value:function(J){var ee=this,fe=[].find.call(J.classList,function(de){return de.indexOf("ql-")===0});if(fe){if(fe=fe.slice(3),J.tagName==="BUTTON"&&J.setAttribute("type","button"),this.handlers[fe]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[fe]==null){$.warn("ignoring attaching to disabled format",fe,J);return}if(w.default.query(fe)==null){$.warn("ignoring attaching to nonexistent format",fe,J);return}}var ce=J.tagName==="SELECT"?"change":"click";J.addEventListener(ce,function(de){var re=void 0;if(J.tagName==="SELECT"){if(J.selectedIndex<0)return;var X=J.options[J.selectedIndex];X.hasAttribute("selected")?re=!1:re=X.value||!1}else J.classList.contains("ql-active")?re=!1:re=J.value||!J.hasAttribute("value"),de.preventDefault();ee.quill.focus();var B=ee.quill.selection.getRange(),W=l(B,1),Z=W[0];if(ee.handlers[fe]!=null)ee.handlers[fe].call(ee,re);else if(w.default.query(fe).prototype instanceof w.default.Embed){if(re=prompt("Enter "+fe),!re)return;ee.quill.updateContents(new g.default().retain(Z.index).delete(Z.length).insert(R({},fe,re)),y.default.sources.USER)}else ee.quill.format(fe,re,y.default.sources.USER);ee.update(Z)}),this.controls.push([fe,J])}}},{key:"update",value:function(J){var ee=J==null?{}:this.quill.getFormat(J);this.controls.forEach(function(fe){var ce=l(fe,2),de=ce[0],re=ce[1];if(re.tagName==="SELECT"){var X=void 0;if(J==null)X=null;else if(ee[de]==null)X=re.querySelector("option[selected]");else if(!Array.isArray(ee[de])){var B=ee[de];typeof B=="string"&&(B=B.replace(/\"/g,'\\"')),X=re.querySelector('option[value="'+B+'"]')}X==null?(re.value="",re.selectedIndex=-1):X.selected=!0}else if(J==null)re.classList.remove("ql-active");else if(re.hasAttribute("value")){var W=ee[de]===re.getAttribute("value")||ee[de]!=null&&ee[de].toString()===re.getAttribute("value")||ee[de]==null&&!re.getAttribute("value");re.classList.toggle("ql-active",W)}else re.classList.toggle("ql-active",ee[de]!=null)})}}]),U}(A.default);L.DEFAULTS={};function O(k,U,V){var J=document.createElement("button");J.setAttribute("type","button"),J.classList.add("ql-"+U),V!=null&&(J.value=V),k.appendChild(J)}function F(k,U){Array.isArray(U[0])||(U=[U]),U.forEach(function(V){var J=document.createElement("span");J.classList.add("ql-formats"),V.forEach(function(ee){if(typeof ee=="string")O(J,ee);else{var fe=Object.keys(ee)[0],ce=ee[fe];Array.isArray(ce)?D(J,fe,ce):O(J,fe,ce)}}),k.appendChild(J)})}function D(k,U,V){var J=document.createElement("select");J.classList.add("ql-"+U),V.forEach(function(ee){var fe=document.createElement("option");ee!==!1?fe.setAttribute("value",ee):fe.setAttribute("selected","selected"),J.appendChild(fe)}),k.appendChild(J)}L.DEFAULTS={container:null,handlers:{clean:function(){var U=this,V=this.quill.getSelection();if(V!=null)if(V.length==0){var J=this.quill.getFormat();Object.keys(J).forEach(function(ee){w.default.query(ee,w.default.Scope.INLINE)!=null&&U.quill.format(ee,!1)})}else this.quill.removeFormat(V,y.default.sources.USER)},direction:function(U){var V=this.quill.getFormat().align;U==="rtl"&&V==null?this.quill.format("align","right",y.default.sources.USER):!U&&V==="right"&&this.quill.format("align",!1,y.default.sources.USER),this.quill.format("direction",U,y.default.sources.USER)},indent:function(U){var V=this.quill.getSelection(),J=this.quill.getFormat(V),ee=parseInt(J.indent||0);if(U==="+1"||U==="-1"){var fe=U==="+1"?1:-1;J.direction==="rtl"&&(fe*=-1),this.quill.format("indent",ee+fe,y.default.sources.USER)}},link:function(U){U===!0&&(U=prompt("Enter link URL:")),this.quill.format("link",U,y.default.sources.USER)},list:function(U){var V=this.quill.getSelection(),J=this.quill.getFormat(V);U==="check"?J.list==="checked"||J.list==="unchecked"?this.quill.format("list",!1,y.default.sources.USER):this.quill.format("list","unchecked",y.default.sources.USER):this.quill.format("list",U,y.default.sources.USER)}}},r.default=L,r.addControls=F},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var l=function(){function P(S,A){for(var b=0;b<A.length;b++){var R=A[b];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(S,R.key,R)}}return function(S,A,b){return A&&P(S.prototype,A),b&&P(S,b),S}}(),f=function P(S,A,b){S===null&&(S=Function.prototype);var R=Object.getOwnPropertyDescriptor(S,A);if(R===void 0){var M=Object.getPrototypeOf(S);return M===null?void 0:P(M,A,b)}else{if("value"in R)return R.value;var I=R.get;return I===void 0?void 0:I.call(b)}},p=o(28),g=E(p);function E(P){return P&&P.__esModule?P:{default:P}}function w(P,S){if(!(P instanceof S))throw new TypeError("Cannot call a class as a function")}function v(P,S){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:P}function y(P,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);P.prototype=Object.create(S&&S.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(P,S):P.__proto__=S)}var _=function(P){y(S,P);function S(A,b){w(this,S);var R=v(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,A));return R.label.innerHTML=b,R.container.classList.add("ql-color-picker"),[].slice.call(R.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(M){M.classList.add("ql-primary")}),R}return l(S,[{key:"buildItem",value:function(b){var R=f(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"buildItem",this).call(this,b);return R.style.backgroundColor=b.getAttribute("value")||"",R}},{key:"selectItem",value:function(b,R){f(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"selectItem",this).call(this,b,R);var M=this.label.querySelector(".ql-color-label"),I=b&&b.getAttribute("data-value")||"";M&&(M.tagName==="line"?M.style.stroke=I:M.style.fill=I)}}]),S}(g.default);r.default=_},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var l=function(){function P(S,A){for(var b=0;b<A.length;b++){var R=A[b];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(S,R.key,R)}}return function(S,A,b){return A&&P(S.prototype,A),b&&P(S,b),S}}(),f=function P(S,A,b){S===null&&(S=Function.prototype);var R=Object.getOwnPropertyDescriptor(S,A);if(R===void 0){var M=Object.getPrototypeOf(S);return M===null?void 0:P(M,A,b)}else{if("value"in R)return R.value;var I=R.get;return I===void 0?void 0:I.call(b)}},p=o(28),g=E(p);function E(P){return P&&P.__esModule?P:{default:P}}function w(P,S){if(!(P instanceof S))throw new TypeError("Cannot call a class as a function")}function v(P,S){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:P}function y(P,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);P.prototype=Object.create(S&&S.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(P,S):P.__proto__=S)}var _=function(P){y(S,P);function S(A,b){w(this,S);var R=v(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,A));return R.container.classList.add("ql-icon-picker"),[].forEach.call(R.container.querySelectorAll(".ql-picker-item"),function(M){M.innerHTML=b[M.getAttribute("data-value")||""]}),R.defaultItem=R.container.querySelector(".ql-selected"),R.selectItem(R.defaultItem),R}return l(S,[{key:"selectItem",value:function(b,R){f(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"selectItem",this).call(this,b,R),b=b||this.defaultItem,this.label.innerHTML=b.innerHTML}}]),S}(g.default);r.default=_},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var l=function(){function g(E,w){for(var v=0;v<w.length;v++){var y=w[v];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(E,y.key,y)}}return function(E,w,v){return w&&g(E.prototype,w),v&&g(E,v),E}}();function f(g,E){if(!(g instanceof E))throw new TypeError("Cannot call a class as a function")}var p=function(){function g(E,w){var v=this;f(this,g),this.quill=E,this.boundsContainer=w||document.body,this.root=E.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){v.root.style.marginTop=-1*v.quill.root.scrollTop+"px"}),this.hide()}return l(g,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(w){var v=w.left+w.width/2-this.root.offsetWidth/2,y=w.bottom+this.quill.root.scrollTop;this.root.style.left=v+"px",this.root.style.top=y+"px",this.root.classList.remove("ql-flip");var _=this.boundsContainer.getBoundingClientRect(),P=this.root.getBoundingClientRect(),S=0;if(P.right>_.right&&(S=_.right-P.right,this.root.style.left=v+S+"px"),P.left<_.left&&(S=_.left-P.left,this.root.style.left=v+S+"px"),P.bottom>_.bottom){var A=P.bottom-P.top,b=w.bottom-w.top+A;this.root.style.top=y-b+"px",this.root.classList.add("ql-flip")}return S}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),g}();r.default=p},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var l=function(){function D(k,U){var V=[],J=!0,ee=!1,fe=void 0;try{for(var ce=k[Symbol.iterator](),de;!(J=(de=ce.next()).done)&&(V.push(de.value),!(U&&V.length===U));J=!0);}catch(re){ee=!0,fe=re}finally{try{!J&&ce.return&&ce.return()}finally{if(ee)throw fe}}return V}return function(k,U){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return D(k,U);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function D(k,U,V){k===null&&(k=Function.prototype);var J=Object.getOwnPropertyDescriptor(k,U);if(J===void 0){var ee=Object.getPrototypeOf(k);return ee===null?void 0:D(ee,U,V)}else{if("value"in J)return J.value;var fe=J.get;return fe===void 0?void 0:fe.call(V)}},p=function(){function D(k,U){for(var V=0;V<U.length;V++){var J=U[V];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(k,J.key,J)}}return function(k,U,V){return U&&D(k.prototype,U),V&&D(k,V),k}}(),g=o(3),E=M(g),w=o(8),v=M(w),y=o(43),_=M(y),P=o(27),S=M(P),A=o(15),b=o(41),R=M(b);function M(D){return D&&D.__esModule?D:{default:D}}function I(D,k){if(!(D instanceof k))throw new TypeError("Cannot call a class as a function")}function q(D,k){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:D}function $(D,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);D.prototype=Object.create(k&&k.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(D,k):D.__proto__=k)}var L=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],O=function(D){$(k,D);function k(U,V){I(this,k),V.modules.toolbar!=null&&V.modules.toolbar.container==null&&(V.modules.toolbar.container=L);var J=q(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,U,V));return J.quill.container.classList.add("ql-snow"),J}return p(k,[{key:"extendToolbar",value:function(V){V.container.classList.add("ql-snow"),this.buildButtons([].slice.call(V.container.querySelectorAll("button")),R.default),this.buildPickers([].slice.call(V.container.querySelectorAll("select")),R.default),this.tooltip=new F(this.quill,this.options.bounds),V.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(J,ee){V.handlers.link.call(V,!ee.format.link)})}}]),k}(_.default);O.DEFAULTS=(0,E.default)(!0,{},_.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(k){if(k){var U=this.quill.getSelection();if(U==null||U.length==0)return;var V=this.quill.getText(U);/^\S+@\S+\.\S+$/.test(V)&&V.indexOf("mailto:")!==0&&(V="mailto:"+V);var J=this.quill.theme.tooltip;J.edit("link",V)}else this.quill.format("link",!1)}}}}});var F=function(D){$(k,D);function k(U,V){I(this,k);var J=q(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,U,V));return J.preview=J.root.querySelector("a.ql-preview"),J}return p(k,[{key:"listen",value:function(){var V=this;f(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(J){V.root.classList.contains("ql-editing")?V.save():V.edit("link",V.preview.textContent),J.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(J){if(V.linkRange!=null){var ee=V.linkRange;V.restoreFocus(),V.quill.formatText(ee,"link",!1,v.default.sources.USER),delete V.linkRange}J.preventDefault(),V.hide()}),this.quill.on(v.default.events.SELECTION_CHANGE,function(J,ee,fe){if(J!=null){if(J.length===0&&fe===v.default.sources.USER){var ce=V.quill.scroll.descendant(S.default,J.index),de=l(ce,2),re=de[0],X=de[1];if(re!=null){V.linkRange=new A.Range(J.index-X,re.length());var B=S.default.formats(re.domNode);V.preview.textContent=B,V.preview.setAttribute("href",B),V.show(),V.position(V.quill.getBounds(V.linkRange));return}}else delete V.linkRange;V.hide()}})}},{key:"show",value:function(){f(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),k}(y.BaseTooltip);F.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=O},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var l=o(29),f=Oe(l),p=o(36),g=o(38),E=o(64),w=o(65),v=Oe(w),y=o(66),_=Oe(y),P=o(67),S=Oe(P),A=o(37),b=o(26),R=o(39),M=o(40),I=o(56),q=Oe(I),$=o(68),L=Oe($),O=o(27),F=Oe(O),D=o(69),k=Oe(D),U=o(70),V=Oe(U),J=o(71),ee=Oe(J),fe=o(72),ce=Oe(fe),de=o(73),re=Oe(de),X=o(13),B=Oe(X),W=o(74),Z=Oe(W),ue=o(75),se=Oe(ue),Y=o(57),ie=Oe(Y),pe=o(41),me=Oe(pe),Se=o(28),qe=Oe(Se),Ye=o(59),Je=Oe(Ye),Xe=o(60),yt=Oe(Xe),mn=o(61),Ot=Oe(mn),Ie=o(108),be=Oe(Ie),Ve=o(62),Ue=Oe(Ve);function Oe(st){return st&&st.__esModule?st:{default:st}}f.default.register({"attributors/attribute/direction":g.DirectionAttribute,"attributors/class/align":p.AlignClass,"attributors/class/background":A.BackgroundClass,"attributors/class/color":b.ColorClass,"attributors/class/direction":g.DirectionClass,"attributors/class/font":R.FontClass,"attributors/class/size":M.SizeClass,"attributors/style/align":p.AlignStyle,"attributors/style/background":A.BackgroundStyle,"attributors/style/color":b.ColorStyle,"attributors/style/direction":g.DirectionStyle,"attributors/style/font":R.FontStyle,"attributors/style/size":M.SizeStyle},!0),f.default.register({"formats/align":p.AlignClass,"formats/direction":g.DirectionClass,"formats/indent":E.IndentClass,"formats/background":A.BackgroundStyle,"formats/color":b.ColorStyle,"formats/font":R.FontClass,"formats/size":M.SizeClass,"formats/blockquote":v.default,"formats/code-block":B.default,"formats/header":_.default,"formats/list":S.default,"formats/bold":q.default,"formats/code":X.Code,"formats/italic":L.default,"formats/link":F.default,"formats/script":k.default,"formats/strike":V.default,"formats/underline":ee.default,"formats/image":ce.default,"formats/video":re.default,"formats/list/item":P.ListItem,"modules/formula":Z.default,"modules/syntax":se.default,"modules/toolbar":ie.default,"themes/bubble":be.default,"themes/snow":Ue.default,"ui/icons":me.default,"ui/picker":qe.default,"ui/icon-picker":yt.default,"ui/color-picker":Je.default,"ui/tooltip":Ot.default},!0),r.default=f.default},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var l=function(){function S(A,b){for(var R=0;R<b.length;R++){var M=b[R];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(A,M.key,M)}}return function(A,b,R){return b&&S(A.prototype,b),R&&S(A,R),A}}(),f=function S(A,b,R){A===null&&(A=Function.prototype);var M=Object.getOwnPropertyDescriptor(A,b);if(M===void 0){var I=Object.getPrototypeOf(A);return I===null?void 0:S(I,b,R)}else{if("value"in M)return M.value;var q=M.get;return q===void 0?void 0:q.call(R)}},p=o(0),g=E(p);function E(S){return S&&S.__esModule?S:{default:S}}function w(S,A){if(!(S instanceof A))throw new TypeError("Cannot call a class as a function")}function v(S,A){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:S}function y(S,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);S.prototype=Object.create(A&&A.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(S,A):S.__proto__=A)}var _=function(S){y(A,S);function A(){return w(this,A),v(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return l(A,[{key:"add",value:function(R,M){if(M==="+1"||M==="-1"){var I=this.value(R)||0;M=M==="+1"?I+1:I-1}return M===0?(this.remove(R),!0):f(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"add",this).call(this,R,M)}},{key:"canAdd",value:function(R,M){return f(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"canAdd",this).call(this,R,M)||f(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"canAdd",this).call(this,R,parseInt(M))}},{key:"value",value:function(R){return parseInt(f(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"value",this).call(this,R))||void 0}}]),A}(g.default.Attributor.Class),P=new _("indent","ql-indent",{scope:g.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=P},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var l=o(4),f=p(l);function p(y){return y&&y.__esModule?y:{default:y}}function g(y,_){if(!(y instanceof _))throw new TypeError("Cannot call a class as a function")}function E(y,_){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:y}function w(y,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);y.prototype=Object.create(_&&_.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(y,_):y.__proto__=_)}var v=function(y){w(_,y);function _(){return g(this,_),E(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return _}(f.default);v.blotName="blockquote",v.tagName="blockquote",r.default=v},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var l=function(){function _(P,S){for(var A=0;A<S.length;A++){var b=S[A];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(P,b.key,b)}}return function(P,S,A){return S&&_(P.prototype,S),A&&_(P,A),P}}(),f=o(4),p=g(f);function g(_){return _&&_.__esModule?_:{default:_}}function E(_,P){if(!(_ instanceof P))throw new TypeError("Cannot call a class as a function")}function w(_,P){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:_}function v(_,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);_.prototype=Object.create(P&&P.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(_,P):_.__proto__=P)}var y=function(_){v(P,_);function P(){return E(this,P),w(this,(P.__proto__||Object.getPrototypeOf(P)).apply(this,arguments))}return l(P,null,[{key:"formats",value:function(A){return this.tagName.indexOf(A.tagName)+1}}]),P}(p.default);y.blotName="header",y.tagName=["H1","H2","H3","H4","H5","H6"],r.default=y},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var l=function(){function I(q,$){for(var L=0;L<$.length;L++){var O=$[L];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(q,O.key,O)}}return function(q,$,L){return $&&I(q.prototype,$),L&&I(q,L),q}}(),f=function I(q,$,L){q===null&&(q=Function.prototype);var O=Object.getOwnPropertyDescriptor(q,$);if(O===void 0){var F=Object.getPrototypeOf(q);return F===null?void 0:I(F,$,L)}else{if("value"in O)return O.value;var D=O.get;return D===void 0?void 0:D.call(L)}},p=o(0),g=_(p),E=o(4),w=_(E),v=o(25),y=_(v);function _(I){return I&&I.__esModule?I:{default:I}}function P(I,q,$){return q in I?Object.defineProperty(I,q,{value:$,enumerable:!0,configurable:!0,writable:!0}):I[q]=$,I}function S(I,q){if(!(I instanceof q))throw new TypeError("Cannot call a class as a function")}function A(I,q){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return q&&(typeof q=="object"||typeof q=="function")?q:I}function b(I,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof q);I.prototype=Object.create(q&&q.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),q&&(Object.setPrototypeOf?Object.setPrototypeOf(I,q):I.__proto__=q)}var R=function(I){b(q,I);function q(){return S(this,q),A(this,(q.__proto__||Object.getPrototypeOf(q)).apply(this,arguments))}return l(q,[{key:"format",value:function(L,O){L===M.blotName&&!O?this.replaceWith(g.default.create(this.statics.scope)):f(q.prototype.__proto__||Object.getPrototypeOf(q.prototype),"format",this).call(this,L,O)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():f(q.prototype.__proto__||Object.getPrototypeOf(q.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(L,O){return this.parent.isolate(this.offset(this.parent),this.length()),L===this.parent.statics.blotName?(this.parent.replaceWith(L,O),this):(this.parent.unwrap(),f(q.prototype.__proto__||Object.getPrototypeOf(q.prototype),"replaceWith",this).call(this,L,O))}}],[{key:"formats",value:function(L){return L.tagName===this.tagName?void 0:f(q.__proto__||Object.getPrototypeOf(q),"formats",this).call(this,L)}}]),q}(w.default);R.blotName="list-item",R.tagName="LI";var M=function(I){b(q,I),l(q,null,[{key:"create",value:function(L){var O=L==="ordered"?"OL":"UL",F=f(q.__proto__||Object.getPrototypeOf(q),"create",this).call(this,O);return(L==="checked"||L==="unchecked")&&F.setAttribute("data-checked",L==="checked"),F}},{key:"formats",value:function(L){if(L.tagName==="OL")return"ordered";if(L.tagName==="UL")return L.hasAttribute("data-checked")?L.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function q($){S(this,q);var L=A(this,(q.__proto__||Object.getPrototypeOf(q)).call(this,$)),O=function(D){if(D.target.parentNode===$){var k=L.statics.formats($),U=g.default.find(D.target);k==="checked"?U.format("list","unchecked"):k==="unchecked"&&U.format("list","checked")}};return $.addEventListener("touchstart",O),$.addEventListener("mousedown",O),L}return l(q,[{key:"format",value:function(L,O){this.children.length>0&&this.children.tail.format(L,O)}},{key:"formats",value:function(){return P({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(L,O){if(L instanceof R)f(q.prototype.__proto__||Object.getPrototypeOf(q.prototype),"insertBefore",this).call(this,L,O);else{var F=O==null?this.length():O.offset(this),D=this.split(F);D.parent.insertBefore(L,D)}}},{key:"optimize",value:function(L){f(q.prototype.__proto__||Object.getPrototypeOf(q.prototype),"optimize",this).call(this,L);var O=this.next;O!=null&&O.prev===this&&O.statics.blotName===this.statics.blotName&&O.domNode.tagName===this.domNode.tagName&&O.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(O.moveChildren(this),O.remove())}},{key:"replace",value:function(L){if(L.statics.blotName!==this.statics.blotName){var O=g.default.create(this.statics.defaultChild);L.moveChildren(O),this.appendChild(O)}f(q.prototype.__proto__||Object.getPrototypeOf(q.prototype),"replace",this).call(this,L)}}]),q}(y.default);M.blotName="list",M.scope=g.default.Scope.BLOCK_BLOT,M.tagName=["OL","UL"],M.defaultChild="list-item",M.allowedChildren=[R],r.ListItem=R,r.default=M},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var l=o(56),f=p(l);function p(y){return y&&y.__esModule?y:{default:y}}function g(y,_){if(!(y instanceof _))throw new TypeError("Cannot call a class as a function")}function E(y,_){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:y}function w(y,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);y.prototype=Object.create(_&&_.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(y,_):y.__proto__=_)}var v=function(y){w(_,y);function _(){return g(this,_),E(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return _}(f.default);v.blotName="italic",v.tagName=["EM","I"],r.default=v},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var l=function(){function P(S,A){for(var b=0;b<A.length;b++){var R=A[b];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(S,R.key,R)}}return function(S,A,b){return A&&P(S.prototype,A),b&&P(S,b),S}}(),f=function P(S,A,b){S===null&&(S=Function.prototype);var R=Object.getOwnPropertyDescriptor(S,A);if(R===void 0){var M=Object.getPrototypeOf(S);return M===null?void 0:P(M,A,b)}else{if("value"in R)return R.value;var I=R.get;return I===void 0?void 0:I.call(b)}},p=o(6),g=E(p);function E(P){return P&&P.__esModule?P:{default:P}}function w(P,S){if(!(P instanceof S))throw new TypeError("Cannot call a class as a function")}function v(P,S){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:P}function y(P,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);P.prototype=Object.create(S&&S.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(P,S):P.__proto__=S)}var _=function(P){y(S,P);function S(){return w(this,S),v(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return l(S,null,[{key:"create",value:function(b){return b==="super"?document.createElement("sup"):b==="sub"?document.createElement("sub"):f(S.__proto__||Object.getPrototypeOf(S),"create",this).call(this,b)}},{key:"formats",value:function(b){if(b.tagName==="SUB")return"sub";if(b.tagName==="SUP")return"super"}}]),S}(g.default);_.blotName="script",_.tagName=["SUB","SUP"],r.default=_},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var l=o(6),f=p(l);function p(y){return y&&y.__esModule?y:{default:y}}function g(y,_){if(!(y instanceof _))throw new TypeError("Cannot call a class as a function")}function E(y,_){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:y}function w(y,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);y.prototype=Object.create(_&&_.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(y,_):y.__proto__=_)}var v=function(y){w(_,y);function _(){return g(this,_),E(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return _}(f.default);v.blotName="strike",v.tagName="S",r.default=v},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var l=o(6),f=p(l);function p(y){return y&&y.__esModule?y:{default:y}}function g(y,_){if(!(y instanceof _))throw new TypeError("Cannot call a class as a function")}function E(y,_){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:y}function w(y,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);y.prototype=Object.create(_&&_.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(y,_):y.__proto__=_)}var v=function(y){w(_,y);function _(){return g(this,_),E(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return _}(f.default);v.blotName="underline",v.tagName="U",r.default=v},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var l=function(){function A(b,R){for(var M=0;M<R.length;M++){var I=R[M];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(b,I.key,I)}}return function(b,R,M){return R&&A(b.prototype,R),M&&A(b,M),b}}(),f=function A(b,R,M){b===null&&(b=Function.prototype);var I=Object.getOwnPropertyDescriptor(b,R);if(I===void 0){var q=Object.getPrototypeOf(b);return q===null?void 0:A(q,R,M)}else{if("value"in I)return I.value;var $=I.get;return $===void 0?void 0:$.call(M)}},p=o(0),g=w(p),E=o(27);function w(A){return A&&A.__esModule?A:{default:A}}function v(A,b){if(!(A instanceof b))throw new TypeError("Cannot call a class as a function")}function y(A,b){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:A}function _(A,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);A.prototype=Object.create(b&&b.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(A,b):A.__proto__=b)}var P=["alt","height","width"],S=function(A){_(b,A);function b(){return v(this,b),y(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return l(b,[{key:"format",value:function(M,I){P.indexOf(M)>-1?I?this.domNode.setAttribute(M,I):this.domNode.removeAttribute(M):f(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,M,I)}}],[{key:"create",value:function(M){var I=f(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,M);return typeof M=="string"&&I.setAttribute("src",this.sanitize(M)),I}},{key:"formats",value:function(M){return P.reduce(function(I,q){return M.hasAttribute(q)&&(I[q]=M.getAttribute(q)),I},{})}},{key:"match",value:function(M){return/\.(jpe?g|gif|png)$/.test(M)||/^data:image\/.+;base64/.test(M)}},{key:"sanitize",value:function(M){return(0,E.sanitize)(M,["http","https","data"])?M:"//:0"}},{key:"value",value:function(M){return M.getAttribute("src")}}]),b}(g.default.Embed);S.blotName="image",S.tagName="IMG",r.default=S},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var l=function(){function A(b,R){for(var M=0;M<R.length;M++){var I=R[M];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(b,I.key,I)}}return function(b,R,M){return R&&A(b.prototype,R),M&&A(b,M),b}}(),f=function A(b,R,M){b===null&&(b=Function.prototype);var I=Object.getOwnPropertyDescriptor(b,R);if(I===void 0){var q=Object.getPrototypeOf(b);return q===null?void 0:A(q,R,M)}else{if("value"in I)return I.value;var $=I.get;return $===void 0?void 0:$.call(M)}},p=o(4),g=o(27),E=w(g);function w(A){return A&&A.__esModule?A:{default:A}}function v(A,b){if(!(A instanceof b))throw new TypeError("Cannot call a class as a function")}function y(A,b){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:A}function _(A,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);A.prototype=Object.create(b&&b.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(A,b):A.__proto__=b)}var P=["height","width"],S=function(A){_(b,A);function b(){return v(this,b),y(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return l(b,[{key:"format",value:function(M,I){P.indexOf(M)>-1?I?this.domNode.setAttribute(M,I):this.domNode.removeAttribute(M):f(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,M,I)}}],[{key:"create",value:function(M){var I=f(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,M);return I.setAttribute("frameborder","0"),I.setAttribute("allowfullscreen",!0),I.setAttribute("src",this.sanitize(M)),I}},{key:"formats",value:function(M){return P.reduce(function(I,q){return M.hasAttribute(q)&&(I[q]=M.getAttribute(q)),I},{})}},{key:"sanitize",value:function(M){return E.default.sanitize(M)}},{key:"value",value:function(M){return M.getAttribute("src")}}]),b}(p.BlockEmbed);S.blotName="video",S.className="ql-video",S.tagName="IFRAME",r.default=S},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var l=function(){function M(I,q){for(var $=0;$<q.length;$++){var L=q[$];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(I,L.key,L)}}return function(I,q,$){return q&&M(I.prototype,q),$&&M(I,$),I}}(),f=function M(I,q,$){I===null&&(I=Function.prototype);var L=Object.getOwnPropertyDescriptor(I,q);if(L===void 0){var O=Object.getPrototypeOf(I);return O===null?void 0:M(O,q,$)}else{if("value"in L)return L.value;var F=L.get;return F===void 0?void 0:F.call($)}},p=o(35),g=_(p),E=o(5),w=_(E),v=o(9),y=_(v);function _(M){return M&&M.__esModule?M:{default:M}}function P(M,I){if(!(M instanceof I))throw new TypeError("Cannot call a class as a function")}function S(M,I){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:M}function A(M,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);M.prototype=Object.create(I&&I.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(M,I):M.__proto__=I)}var b=function(M){A(I,M);function I(){return P(this,I),S(this,(I.__proto__||Object.getPrototypeOf(I)).apply(this,arguments))}return l(I,null,[{key:"create",value:function($){var L=f(I.__proto__||Object.getPrototypeOf(I),"create",this).call(this,$);return typeof $=="string"&&(window.katex.render($,L,{throwOnError:!1,errorColor:"#f00"}),L.setAttribute("data-value",$)),L}},{key:"value",value:function($){return $.getAttribute("data-value")}}]),I}(g.default);b.blotName="formula",b.className="ql-formula",b.tagName="SPAN";var R=function(M){A(I,M),l(I,null,[{key:"register",value:function(){w.default.register(b,!0)}}]);function I(){P(this,I);var q=S(this,(I.__proto__||Object.getPrototypeOf(I)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return q}return I}(y.default);r.FormulaBlot=b,r.default=R},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var l=function(){function $(L,O){for(var F=0;F<O.length;F++){var D=O[F];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(L,D.key,D)}}return function(L,O,F){return O&&$(L.prototype,O),F&&$(L,F),L}}(),f=function $(L,O,F){L===null&&(L=Function.prototype);var D=Object.getOwnPropertyDescriptor(L,O);if(D===void 0){var k=Object.getPrototypeOf(L);return k===null?void 0:$(k,O,F)}else{if("value"in D)return D.value;var U=D.get;return U===void 0?void 0:U.call(F)}},p=o(0),g=S(p),E=o(5),w=S(E),v=o(9),y=S(v),_=o(13),P=S(_);function S($){return $&&$.__esModule?$:{default:$}}function A($,L){if(!($ instanceof L))throw new TypeError("Cannot call a class as a function")}function b($,L){if(!$)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L&&(typeof L=="object"||typeof L=="function")?L:$}function R($,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof L);$.prototype=Object.create(L&&L.prototype,{constructor:{value:$,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf($,L):$.__proto__=L)}var M=function($){R(L,$);function L(){return A(this,L),b(this,(L.__proto__||Object.getPrototypeOf(L)).apply(this,arguments))}return l(L,[{key:"replaceWith",value:function(F){this.domNode.textContent=this.domNode.textContent,this.attach(),f(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"replaceWith",this).call(this,F)}},{key:"highlight",value:function(F){var D=this.domNode.textContent;this.cachedText!==D&&((D.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=F(D),this.domNode.normalize(),this.attach()),this.cachedText=D)}}]),L}(P.default);M.className="ql-syntax";var I=new g.default.Attributor.Class("token","hljs",{scope:g.default.Scope.INLINE}),q=function($){R(L,$),l(L,null,[{key:"register",value:function(){w.default.register(I,!0),w.default.register(M,!0)}}]);function L(O,F){A(this,L);var D=b(this,(L.__proto__||Object.getPrototypeOf(L)).call(this,O,F));if(typeof D.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var k=null;return D.quill.on(w.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(k),k=setTimeout(function(){D.highlight(),k=null},D.options.interval)}),D.highlight(),D}return l(L,[{key:"highlight",value:function(){var F=this;if(!this.quill.selection.composing){this.quill.update(w.default.sources.USER);var D=this.quill.getSelection();this.quill.scroll.descendants(M).forEach(function(k){k.highlight(F.options.highlight)}),this.quill.update(w.default.sources.SILENT),D!=null&&this.quill.setSelection(D,w.default.sources.SILENT)}}}]),L}(y.default);q.DEFAULTS={highlight:function(){return window.hljs==null?null:function($){var L=window.hljs.highlightAuto($);return L.value}}(),interval:1e3},r.CodeBlock=M,r.CodeToken=I,r.default=q},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(t,r){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(t,r){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(t,r){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(t,r){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var l=function L(O,F,D){O===null&&(O=Function.prototype);var k=Object.getOwnPropertyDescriptor(O,F);if(k===void 0){var U=Object.getPrototypeOf(O);return U===null?void 0:L(U,F,D)}else{if("value"in k)return k.value;var V=k.get;return V===void 0?void 0:V.call(D)}},f=function(){function L(O,F){for(var D=0;D<F.length;D++){var k=F[D];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(O,k.key,k)}}return function(O,F,D){return F&&L(O.prototype,F),D&&L(O,D),O}}(),p=o(3),g=A(p),E=o(8),w=A(E),v=o(43),y=A(v),_=o(15),P=o(41),S=A(P);function A(L){return L&&L.__esModule?L:{default:L}}function b(L,O){if(!(L instanceof O))throw new TypeError("Cannot call a class as a function")}function R(L,O){if(!L)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:L}function M(L,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);L.prototype=Object.create(O&&O.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(L,O):L.__proto__=O)}var I=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],q=function(L){M(O,L);function O(F,D){b(this,O),D.modules.toolbar!=null&&D.modules.toolbar.container==null&&(D.modules.toolbar.container=I);var k=R(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,F,D));return k.quill.container.classList.add("ql-bubble"),k}return f(O,[{key:"extendToolbar",value:function(D){this.tooltip=new $(this.quill,this.options.bounds),this.tooltip.root.appendChild(D.container),this.buildButtons([].slice.call(D.container.querySelectorAll("button")),S.default),this.buildPickers([].slice.call(D.container.querySelectorAll("select")),S.default)}}]),O}(y.default);q.DEFAULTS=(0,g.default)(!0,{},y.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(O){O?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var $=function(L){M(O,L);function O(F,D){b(this,O);var k=R(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,F,D));return k.quill.on(w.default.events.EDITOR_CHANGE,function(U,V,J,ee){if(U===w.default.events.SELECTION_CHANGE)if(V!=null&&V.length>0&&ee===w.default.sources.USER){k.show(),k.root.style.left="0px",k.root.style.width="",k.root.style.width=k.root.offsetWidth+"px";var fe=k.quill.getLines(V.index,V.length);if(fe.length===1)k.position(k.quill.getBounds(V));else{var ce=fe[fe.length-1],de=k.quill.getIndex(ce),re=Math.min(ce.length()-1,V.index+V.length-de),X=k.quill.getBounds(new _.Range(de,re));k.position(X)}}else document.activeElement!==k.textbox&&k.quill.hasFocus()&&k.hide()}),k}return f(O,[{key:"listen",value:function(){var D=this;l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){D.root.classList.remove("ql-editing")}),this.quill.on(w.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!D.root.classList.contains("ql-hidden")){var k=D.quill.getSelection();k!=null&&D.position(D.quill.getBounds(k))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(D){var k=l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"position",this).call(this,D),U=this.root.querySelector(".ql-tooltip-arrow");if(U.style.marginLeft="",k===0)return k;U.style.marginLeft=-1*k-U.offsetWidth/2+"px"}}]),O}(v.BaseTooltip);$.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=$,r.default=q},function(t,r,o){t.exports=o(63)}]).default})}(Up)),Up.exports}var As,sw;function tL(){if(sw)return As;sw=1;var i=As&&As.__extends||function(){var w=function(v,y){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,P){_.__proto__=P}||function(_,P){for(var S in P)P.hasOwnProperty(S)&&(_[S]=P[S])},w(v,y)};return function(v,y){w(v,y);function _(){this.constructor=v}v.prototype=y===null?Object.create(y):(_.prototype=y.prototype,new _)}}(),e=As&&As.__assign||function(){return e=Object.assign||function(w){for(var v,y=1,_=arguments.length;y<_;y++){v=arguments[y];for(var P in v)Object.prototype.hasOwnProperty.call(v,P)&&(w[P]=v[P])}return w},e.apply(this,arguments)},t=As&&As.__spreadArrays||function(){for(var w=0,v=0,y=arguments.length;v<y;v++)w+=arguments[v].length;for(var _=Array(w),P=0,v=0;v<y;v++)for(var S=arguments[v],A=0,b=S.length;A<b;A++,P++)_[P]=S[A];return _},r=As&&As.__importDefault||function(w){return w&&w.__esModule?w:{default:w}},o=r(ag()),l=r(aw()),f=r(Jx()),p=r(eL()),g=function(w){i(v,w);function v(y){var _=w.call(this,y)||this;_.dirtyProps=["modules","formats","bounds","theme","children"],_.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],_.state={generation:0},_.selection=null,_.onEditorChange=function(S,A,b,R){var M,I,q,$;S==="text-change"?(I=(M=_).onEditorChangeText)===null||I===void 0||I.call(M,_.editor.root.innerHTML,A,R,_.unprivilegedEditor):S==="selection-change"&&(($=(q=_).onEditorChangeSelection)===null||$===void 0||$.call(q,A,R,_.unprivilegedEditor))};var P=_.isControlled()?y.value:y.defaultValue;return _.value=P??"",_}return v.prototype.validateProps=function(y){var _;if(o.default.Children.count(y.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(o.default.Children.count(y.children)){var P=o.default.Children.only(y.children);if(((_=P)===null||_===void 0?void 0:_.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&y.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},v.prototype.shouldComponentUpdate=function(y,_){var P=this,S;if(this.validateProps(y),!this.editor||this.state.generation!==_.generation)return!0;if("value"in y){var A=this.getEditorContents(),b=(S=y.value,S??"");this.isEqualValue(b,A)||this.setEditorContents(this.editor,b)}return y.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,y.readOnly),t(this.cleanProps,this.dirtyProps).some(function(R){return!f.default(y[R],P.props[R])})},v.prototype.shouldComponentRegenerate=function(y){var _=this;return this.dirtyProps.some(function(P){return!f.default(y[P],_.props[P])})},v.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},v.prototype.componentWillUnmount=function(){this.destroyEditor()},v.prototype.componentDidUpdate=function(y,_){var P=this;if(this.editor&&this.shouldComponentRegenerate(y)){var S=this.editor.getContents(),A=this.editor.getSelection();this.regenerationSnapshot={delta:S,selection:A},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==_.generation){var b=this.regenerationSnapshot,S=b.delta,R=b.selection;delete this.regenerationSnapshot,this.instantiateEditor();var M=this.editor;M.setContents(S),E(function(){return P.setEditorSelection(M,R)})}},v.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},v.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},v.prototype.isControlled=function(){return"value"in this.props},v.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},v.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},v.prototype.createEditor=function(y,_){var P=new p.default(y,_);return _.tabIndex!=null&&this.setEditorTabIndex(P,_.tabIndex),this.hookEditor(P),P},v.prototype.hookEditor=function(y){this.unprivilegedEditor=this.makeUnprivilegedEditor(y),y.on("editor-change",this.onEditorChange)},v.prototype.unhookEditor=function(y){y.off("editor-change",this.onEditorChange)},v.prototype.getEditorContents=function(){return this.value},v.prototype.getEditorSelection=function(){return this.selection},v.prototype.isDelta=function(y){return y&&y.ops},v.prototype.isEqualValue=function(y,_){return this.isDelta(y)&&this.isDelta(_)?f.default(y.ops,_.ops):f.default(y,_)},v.prototype.setEditorContents=function(y,_){var P=this;this.value=_;var S=this.getEditorSelection();typeof _=="string"?y.setContents(y.clipboard.convert(_)):y.setContents(_),E(function(){return P.setEditorSelection(y,S)})},v.prototype.setEditorSelection=function(y,_){if(this.selection=_,_){var P=y.getLength();_.index=Math.max(0,Math.min(_.index,P-1)),_.length=Math.max(0,Math.min(_.length,P-1-_.index)),y.setSelection(_)}},v.prototype.setEditorTabIndex=function(y,_){var P,S;!((S=(P=y)===null||P===void 0?void 0:P.scroll)===null||S===void 0)&&S.domNode&&(y.scroll.domNode.tabIndex=_)},v.prototype.setEditorReadOnly=function(y,_){_?y.disable():y.enable()},v.prototype.makeUnprivilegedEditor=function(y){var _=y;return{getHTML:function(){return _.root.innerHTML},getLength:_.getLength.bind(_),getText:_.getText.bind(_),getContents:_.getContents.bind(_),getSelection:_.getSelection.bind(_),getBounds:_.getBounds.bind(_)}},v.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var y=l.default.findDOMNode(this.editingArea);if(!y)throw new Error("Cannot find element for editing area");if(y.nodeType===3)throw new Error("Editing area cannot be a text node");return y},v.prototype.renderEditingArea=function(){var y=this,_=this.props,P=_.children,S=_.preserveWhitespace,A=this.state.generation,b={key:A,ref:function(R){y.editingArea=R}};return o.default.Children.count(P)?o.default.cloneElement(o.default.Children.only(P),b):S?o.default.createElement("pre",e({},b)):o.default.createElement("div",e({},b))},v.prototype.render=function(){var y;return o.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(y=this.props.className,y??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},v.prototype.onEditorChangeText=function(y,_,P,S){var A,b;if(this.editor){var R=this.isDelta(this.value)?S.getContents():S.getHTML();R!==this.getEditorContents()&&(this.lastDeltaChangeSet=_,this.value=R,(b=(A=this.props).onChange)===null||b===void 0||b.call(A,y,_,P,S))}},v.prototype.onEditorChangeSelection=function(y,_,P){var S,A,b,R,M,I;if(this.editor){var q=this.getEditorSelection(),$=!q&&y,L=q&&!y;f.default(y,q)||(this.selection=y,(A=(S=this.props).onChangeSelection)===null||A===void 0||A.call(S,y,_,P),$?(R=(b=this.props).onFocus)===null||R===void 0||R.call(b,y,_,P):L&&((I=(M=this.props).onBlur)===null||I===void 0||I.call(M,q,_,P)))}},v.prototype.focus=function(){this.editor&&this.editor.focus()},v.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},v.displayName="React Quill",v.Quill=p.default,v.defaultProps={theme:"snow",modules:{},readOnly:!1},v}(o.default.Component);function E(w){Promise.resolve().then(w)}return As=g,As}var nL=tL();const rL=fb(nL);var qh={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var iL=qh.exports,ow;function sL(){return ow||(ow=1,function(i,e){(function(){var t,r="4.17.21",o=200,l="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",f="Expected a function",p="Invalid `variable` option passed into `_.template`",g="__lodash_hash_undefined__",E=500,w="__lodash_placeholder__",v=1,y=2,_=4,P=1,S=2,A=1,b=2,R=4,M=8,I=16,q=32,$=64,L=128,O=256,F=512,D=30,k="...",U=800,V=16,J=1,ee=2,fe=3,ce=1/0,de=9007199254740991,re=17976931348623157e292,X=NaN,B=4294967295,W=B-1,Z=B>>>1,ue=[["ary",L],["bind",A],["bindKey",b],["curry",M],["curryRight",I],["flip",F],["partial",q],["partialRight",$],["rearg",O]],se="[object Arguments]",Y="[object Array]",ie="[object AsyncFunction]",pe="[object Boolean]",me="[object Date]",Se="[object DOMException]",qe="[object Error]",Ye="[object Function]",Je="[object GeneratorFunction]",Xe="[object Map]",yt="[object Number]",mn="[object Null]",Ot="[object Object]",Ie="[object Promise]",be="[object Proxy]",Ve="[object RegExp]",Ue="[object Set]",Oe="[object String]",st="[object Symbol]",lt="[object Undefined]",ut="[object WeakMap]",Dt="[object WeakSet]",Ct="[object ArrayBuffer]",Et="[object DataView]",Xi="[object Float32Array]",qt="[object Float64Array]",Cn="[object Int8Array]",Ji="[object Int16Array]",co="[object Int32Array]",fo="[object Uint8Array]",ho="[object Uint8ClampedArray]",po="[object Uint16Array]",go="[object Uint32Array]",mo=/\b__p \+= '';/g,ua=/\b(__p \+=) '' \+/g,la=/(__e\(.*?\)|\b__t\)) \+\n'';/g,br=/&(?:amp|lt|gt|quot|#39);/g,si=/[&<>"']/g,ca=RegExp(br.source),ki=RegExp(si.source),Iu=/<%-([\s\S]+?)%>/g,yo=/<%([\s\S]+?)%>/g,fa=/<%=([\s\S]+?)%>/g,Zi=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Au=/^\w*$/,fn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Rs=/[\\^$.*+?()[\]{}|]/g,oi=RegExp(Rs.source),es=/^\s+/,vo=/\s/,ha=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ai=/\{\n\/\* \[wrapped with (.+)\] \*/,Su=/,? & /,bf=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,da=/[()=,{}\[\]\/\s]/,Ll=/\\(\\)?/g,ui=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ps=/\w*$/,li=/^[-+]0x[0-9a-f]+$/i,Dl=/^0b[01]+$/i,bu=/^\[object .+?Constructor\]$/,pa=/^0o[0-7]+$/i,ga=/^(?:0|[1-9]\d*)$/,Ru=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,_o=/($^)/,Rf=/['\n\r\u2028\u2029\\]/g,zt="\\ud800-\\udfff",Ml="\\u0300-\\u036f",Eo="\\ufe20-\\ufe2f",ks="\\u20d0-\\u20ff",Rr=Ml+Eo+ks,ma="\\u2700-\\u27bf",Pu="a-z\\xdf-\\xf6\\xf8-\\xff",wo="\\xac\\xb1\\xd7\\xf7",Pr="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Vl="\\u2000-\\u206f",ir=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ya="A-Z\\xc0-\\xd6\\xd8-\\xde",ku="\\ufe0e\\ufe0f",Ou=wo+Pr+Vl+ir,Os="[']",va="["+zt+"]",ts="["+Ou+"]",Oi="["+Rr+"]",Ul="\\d+",ns="["+ma+"]",pr="["+Pu+"]",Cs="[^"+zt+Ou+Ul+ma+Pu+ya+"]",Ci="\\ud83c[\\udffb-\\udfff]",Ns="(?:"+Oi+"|"+Ci+")",Kt="[^"+zt+"]",Ni="(?:\\ud83c[\\udde6-\\uddff]){2}",Tt="[\\ud800-\\udbff][\\udc00-\\udfff]",kr="["+ya+"]",Cu="\\u200d",To="(?:"+pr+"|"+Cs+")",Fl="(?:"+kr+"|"+Cs+")",Nu="(?:"+Os+"(?:d|ll|m|re|s|t|ve))?",xu="(?:"+Os+"(?:D|LL|M|RE|S|T|VE))?",_a=Ns+"?",ci="["+ku+"]?",Vn="(?:"+Cu+"(?:"+[Kt,Ni,Tt].join("|")+")"+ci+_a+")*",fi="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",hi="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",rs=ci+_a+Vn,Vr="(?:"+[ns,Ni,Tt].join("|")+")"+rs,xi="(?:"+[Kt+Oi+"?",Oi,Ni,Tt,va].join("|")+")",Pf=RegExp(Os,"g"),ql=RegExp(Oi,"g"),Wn=RegExp(Ci+"(?="+Ci+")|"+xi+rs,"g"),kf=RegExp([kr+"?"+pr+"+"+Nu+"(?="+[ts,kr,"$"].join("|")+")",Fl+"+"+xu+"(?="+[ts,kr+To,"$"].join("|")+")",kr+"?"+To+"+"+Nu,kr+"+"+xu,hi,fi,Ul,Vr].join("|"),"g"),Bl=RegExp("["+Cu+zt+Rr+ku+"]"),is=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Io=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],jl=-1,bt={};bt[Xi]=bt[qt]=bt[Cn]=bt[Ji]=bt[co]=bt[fo]=bt[ho]=bt[po]=bt[go]=!0,bt[se]=bt[Y]=bt[Ct]=bt[pe]=bt[Et]=bt[me]=bt[qe]=bt[Ye]=bt[Xe]=bt[yt]=bt[Ot]=bt[Ve]=bt[Ue]=bt[Oe]=bt[ut]=!1;var It={};It[se]=It[Y]=It[Ct]=It[Et]=It[pe]=It[me]=It[Xi]=It[qt]=It[Cn]=It[Ji]=It[co]=It[Xe]=It[yt]=It[Ot]=It[Ve]=It[Ue]=It[Oe]=It[st]=It[fo]=It[ho]=It[po]=It[go]=!0,It[qe]=It[Ye]=It[ut]=!1;var ss={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},xs={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},tn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Of={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Lu=parseFloat,Ao=parseInt,So=typeof au=="object"&&au&&au.Object===Object&&au,Du=typeof self=="object"&&self&&self.Object===Object&&self,$t=So||Du||Function("return this")(),Ls=e&&!e.nodeType&&e,yn=Ls&&!0&&i&&!i.nodeType&&i,Ea=yn&&yn.exports===Ls,Ds=Ea&&So.process,hn=function(){try{var he=yn&&yn.require&&yn.require("util").types;return he||Ds&&Ds.binding&&Ds.binding("util")}catch{}}(),wa=hn&&hn.isArrayBuffer,Nn=hn&&hn.isDate,Ur=hn&&hn.isMap,bo=hn&&hn.isRegExp,di=hn&&hn.isSet,zl=hn&&hn.isTypedArray;function xn(he,Ae,Ee){switch(Ee.length){case 0:return he.call(Ae);case 1:return he.call(Ae,Ee[0]);case 2:return he.call(Ae,Ee[0],Ee[1]);case 3:return he.call(Ae,Ee[0],Ee[1],Ee[2])}return he.apply(Ae,Ee)}function os(he,Ae,Ee,je){for(var ct=-1,Mt=he==null?0:he.length;++ct<Mt;){var vn=he[ct];Ae(je,vn,Ee(vn),he)}return je}function In(he,Ae){for(var Ee=-1,je=he==null?0:he.length;++Ee<je&&Ae(he[Ee],Ee,he)!==!1;);return he}function Ro(he,Ae){for(var Ee=he==null?0:he.length;Ee--&&Ae(he[Ee],Ee,he)!==!1;);return he}function Po(he,Ae){for(var Ee=-1,je=he==null?0:he.length;++Ee<je;)if(!Ae(he[Ee],Ee,he))return!1;return!0}function Fr(he,Ae){for(var Ee=-1,je=he==null?0:he.length,ct=0,Mt=[];++Ee<je;){var vn=he[Ee];Ae(vn,Ee,he)&&(Mt[ct++]=vn)}return Mt}function ko(he,Ae){var Ee=he==null?0:he.length;return!!Ee&&as(he,Ae,0)>-1}function Ms(he,Ae,Ee){for(var je=-1,ct=he==null?0:he.length;++je<ct;)if(Ee(Ae,he[je]))return!0;return!1}function Ht(he,Ae){for(var Ee=-1,je=he==null?0:he.length,ct=Array(je);++Ee<je;)ct[Ee]=Ae(he[Ee],Ee,he);return ct}function pi(he,Ae){for(var Ee=-1,je=Ae.length,ct=he.length;++Ee<je;)he[ct+Ee]=Ae[Ee];return he}function gi(he,Ae,Ee,je){var ct=-1,Mt=he==null?0:he.length;for(je&&Mt&&(Ee=he[++ct]);++ct<Mt;)Ee=Ae(Ee,he[ct],ct,he);return Ee}function $l(he,Ae,Ee,je){var ct=he==null?0:he.length;for(je&&ct&&(Ee=he[--ct]);ct--;)Ee=Ae(Ee,he[ct],ct,he);return Ee}function Ta(he,Ae){for(var Ee=-1,je=he==null?0:he.length;++Ee<je;)if(Ae(he[Ee],Ee,he))return!0;return!1}var Hl=j("length");function Mu(he){return he.split("")}function Ia(he){return he.match(bf)||[]}function Kn(he,Ae,Ee){var je;return Ee(he,function(ct,Mt,vn){if(Ae(ct,Mt,vn))return je=Mt,!1}),je}function Oo(he,Ae,Ee,je){for(var ct=he.length,Mt=Ee+(je?1:-1);je?Mt--:++Mt<ct;)if(Ae(he[Mt],Mt,he))return Mt;return-1}function as(he,Ae,Ee){return Ae===Ae?Kl(he,Ae,Ee):Oo(he,h,Ee)}function Li(he,Ae,Ee,je){for(var ct=Ee-1,Mt=he.length;++ct<Mt;)if(je(he[ct],Ae))return ct;return-1}function h(he){return he!==he}function C(he,Ae){var Ee=he==null?0:he.length;return Ee?Fe(he,Ae)/Ee:X}function j(he){return function(Ae){return Ae==null?t:Ae[he]}}function G(he){return function(Ae){return he==null?t:he[Ae]}}function ye(he,Ae,Ee,je,ct){return ct(he,function(Mt,vn,Gt){Ee=je?(je=!1,Mt):Ae(Ee,Mt,vn,Gt)}),Ee}function Te(he,Ae){var Ee=he.length;for(he.sort(Ae);Ee--;)he[Ee]=he[Ee].value;return he}function Fe(he,Ae){for(var Ee,je=-1,ct=he.length;++je<ct;){var Mt=Ae(he[je]);Mt!==t&&(Ee=Ee===t?Mt:Ee+Mt)}return Ee}function Bt(he,Ae){for(var Ee=-1,je=Array(he);++Ee<he;)je[Ee]=Ae(Ee);return je}function An(he,Ae){return Ht(Ae,function(Ee){return[Ee,he[Ee]]})}function Rt(he){return he&&he.slice(0,Gl(he)+1).replace(es,"")}function jt(he){return function(Ae){return he(Ae)}}function an(he,Ae){return Ht(Ae,function(Ee){return he[Ee]})}function Gn(he,Ae){return he.has(Ae)}function gr(he,Ae){for(var Ee=-1,je=he.length;++Ee<je&&as(Ae,he[Ee],0)>-1;);return Ee}function Vs(he,Ae){for(var Ee=he.length;Ee--&&as(Ae,he[Ee],0)>-1;);return Ee}function Aa(he,Ae){for(var Ee=he.length,je=0;Ee--;)he[Ee]===Ae&&++je;return je}var vd=G(ss),_d=G(xs);function Ed(he){return"\\"+Of[he]}function Sa(he,Ae){return he==null?t:he[Ae]}function ba(he){return Bl.test(he)}function Ng(he){return is.test(he)}function xg(he){for(var Ae,Ee=[];!(Ae=he.next()).done;)Ee.push(Ae.value);return Ee}function Wl(he){var Ae=-1,Ee=Array(he.size);return he.forEach(function(je,ct){Ee[++Ae]=[ct,je]}),Ee}function Cf(he,Ae){return function(Ee){return he(Ae(Ee))}}function qr(he,Ae){for(var Ee=-1,je=he.length,ct=0,Mt=[];++Ee<je;){var vn=he[Ee];(vn===Ae||vn===w)&&(he[Ee]=w,Mt[ct++]=Ee)}return Mt}function Us(he){var Ae=-1,Ee=Array(he.size);return he.forEach(function(je){Ee[++Ae]=je}),Ee}function Lg(he){var Ae=-1,Ee=Array(he.size);return he.forEach(function(je){Ee[++Ae]=[je,je]}),Ee}function Kl(he,Ae,Ee){for(var je=Ee-1,ct=he.length;++je<ct;)if(he[je]===Ae)return je;return-1}function Dg(he,Ae,Ee){for(var je=Ee+1;je--;)if(he[je]===Ae)return je;return je}function Co(he){return ba(he)?Td(he):Hl(he)}function Or(he){return ba(he)?Id(he):Mu(he)}function Gl(he){for(var Ae=he.length;Ae--&&vo.test(he.charAt(Ae)););return Ae}var wd=G(tn);function Td(he){for(var Ae=Wn.lastIndex=0;Wn.test(he);)++Ae;return Ae}function Id(he){return he.match(Wn)||[]}function Mg(he){return he.match(kf)||[]}var Vg=function he(Ae){Ae=Ae==null?$t:Ra.defaults($t.Object(),Ae,Ra.pick($t,Io));var Ee=Ae.Array,je=Ae.Date,ct=Ae.Error,Mt=Ae.Function,vn=Ae.Math,Gt=Ae.Object,Vu=Ae.RegExp,Ug=Ae.String,Br=Ae.TypeError,us=Ee.prototype,Nf=Mt.prototype,Di=Gt.prototype,Pa=Ae["__core-js_shared__"],Uu=Nf.toString,Vt=Di.hasOwnProperty,ka=0,Ql=function(){var a=/[^.]+$/.exec(Pa&&Pa.keys&&Pa.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),Fu=Di.toString,Yl=Uu.call(Gt),Ad=$t._,Sd=Vu("^"+Uu.call(Vt).replace(Rs,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),qu=Ea?Ae.Buffer:t,ls=Ae.Symbol,Bu=Ae.Uint8Array,xf=qu?qu.allocUnsafe:t,mi=Cf(Gt.getPrototypeOf,Gt),Xl=Gt.create,Jl=Di.propertyIsEnumerable,Zl=us.splice,bd=ls?ls.isConcatSpreadable:t,cs=ls?ls.iterator:t,No=ls?ls.toStringTag:t,ju=function(){try{var a=Qs(Gt,"defineProperty");return a({},"",{}),a}catch{}}(),Rd=Ae.clearTimeout!==$t.clearTimeout&&Ae.clearTimeout,Jt=je&&je.now!==$t.Date.now&&je.now,Lf=Ae.setTimeout!==$t.setTimeout&&Ae.setTimeout,xo=vn.ceil,Fs=vn.floor,ec=Gt.getOwnPropertySymbols,Df=qu?qu.isBuffer:t,Oa=Ae.isFinite,tc=us.join,Ca=Cf(Gt.keys,Gt),_n=vn.max,Qn=vn.min,Fg=je.now,Pd=Ae.parseInt,zu=vn.random,nc=us.reverse,$u=Qs(Ae,"DataView"),Lo=Qs(Ae,"Map"),Hu=Qs(Ae,"Promise"),qs=Qs(Ae,"Set"),Wu=Qs(Ae,"WeakMap"),Na=Qs(Gt,"create"),rc=Wu&&new Wu,xa={},Mf=Ys($u),Bs=Ys(Lo),kd=Ys(Hu),La=Ys(qs),Mi=Ys(Wu),js=ls?ls.prototype:t,Cr=js?js.valueOf:t,ic=js?js.toString:t;function K(a){if(wn(a)&&!mt(a)&&!(a instanceof gt)){if(a instanceof Yn)return a;if(Vt.call(a,"__wrapped__"))return rp(a)}return new Yn(a)}var Da=function(){function a(){}return function(u){if(!pn(u))return{};if(Xl)return Xl(u);a.prototype=u;var m=new a;return a.prototype=t,m}}();function Vi(){}function Yn(a,u){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!u,this.__index__=0,this.__values__=t}K.templateSettings={escape:Iu,evaluate:yo,interpolate:fa,variable:"",imports:{_:K}},K.prototype=Vi.prototype,K.prototype.constructor=K,Yn.prototype=Da(Vi.prototype),Yn.prototype.constructor=Yn;function gt(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=B,this.__views__=[]}function sc(){var a=new gt(this.__wrapped__);return a.__actions__=or(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=or(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=or(this.__views__),a}function Vf(){if(this.__filtered__){var a=new gt(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function Ma(){var a=this.__wrapped__.value(),u=this.__dir__,m=mt(a),x=u<0,z=m?a.length:0,Q=fh(0,z,this.__views__),ne=Q.start,ae=Q.end,ge=ae-ne,Re=x?ae:ne-1,Pe=this.__iteratees__,xe=Pe.length,Be=0,Qe=Qn(ge,this.__takeCount__);if(!m||!x&&z==ge&&Qe==ge)return $a(a,this.__actions__);var ot=[];e:for(;ge--&&Be<Qe;){Re+=u;for(var wt=-1,at=a[Re];++wt<xe;){var Pt=Pe[wt],xt=Pt.iteratee,bi=Pt.type,Mr=xt(at);if(bi==ee)at=Mr;else if(!Mr){if(bi==J)continue e;break e}}ot[Be++]=at}return ot}gt.prototype=Da(Vi.prototype),gt.prototype.constructor=gt;function mr(a){var u=-1,m=a==null?0:a.length;for(this.clear();++u<m;){var x=a[u];this.set(x[0],x[1])}}function Zt(){this.__data__=Na?Na(null):{},this.size=0}function Xt(a){var u=this.has(a)&&delete this.__data__[a];return this.size-=u?1:0,u}function zs(a){var u=this.__data__;if(Na){var m=u[a];return m===g?t:m}return Vt.call(u,a)?u[a]:t}function Xn(a){var u=this.__data__;return Na?u[a]!==t:Vt.call(u,a)}function yr(a,u){var m=this.__data__;return this.size+=this.has(a)?0:1,m[a]=Na&&u===t?g:u,this}mr.prototype.clear=Zt,mr.prototype.delete=Xt,mr.prototype.get=zs,mr.prototype.has=Xn,mr.prototype.set=yr;function sr(a){var u=-1,m=a==null?0:a.length;for(this.clear();++u<m;){var x=a[u];this.set(x[0],x[1])}}function Va(){this.__data__=[],this.size=0}function vr(a){var u=this.__data__,m=Zn(u,a);if(m<0)return!1;var x=u.length-1;return m==x?u.pop():Zl.call(u,m,1),--this.size,!0}function oc(a){var u=this.__data__,m=Zn(u,a);return m<0?t:u[m][1]}function Od(a){return Zn(this.__data__,a)>-1}function Cd(a,u){var m=this.__data__,x=Zn(m,a);return x<0?(++this.size,m.push([a,u])):m[x][1]=u,this}sr.prototype.clear=Va,sr.prototype.delete=vr,sr.prototype.get=oc,sr.prototype.has=Od,sr.prototype.set=Cd;function jr(a){var u=-1,m=a==null?0:a.length;for(this.clear();++u<m;){var x=a[u];this.set(x[0],x[1])}}function Nd(){this.size=0,this.__data__={hash:new mr,map:new(Lo||sr),string:new mr}}function fs(a){var u=ul(this,a).delete(a);return this.size-=u?1:0,u}function ac(a){return ul(this,a).get(a)}function Uf(a){return ul(this,a).has(a)}function xd(a,u){var m=ul(this,a),x=m.size;return m.set(a,u),this.size+=m.size==x?0:1,this}jr.prototype.clear=Nd,jr.prototype.delete=fs,jr.prototype.get=ac,jr.prototype.has=Uf,jr.prototype.set=xd;function Do(a){var u=-1,m=a==null?0:a.length;for(this.__data__=new jr;++u<m;)this.add(a[u])}function $s(a){return this.__data__.set(a,g),this}function Ua(a){return this.__data__.has(a)}Do.prototype.add=Do.prototype.push=$s,Do.prototype.has=Ua;function Jn(a){var u=this.__data__=new sr(a);this.size=u.size}function uc(){this.__data__=new sr,this.size=0}function lc(a){var u=this.__data__,m=u.delete(a);return this.size=u.size,m}function zr(a){return this.__data__.get(a)}function $r(a){return this.__data__.has(a)}function Mo(a,u){var m=this.__data__;if(m instanceof sr){var x=m.__data__;if(!Lo||x.length<o-1)return x.push([a,u]),this.size=++m.size,this;m=this.__data__=new jr(x)}return m.set(a,u),this.size=m.size,this}Jn.prototype.clear=uc,Jn.prototype.delete=lc,Jn.prototype.get=zr,Jn.prototype.has=$r,Jn.prototype.set=Mo;function Ui(a,u){var m=mt(a),x=!m&&El(a),z=!m&&!x&&eu(a),Q=!m&&!x&&!z&&ef(a),ne=m||x||z||Q,ae=ne?Bt(a.length,Ug):[],ge=ae.length;for(var Re in a)(u||Vt.call(a,Re))&&!(ne&&(Re=="length"||z&&(Re=="offset"||Re=="parent")||Q&&(Re=="buffer"||Re=="byteLength"||Re=="byteOffset")||rn(Re,ge)))&&ae.push(Re);return ae}function Fi(a){var u=a.length;return u?a[ja(0,u-1)]:t}function Vo(a,u){return Dc(or(a),hs(u,0,a.length))}function Ld(a){return Dc(or(a))}function Ku(a,u,m){(m!==t&&!Ts(a[u],m)||m===t&&!(u in a))&&qi(a,u,m)}function Uo(a,u,m){var x=a[u];(!(Vt.call(a,u)&&Ts(x,m))||m===t&&!(u in a))&&qi(a,u,m)}function Zn(a,u){for(var m=a.length;m--;)if(Ts(a[m][0],u))return m;return-1}function Nr(a,u,m,x){return ji(a,function(z,Q,ne){u(x,z,m(z),ne)}),x}function en(a,u){return a&&vi(u,nr(u),a)}function yi(a,u){return a&&vi(u,Zr(u),a)}function qi(a,u,m){u=="__proto__"&&ju?ju(a,u,{configurable:!0,enumerable:!0,value:m,writable:!0}):a[u]=m}function cc(a,u){for(var m=-1,x=u.length,z=Ee(x),Q=a==null;++m<x;)z[m]=Q?t:am(a,u[m]);return z}function hs(a,u,m){return a===a&&(m!==t&&(a=a<=m?a:m),u!==t&&(a=a>=u?a:u)),a}function _r(a,u,m,x,z,Q){var ne,ae=u&v,ge=u&y,Re=u&_;if(m&&(ne=z?m(a,x,z,Q):m(a)),ne!==t)return ne;if(!pn(a))return a;var Pe=mt(a);if(Pe){if(ne=cl(a),!ae)return or(a,ne)}else{var xe=qn(a),Be=xe==Ye||xe==Je;if(eu(a))return Zf(a,ae);if(xe==Ot||xe==se||Be&&!z){if(ne=ge||Be?{}:Bn(a),!ae)return ge?Bg(a,yi(ne,a)):Ic(a,en(ne,a))}else{if(!It[xe])return z?a:{};ne=jg(a,xe,ae)}}Q||(Q=new Jn);var Qe=Q.get(a);if(Qe)return Qe;Q.set(a,ne),N_(a)?a.forEach(function(at){ne.add(_r(at,u,m,at,a,Q))}):O_(a)&&a.forEach(function(at,Pt){ne.set(Pt,_r(at,u,m,Pt,a,Q))});var ot=Re?ge?al:ol:ge?Zr:nr,wt=Pe?t:ot(a);return In(wt||a,function(at,Pt){wt&&(Pt=at,at=a[Pt]),Uo(ne,Pt,_r(at,u,m,Pt,a,Q))}),ne}function Dd(a){var u=nr(a);return function(m){return Gu(m,a,u)}}function Gu(a,u,m){var x=m.length;if(a==null)return!x;for(a=Gt(a);x--;){var z=m[x],Q=u[z],ne=a[z];if(ne===t&&!(z in a)||!Q(ne))return!1}return!0}function Ff(a,u,m){if(typeof a!="function")throw new Br(f);return Xa(function(){a.apply(t,m)},u)}function Bi(a,u,m,x){var z=-1,Q=ko,ne=!0,ae=a.length,ge=[],Re=u.length;if(!ae)return ge;m&&(u=Ht(u,jt(m))),x?(Q=Ms,ne=!1):u.length>=o&&(Q=Gn,ne=!1,u=new Do(u));e:for(;++z<ae;){var Pe=a[z],xe=m==null?Pe:m(Pe);if(Pe=x||Pe!==0?Pe:0,ne&&xe===xe){for(var Be=Re;Be--;)if(u[Be]===xe)continue e;ge.push(Pe)}else Q(u,xe,x)||ge.push(Pe)}return ge}var ji=Qr(xr),Md=Qr(Hs,!0);function Qu(a,u){var m=!0;return ji(a,function(x,z,Q){return m=!!u(x,z,Q),m}),m}function Fo(a,u,m){for(var x=-1,z=a.length;++x<z;){var Q=a[x],ne=u(Q);if(ne!=null&&(ae===t?ne===ne&&!Si(ne):m(ne,ae)))var ae=ne,ge=Q}return ge}function Vd(a,u,m,x){var z=a.length;for(m=_t(m),m<0&&(m=-m>z?0:z+m),x=x===t||x>z?z:_t(x),x<0&&(x+=z),x=m>x?0:L_(x);m<x;)a[m++]=u;return a}function qf(a,u){var m=[];return ji(a,function(x,z,Q){u(x,z,Q)&&m.push(x)}),m}function un(a,u,m,x,z){var Q=-1,ne=a.length;for(m||(m=Nc),z||(z=[]);++Q<ne;){var ae=a[Q];u>0&&m(ae)?u>1?un(ae,u-1,m,x,z):pi(z,ae):x||(z[z.length]=ae)}return z}var fc=Sc(),Yu=Sc(!0);function xr(a,u){return a&&fc(a,u,nr)}function Hs(a,u){return a&&Yu(a,u,nr)}function Fa(a,u){return Fr(u,function(m){return Xo(a[m])})}function ds(a,u){u=Hi(u,a);for(var m=0,x=u.length;a!=null&&m<x;)a=a[Ti(u[m++])];return m&&m==x?a:t}function hc(a,u,m){var x=u(a);return mt(a)?x:pi(x,m(a))}function Un(a){return a==null?a===t?lt:mn:No&&No in Gt(a)?Cc(a):dh(a)}function Ws(a,u){return a>u}function Hr(a,u){return a!=null&&Vt.call(a,u)}function qo(a,u){return a!=null&&u in Gt(a)}function Bf(a,u,m){return a>=Qn(u,m)&&a<_n(u,m)}function dc(a,u,m){for(var x=m?Ms:ko,z=a[0].length,Q=a.length,ne=Q,ae=Ee(Q),ge=1/0,Re=[];ne--;){var Pe=a[ne];ne&&u&&(Pe=Ht(Pe,jt(u))),ge=Qn(Pe.length,ge),ae[ne]=!m&&(u||z>=120&&Pe.length>=120)?new Do(ne&&Pe):t}Pe=a[0];var xe=-1,Be=ae[0];e:for(;++xe<z&&Re.length<ge;){var Qe=Pe[xe],ot=u?u(Qe):Qe;if(Qe=m||Qe!==0?Qe:0,!(Be?Gn(Be,ot):x(Re,ot,m))){for(ne=Q;--ne;){var wt=ae[ne];if(!(wt?Gn(wt,ot):x(a[ne],ot,m)))continue e}Be&&Be.push(ot),Re.push(Qe)}}return Re}function ps(a,u,m,x){return xr(a,function(z,Q,ne){u(x,m(z),Q,ne)}),x}function Wr(a,u,m){u=Hi(u,a),a=Ln(a,u);var x=a==null?a:a[Ti(lr(u))];return x==null?t:xn(x,a,m)}function pc(a){return wn(a)&&Un(a)==se}function Ud(a){return wn(a)&&Un(a)==Ct}function gs(a){return wn(a)&&Un(a)==me}function Kr(a,u,m,x,z){return a===u?!0:a==null||u==null||!wn(a)&&!wn(u)?a!==a&&u!==u:gc(a,u,m,x,Kr,z)}function gc(a,u,m,x,z,Q){var ne=mt(a),ae=mt(u),ge=ne?Y:qn(a),Re=ae?Y:qn(u);ge=ge==se?Ot:ge,Re=Re==se?Ot:Re;var Pe=ge==Ot,xe=Re==Ot,Be=ge==Re;if(Be&&eu(a)){if(!eu(u))return!1;ne=!0,Pe=!1}if(Be&&!Pe)return Q||(Q=new Jn),ne||ef(a)?lh(a,u,m,x,z,Q):ch(a,u,ge,m,x,z,Q);if(!(m&P)){var Qe=Pe&&Vt.call(a,"__wrapped__"),ot=xe&&Vt.call(u,"__wrapped__");if(Qe||ot){var wt=Qe?a.value():a,at=ot?u.value():u;return Q||(Q=new Jn),z(wt,at,m,x,Q)}}return Be?(Q||(Q=new Jn),Qd(a,u,m,x,z,Q)):!1}function Fd(a){return wn(a)&&qn(a)==Xe}function qa(a,u,m,x){var z=m.length,Q=z,ne=!x;if(a==null)return!Q;for(a=Gt(a);z--;){var ae=m[z];if(ne&&ae[2]?ae[1]!==a[ae[0]]:!(ae[0]in a))return!1}for(;++z<Q;){ae=m[z];var ge=ae[0],Re=a[ge],Pe=ae[1];if(ne&&ae[2]){if(Re===t&&!(ge in a))return!1}else{var xe=new Jn;if(x)var Be=x(Re,Pe,ge,a,u,xe);if(!(Be===t?Kr(Pe,Re,P|S,x,xe):Be))return!1}}return!0}function jf(a){if(!pn(a)||Jd(a))return!1;var u=Xo(a)?Sd:bu;return u.test(Ys(a))}function Xu(a){return wn(a)&&Un(a)==Ve}function zi(a){return wn(a)&&qn(a)==Ue}function Ju(a){return wn(a)&&yp(a.length)&&!!bt[Un(a)]}function Ba(a){return typeof a=="function"?a:a==null?ei:typeof a=="object"?mt(a)?nn(a[0],a[1]):mc(a):H_(a)}function ms(a){if(!Es(a))return Ca(a);var u=[];for(var m in Gt(a))Vt.call(a,m)&&m!="constructor"&&u.push(m);return u}function zf(a){if(!pn(a))return tp(a);var u=Es(a),m=[];for(var x in a)x=="constructor"&&(u||!Vt.call(a,x))||m.push(x);return m}function Ks(a,u){return a<u}function $f(a,u){var m=-1,x=Jr(a)?Ee(a.length):[];return ji(a,function(z,Q,ne){x[++m]=u(z,Q,ne)}),x}function mc(a){var u=ll(a);return u.length==1&&u[0][2]?xc(u[0][0],u[0][1]):function(m){return m===a||qa(m,a,u)}}function nn(a,u){return $e(a)&&hl(u)?xc(Ti(a),u):function(m){var x=am(m,a);return x===t&&x===u?um(m,a):Kr(u,x,P|S)}}function Bo(a,u,m,x,z){a!==u&&fc(u,function(Q,ne){if(z||(z=new Jn),pn(Q))Hf(a,u,ne,m,Bo,x,z);else{var ae=x?x(Gi(a,ne),Q,ne+"",a,u,z):t;ae===t&&(ae=Q),Ku(a,ne,ae)}},Zr)}function Hf(a,u,m,x,z,Q,ne){var ae=Gi(a,m),ge=Gi(u,m),Re=ne.get(ge);if(Re){Ku(a,m,Re);return}var Pe=Q?Q(ae,ge,m+"",a,u,ne):t,xe=Pe===t;if(xe){var Be=mt(ge),Qe=!Be&&eu(ge),ot=!Be&&!Qe&&ef(ge);Pe=ge,Be||Qe||ot?mt(ae)?Pe=ae:Pn(ae)?Pe=or(ae):Qe?(xe=!1,Pe=Zf(ge,!0)):ot?(xe=!1,Pe=$d(ge,!0)):Pe=[]:Ch(ge)||El(ge)?(Pe=ae,El(ae)?Pe=D_(ae):(!pn(ae)||Xo(ae))&&(Pe=Bn(ge))):xe=!1}xe&&(ne.set(ge,Pe),z(Pe,ge,x,Q,ne),ne.delete(ge)),Ku(a,m,Pe)}function yc(a,u){var m=a.length;if(m)return u+=u<0?m:0,rn(u,m)?a[u]:t}function Zu(a,u,m){u.length?u=Ht(u,function(Q){return mt(Q)?function(ne){return ds(ne,Q.length===1?Q[0]:Q)}:Q}):u=[ei];var x=-1;u=Ht(u,jt(tt()));var z=$f(a,function(Q,ne,ae){var ge=Ht(u,function(Re){return Re(Q)});return{criteria:ge,index:++x,value:Q}});return Te(z,function(Q,ne){return qg(Q,ne,m)})}function Wf(a,u){return Gs(a,u,function(m,x){return um(a,x)})}function Gs(a,u,m){for(var x=-1,z=u.length,Q={};++x<z;){var ne=u[x],ae=ds(a,ne);m(ae,ne)&&zo(Q,Hi(ne,a),ae)}return Q}function sn(a){return function(u){return ds(u,a)}}function dn(a,u,m,x){var z=x?Li:as,Q=-1,ne=u.length,ae=a;for(a===u&&(u=or(u)),m&&(ae=Ht(a,jt(m)));++Q<ne;)for(var ge=0,Re=u[Q],Pe=m?m(Re):Re;(ge=z(ae,Pe,ge,x))>-1;)ae!==a&&Zl.call(ae,ge,1),Zl.call(a,ge,1);return a}function Sn(a,u){for(var m=a?u.length:0,x=m-1;m--;){var z=u[m];if(m==x||z!==Q){var Q=z;rn(z)?Zl.call(a,z,1):Ec(a,z)}}return a}function ja(a,u){return a+Fs(zu()*(u-a+1))}function el(a,u,m,x){for(var z=-1,Q=_n(xo((u-a)/(m||1)),0),ne=Ee(Q);Q--;)ne[x?Q:++z]=a,a+=m;return ne}function jo(a,u){var m="";if(!a||u<1||u>de)return m;do u%2&&(m+=a),u=Fs(u/2),u&&(a+=a);while(u);return m}function vt(a,u){return Lr(Lc(a,u,ei),a+"")}function er(a){return Fi(tf(a))}function Kf(a,u){var m=tf(a);return Dc(m,hs(u,0,m.length))}function zo(a,u,m,x){if(!pn(a))return a;u=Hi(u,a);for(var z=-1,Q=u.length,ne=Q-1,ae=a;ae!=null&&++z<Q;){var ge=Ti(u[z]),Re=m;if(ge==="__proto__"||ge==="constructor"||ge==="prototype")return a;if(z!=ne){var Pe=ae[ge];Re=x?x(Pe,ge,ae):t,Re===t&&(Re=pn(Pe)?Pe:rn(u[z+1])?[]:{})}Uo(ae,ge,Re),ae=ae[ge]}return a}var vc=rc?function(a,u){return rc.set(a,u),a}:ei,$i=ju?function(a,u){return ju(a,"toString",{configurable:!0,enumerable:!1,value:cm(u),writable:!0})}:ei;function Gr(a){return Dc(tf(a))}function tr(a,u,m){var x=-1,z=a.length;u<0&&(u=-u>z?0:z+u),m=m>z?z:m,m<0&&(m+=z),z=u>m?0:m-u>>>0,u>>>=0;for(var Q=Ee(z);++x<z;)Q[x]=a[x+u];return Q}function Gf(a,u){var m;return ji(a,function(x,z,Q){return m=u(x,z,Q),!m}),!!m}function za(a,u,m){var x=0,z=a==null?x:a.length;if(typeof u=="number"&&u===u&&z<=Z){for(;x<z;){var Q=x+z>>>1,ne=a[Q];ne!==null&&!Si(ne)&&(m?ne<=u:ne<u)?x=Q+1:z=Q}return z}return _c(a,u,ei,m)}function _c(a,u,m,x){var z=0,Q=a==null?0:a.length;if(Q===0)return 0;u=m(u);for(var ne=u!==u,ae=u===null,ge=Si(u),Re=u===t;z<Q;){var Pe=Fs((z+Q)/2),xe=m(a[Pe]),Be=xe!==t,Qe=xe===null,ot=xe===xe,wt=Si(xe);if(ne)var at=x||ot;else Re?at=ot&&(x||Be):ae?at=ot&&Be&&(x||!Qe):ge?at=ot&&Be&&!Qe&&(x||!wt):Qe||wt?at=!1:at=x?xe<=u:xe<u;at?z=Pe+1:Q=Pe}return Qn(Q,W)}function Qf(a,u){for(var m=-1,x=a.length,z=0,Q=[];++m<x;){var ne=a[m],ae=u?u(ne):ne;if(!m||!Ts(ae,ge)){var ge=ae;Q[z++]=ne===0?0:ne}}return Q}function Yf(a){return typeof a=="number"?a:Si(a)?X:+a}function Er(a){if(typeof a=="string")return a;if(mt(a))return Ht(a,Er)+"";if(Si(a))return ic?ic.call(a):"";var u=a+"";return u=="0"&&1/a==-1/0?"-0":u}function ys(a,u,m){var x=-1,z=ko,Q=a.length,ne=!0,ae=[],ge=ae;if(m)ne=!1,z=Ms;else if(Q>=o){var Re=u?null:Gd(a);if(Re)return Us(Re);ne=!1,z=Gn,ge=new Do}else ge=u?[]:ae;e:for(;++x<Q;){var Pe=a[x],xe=u?u(Pe):Pe;if(Pe=m||Pe!==0?Pe:0,ne&&xe===xe){for(var Be=ge.length;Be--;)if(ge[Be]===xe)continue e;u&&ge.push(xe),ae.push(Pe)}else z(ge,xe,m)||(ge!==ae&&ge.push(xe),ae.push(Pe))}return ae}function Ec(a,u){return u=Hi(u,a),a=Ln(a,u),a==null||delete a[Ti(lr(u))]}function Xf(a,u,m,x){return zo(a,u,m(ds(a,u)),x)}function tl(a,u,m,x){for(var z=a.length,Q=x?z:-1;(x?Q--:++Q<z)&&u(a[Q],Q,a););return m?tr(a,x?0:Q,x?Q+1:z):tr(a,x?Q+1:0,x?z:Q)}function $a(a,u){var m=a;return m instanceof gt&&(m=m.value()),gi(u,function(x,z){return z.func.apply(z.thisArg,pi([x],z.args))},m)}function wc(a,u,m){var x=a.length;if(x<2)return x?ys(a[0]):[];for(var z=-1,Q=Ee(x);++z<x;)for(var ne=a[z],ae=-1;++ae<x;)ae!=z&&(Q[z]=Bi(Q[z]||ne,a[ae],u,m));return ys(un(Q,1),u,m)}function nl(a,u,m){for(var x=-1,z=a.length,Q=u.length,ne={};++x<z;){var ae=x<Q?u[x]:t;m(ne,a[x],ae)}return ne}function Ha(a){return Pn(a)?a:[]}function Tc(a){return typeof a=="function"?a:ei}function Hi(a,u){return mt(a)?a:$e(a,u)?[a]:mh(Qt(a))}var qd=vt;function vs(a,u,m){var x=a.length;return m=m===t?x:m,!u&&m>=x?a:tr(a,u,m)}var Jf=Rd||function(a){return $t.clearTimeout(a)};function Zf(a,u){if(u)return a.slice();var m=a.length,x=xf?xf(m):new a.constructor(m);return a.copy(x),x}function rl(a){var u=new a.constructor(a.byteLength);return new Bu(u).set(new Bu(a)),u}function Bd(a,u){var m=u?rl(a.buffer):a.buffer;return new a.constructor(m,a.byteOffset,a.byteLength)}function jd(a){var u=new a.constructor(a.source,Ps.exec(a));return u.lastIndex=a.lastIndex,u}function zd(a){return Cr?Gt(Cr.call(a)):{}}function $d(a,u){var m=u?rl(a.buffer):a.buffer;return new a.constructor(m,a.byteOffset,a.length)}function eh(a,u){if(a!==u){var m=a!==t,x=a===null,z=a===a,Q=Si(a),ne=u!==t,ae=u===null,ge=u===u,Re=Si(u);if(!ae&&!Re&&!Q&&a>u||Q&&ne&&ge&&!ae&&!Re||x&&ne&&ge||!m&&ge||!z)return 1;if(!x&&!Q&&!Re&&a<u||Re&&m&&z&&!x&&!Q||ae&&m&&z||!ne&&z||!ge)return-1}return 0}function qg(a,u,m){for(var x=-1,z=a.criteria,Q=u.criteria,ne=z.length,ae=m.length;++x<ne;){var ge=eh(z[x],Q[x]);if(ge){if(x>=ae)return ge;var Re=m[x];return ge*(Re=="desc"?-1:1)}}return a.index-u.index}function Hd(a,u,m,x){for(var z=-1,Q=a.length,ne=m.length,ae=-1,ge=u.length,Re=_n(Q-ne,0),Pe=Ee(ge+Re),xe=!x;++ae<ge;)Pe[ae]=u[ae];for(;++z<ne;)(xe||z<Q)&&(Pe[m[z]]=a[z]);for(;Re--;)Pe[ae++]=a[z++];return Pe}function th(a,u,m,x){for(var z=-1,Q=a.length,ne=-1,ae=m.length,ge=-1,Re=u.length,Pe=_n(Q-ae,0),xe=Ee(Pe+Re),Be=!x;++z<Pe;)xe[z]=a[z];for(var Qe=z;++ge<Re;)xe[Qe+ge]=u[ge];for(;++ne<ae;)(Be||z<Q)&&(xe[Qe+m[ne]]=a[z++]);return xe}function or(a,u){var m=-1,x=a.length;for(u||(u=Ee(x));++m<x;)u[m]=a[m];return u}function vi(a,u,m,x){var z=!m;m||(m={});for(var Q=-1,ne=u.length;++Q<ne;){var ae=u[Q],ge=x?x(m[ae],a[ae],ae,m,a):t;ge===t&&(ge=a[ae]),z?qi(m,ae,ge):Uo(m,ae,ge)}return m}function Ic(a,u){return vi(a,_i(a),u)}function Bg(a,u){return vi(a,Yd(a),u)}function Ac(a,u){return function(m,x){var z=mt(m)?os:Nr,Q=u?u():{};return z(m,a,tt(x,2),Q)}}function Wa(a){return vt(function(u,m){var x=-1,z=m.length,Q=z>1?m[z-1]:t,ne=z>2?m[2]:t;for(Q=a.length>3&&typeof Q=="function"?(z--,Q):t,ne&&ur(m[0],m[1],ne)&&(Q=z<3?t:Q,z=1),u=Gt(u);++x<z;){var ae=m[x];ae&&a(u,ae,x,Q)}return u})}function Qr(a,u){return function(m,x){if(m==null)return m;if(!Jr(m))return a(m,x);for(var z=m.length,Q=u?z:-1,ne=Gt(m);(u?Q--:++Q<z)&&x(ne[Q],Q,ne)!==!1;);return m}}function Sc(a){return function(u,m,x){for(var z=-1,Q=Gt(u),ne=x(u),ae=ne.length;ae--;){var ge=ne[a?ae:++z];if(m(Q[ge],ge,Q)===!1)break}return u}}function bc(a,u,m){var x=u&A,z=Ka(a);function Q(){var ne=this&&this!==$t&&this instanceof Q?z:a;return ne.apply(x?m:this,arguments)}return Q}function nh(a){return function(u){u=Qt(u);var m=ba(u)?Or(u):t,x=m?m[0]:u.charAt(0),z=m?vs(m,1).join(""):u.slice(1);return x[a]()+z}}function $o(a){return function(u){return gi(z_(j_(u).replace(Pf,"")),a,"")}}function Ka(a){return function(){var u=arguments;switch(u.length){case 0:return new a;case 1:return new a(u[0]);case 2:return new a(u[0],u[1]);case 3:return new a(u[0],u[1],u[2]);case 4:return new a(u[0],u[1],u[2],u[3]);case 5:return new a(u[0],u[1],u[2],u[3],u[4]);case 6:return new a(u[0],u[1],u[2],u[3],u[4],u[5]);case 7:return new a(u[0],u[1],u[2],u[3],u[4],u[5],u[6])}var m=Da(a.prototype),x=a.apply(m,u);return pn(x)?x:m}}function rh(a,u,m){var x=Ka(a);function z(){for(var Q=arguments.length,ne=Ee(Q),ae=Q,ge=_s(z);ae--;)ne[ae]=arguments[ae];var Re=Q<3&&ne[0]!==ge&&ne[Q-1]!==ge?[]:qr(ne,ge);if(Q-=Re.length,Q<m)return ar(a,u,Ga,z.placeholder,t,ne,Re,t,t,m-Q);var Pe=this&&this!==$t&&this instanceof z?x:a;return xn(Pe,this,ne)}return z}function Ho(a){return function(u,m,x){var z=Gt(u);if(!Jr(u)){var Q=tt(m,3);u=nr(u),m=function(ae){return Q(z[ae],ae,z)}}var ne=a(u,m,x);return ne>-1?z[Q?u[ne]:ne]:t}}function Rc(a){return Ki(function(u){var m=u.length,x=m,z=Yn.prototype.thru;for(a&&u.reverse();x--;){var Q=u[x];if(typeof Q!="function")throw new Br(f);if(z&&!ne&&Qa(Q)=="wrapper")var ne=new Yn([],!0)}for(x=ne?x:m;++x<m;){Q=u[x];var ae=Qa(Q),ge=ae=="wrapper"?Oc(Q):t;ge&&fl(ge[0])&&ge[1]==(L|M|q|O)&&!ge[4].length&&ge[9]==1?ne=ne[Qa(ge[0])].apply(ne,ge[3]):ne=Q.length==1&&fl(Q)?ne[ae]():ne.thru(Q)}return function(){var Re=arguments,Pe=Re[0];if(ne&&Re.length==1&&mt(Pe))return ne.plant(Pe).value();for(var xe=0,Be=m?u[xe].apply(this,Re):Pe;++xe<m;)Be=u[xe].call(this,Be);return Be}})}function Ga(a,u,m,x,z,Q,ne,ae,ge,Re){var Pe=u&L,xe=u&A,Be=u&b,Qe=u&(M|I),ot=u&F,wt=Be?t:Ka(a);function at(){for(var Pt=arguments.length,xt=Ee(Pt),bi=Pt;bi--;)xt[bi]=arguments[bi];if(Qe)var Mr=_s(at),Ri=Aa(xt,Mr);if(x&&(xt=Hd(xt,x,z,Qe)),Q&&(xt=th(xt,Q,ne,Qe)),Pt-=Ri,Qe&&Pt<Re){var kn=qr(xt,Mr);return ar(a,u,Ga,at.placeholder,m,xt,kn,ae,ge,Re-Pt)}var Is=xe?m:this,Zo=Be?Is[a]:a;return Pt=xt.length,ae?xt=Ei(xt,ae):ot&&Pt>1&&xt.reverse(),Pe&&ge<Pt&&(xt.length=ge),this&&this!==$t&&this instanceof at&&(Zo=wt||Ka(Zo)),Zo.apply(Is,xt)}return at}function Wd(a,u){return function(m,x){return ps(m,a,u(x),{})}}function il(a,u){return function(m,x){var z;if(m===t&&x===t)return u;if(m!==t&&(z=m),x!==t){if(z===t)return x;typeof m=="string"||typeof x=="string"?(m=Er(m),x=Er(x)):(m=Yf(m),x=Yf(x)),z=a(m,x)}return z}}function Pc(a){return Ki(function(u){return u=Ht(u,jt(tt())),vt(function(m){var x=this;return a(u,function(z){return xn(z,x,m)})})})}function sl(a,u){u=u===t?" ":Er(u);var m=u.length;if(m<2)return m?jo(u,a):u;var x=jo(u,xo(a/Co(u)));return ba(u)?vs(Or(x),0,a).join(""):x.slice(0,a)}function Kd(a,u,m,x){var z=u&A,Q=Ka(a);function ne(){for(var ae=-1,ge=arguments.length,Re=-1,Pe=x.length,xe=Ee(Pe+ge),Be=this&&this!==$t&&this instanceof ne?Q:a;++Re<Pe;)xe[Re]=x[Re];for(;ge--;)xe[Re++]=arguments[++ae];return xn(Be,z?m:this,xe)}return ne}function ih(a){return function(u,m,x){return x&&typeof x!="number"&&ur(u,m,x)&&(m=x=t),u=Jo(u),m===t?(m=u,u=0):m=Jo(m),x=x===t?u<m?1:-1:Jo(x),el(u,m,x,a)}}function kc(a){return function(u,m){return typeof u=="string"&&typeof m=="string"||(u=Qi(u),m=Qi(m)),a(u,m)}}function ar(a,u,m,x,z,Q,ne,ae,ge,Re){var Pe=u&M,xe=Pe?ne:t,Be=Pe?t:ne,Qe=Pe?Q:t,ot=Pe?t:Q;u|=Pe?q:$,u&=~(Pe?$:q),u&R||(u&=-4);var wt=[a,u,z,Qe,xe,ot,Be,ae,ge,Re],at=m.apply(t,wt);return fl(a)&&ph(at,wt),at.placeholder=x,gh(at,a,u)}function Fn(a){var u=vn[a];return function(m,x){if(m=Qi(m),x=x==null?0:Qn(_t(x),292),x&&Oa(m)){var z=(Qt(m)+"e").split("e"),Q=u(z[0]+"e"+(+z[1]+x));return z=(Qt(Q)+"e").split("e"),+(z[0]+"e"+(+z[1]-x))}return u(m)}}var Gd=qs&&1/Us(new qs([,-0]))[1]==ce?function(a){return new qs(a)}:dm;function sh(a){return function(u){var m=qn(u);return m==Xe?Wl(u):m==Ue?Lg(u):An(u,a(u))}}function Wi(a,u,m,x,z,Q,ne,ae){var ge=u&b;if(!ge&&typeof a!="function")throw new Br(f);var Re=x?x.length:0;if(Re||(u&=-97,x=z=t),ne=ne===t?ne:_n(_t(ne),0),ae=ae===t?ae:_t(ae),Re-=z?z.length:0,u&$){var Pe=x,xe=z;x=z=t}var Be=ge?t:Oc(a),Qe=[a,u,m,x,z,Pe,xe,Q,ne,ae];if(Be&&ep(Qe,Be),a=Qe[0],u=Qe[1],m=Qe[2],x=Qe[3],z=Qe[4],ae=Qe[9]=Qe[9]===t?ge?0:a.length:_n(Qe[9]-Re,0),!ae&&u&(M|I)&&(u&=-25),!u||u==A)var ot=bc(a,u,m);else u==M||u==I?ot=rh(a,u,ae):(u==q||u==(A|q))&&!z.length?ot=Kd(a,u,m,x):ot=Ga.apply(t,Qe);var wt=Be?vc:ph;return gh(wt(ot,Qe),a,u)}function oh(a,u,m,x){return a===t||Ts(a,Di[m])&&!Vt.call(x,m)?u:a}function ah(a,u,m,x,z,Q){return pn(a)&&pn(u)&&(Q.set(u,a),Bo(a,u,t,ah,Q),Q.delete(u)),a}function uh(a){return Ch(a)?t:a}function lh(a,u,m,x,z,Q){var ne=m&P,ae=a.length,ge=u.length;if(ae!=ge&&!(ne&&ge>ae))return!1;var Re=Q.get(a),Pe=Q.get(u);if(Re&&Pe)return Re==u&&Pe==a;var xe=-1,Be=!0,Qe=m&S?new Do:t;for(Q.set(a,u),Q.set(u,a);++xe<ae;){var ot=a[xe],wt=u[xe];if(x)var at=ne?x(wt,ot,xe,u,a,Q):x(ot,wt,xe,a,u,Q);if(at!==t){if(at)continue;Be=!1;break}if(Qe){if(!Ta(u,function(Pt,xt){if(!Gn(Qe,xt)&&(ot===Pt||z(ot,Pt,m,x,Q)))return Qe.push(xt)})){Be=!1;break}}else if(!(ot===wt||z(ot,wt,m,x,Q))){Be=!1;break}}return Q.delete(a),Q.delete(u),Be}function ch(a,u,m,x,z,Q,ne){switch(m){case Et:if(a.byteLength!=u.byteLength||a.byteOffset!=u.byteOffset)return!1;a=a.buffer,u=u.buffer;case Ct:return!(a.byteLength!=u.byteLength||!Q(new Bu(a),new Bu(u)));case pe:case me:case yt:return Ts(+a,+u);case qe:return a.name==u.name&&a.message==u.message;case Ve:case Oe:return a==u+"";case Xe:var ae=Wl;case Ue:var ge=x&P;if(ae||(ae=Us),a.size!=u.size&&!ge)return!1;var Re=ne.get(a);if(Re)return Re==u;x|=S,ne.set(a,u);var Pe=lh(ae(a),ae(u),x,z,Q,ne);return ne.delete(a),Pe;case st:if(Cr)return Cr.call(a)==Cr.call(u)}return!1}function Qd(a,u,m,x,z,Q){var ne=m&P,ae=ol(a),ge=ae.length,Re=ol(u),Pe=Re.length;if(ge!=Pe&&!ne)return!1;for(var xe=ge;xe--;){var Be=ae[xe];if(!(ne?Be in u:Vt.call(u,Be)))return!1}var Qe=Q.get(a),ot=Q.get(u);if(Qe&&ot)return Qe==u&&ot==a;var wt=!0;Q.set(a,u),Q.set(u,a);for(var at=ne;++xe<ge;){Be=ae[xe];var Pt=a[Be],xt=u[Be];if(x)var bi=ne?x(xt,Pt,Be,u,a,Q):x(Pt,xt,Be,a,u,Q);if(!(bi===t?Pt===xt||z(Pt,xt,m,x,Q):bi)){wt=!1;break}at||(at=Be=="constructor")}if(wt&&!at){var Mr=a.constructor,Ri=u.constructor;Mr!=Ri&&"constructor"in a&&"constructor"in u&&!(typeof Mr=="function"&&Mr instanceof Mr&&typeof Ri=="function"&&Ri instanceof Ri)&&(wt=!1)}return Q.delete(a),Q.delete(u),wt}function Ki(a){return Lr(Lc(a,t,Vc),a+"")}function ol(a){return hc(a,nr,_i)}function al(a){return hc(a,Zr,Yd)}var Oc=rc?function(a){return rc.get(a)}:dm;function Qa(a){for(var u=a.name+"",m=xa[u],x=Vt.call(xa,u)?m.length:0;x--;){var z=m[x],Q=z.func;if(Q==null||Q==a)return z.name}return u}function _s(a){var u=Vt.call(K,"placeholder")?K:a;return u.placeholder}function tt(){var a=K.iteratee||fm;return a=a===fm?Ba:a,arguments.length?a(arguments[0],arguments[1]):a}function ul(a,u){var m=a.__data__;return Ya(u)?m[typeof u=="string"?"string":"hash"]:m.map}function ll(a){for(var u=nr(a),m=u.length;m--;){var x=u[m],z=a[x];u[m]=[x,z,hl(z)]}return u}function Qs(a,u){var m=Sa(a,u);return jf(m)?m:t}function Cc(a){var u=Vt.call(a,No),m=a[No];try{a[No]=t;var x=!0}catch{}var z=Fu.call(a);return x&&(u?a[No]=m:delete a[No]),z}var _i=ec?function(a){return a==null?[]:(a=Gt(a),Fr(ec(a),function(u){return Jl.call(a,u)}))}:pm,Yd=ec?function(a){for(var u=[];a;)pi(u,_i(a)),a=mi(a);return u}:pm,qn=Un;($u&&qn(new $u(new ArrayBuffer(1)))!=Et||Lo&&qn(new Lo)!=Xe||Hu&&qn(Hu.resolve())!=Ie||qs&&qn(new qs)!=Ue||Wu&&qn(new Wu)!=ut)&&(qn=function(a){var u=Un(a),m=u==Ot?a.constructor:t,x=m?Ys(m):"";if(x)switch(x){case Mf:return Et;case Bs:return Xe;case kd:return Ie;case La:return Ue;case Mi:return ut}return u});function fh(a,u,m){for(var x=-1,z=m.length;++x<z;){var Q=m[x],ne=Q.size;switch(Q.type){case"drop":a+=ne;break;case"dropRight":u-=ne;break;case"take":u=Qn(u,a+ne);break;case"takeRight":a=_n(a,u-ne);break}}return{start:a,end:u}}function Xd(a){var u=a.match(ai);return u?u[1].split(Su):[]}function hh(a,u,m){u=Hi(u,a);for(var x=-1,z=u.length,Q=!1;++x<z;){var ne=Ti(u[x]);if(!(Q=a!=null&&m(a,ne)))break;a=a[ne]}return Q||++x!=z?Q:(z=a==null?0:a.length,!!z&&yp(z)&&rn(ne,z)&&(mt(a)||El(a)))}function cl(a){var u=a.length,m=new a.constructor(u);return u&&typeof a[0]=="string"&&Vt.call(a,"index")&&(m.index=a.index,m.input=a.input),m}function Bn(a){return typeof a.constructor=="function"&&!Es(a)?Da(mi(a)):{}}function jg(a,u,m){var x=a.constructor;switch(u){case Ct:return rl(a);case pe:case me:return new x(+a);case Et:return Bd(a,m);case Xi:case qt:case Cn:case Ji:case co:case fo:case ho:case po:case go:return $d(a,m);case Xe:return new x;case yt:case Oe:return new x(a);case Ve:return jd(a);case Ue:return new x;case st:return zd(a)}}function zg(a,u){var m=u.length;if(!m)return a;var x=m-1;return u[x]=(m>1?"& ":"")+u[x],u=u.join(m>2?", ":" "),a.replace(ha,`{
/* [wrapped with `+u+`] */
`)}function Nc(a){return mt(a)||El(a)||!!(bd&&a&&a[bd])}function rn(a,u){var m=typeof a;return u=u??de,!!u&&(m=="number"||m!="symbol"&&ga.test(a))&&a>-1&&a%1==0&&a<u}function ur(a,u,m){if(!pn(m))return!1;var x=typeof u;return(x=="number"?Jr(m)&&rn(u,m.length):x=="string"&&u in m)?Ts(m[u],a):!1}function $e(a,u){if(mt(a))return!1;var m=typeof a;return m=="number"||m=="symbol"||m=="boolean"||a==null||Si(a)?!0:Au.test(a)||!Zi.test(a)||u!=null&&a in Gt(u)}function Ya(a){var u=typeof a;return u=="string"||u=="number"||u=="symbol"||u=="boolean"?a!=="__proto__":a===null}function fl(a){var u=Qa(a),m=K[u];if(typeof m!="function"||!(u in gt.prototype))return!1;if(a===m)return!0;var x=Oc(m);return!!x&&a===x[0]}function Jd(a){return!!Ql&&Ql in a}var $g=Pa?Xo:gm;function Es(a){var u=a&&a.constructor,m=typeof u=="function"&&u.prototype||Di;return a===m}function hl(a){return a===a&&!pn(a)}function xc(a,u){return function(m){return m==null?!1:m[a]===u&&(u!==t||a in Gt(m))}}function Zd(a){var u=Me(a,function(x){return m.size===E&&m.clear(),x}),m=u.cache;return u}function ep(a,u){var m=a[1],x=u[1],z=m|x,Q=z<(A|b|L),ne=x==L&&m==M||x==L&&m==O&&a[7].length<=u[8]||x==(L|O)&&u[7].length<=u[8]&&m==M;if(!(Q||ne))return a;x&A&&(a[2]=u[2],z|=m&A?0:R);var ae=u[3];if(ae){var ge=a[3];a[3]=ge?Hd(ge,ae,u[4]):ae,a[4]=ge?qr(a[3],w):u[4]}return ae=u[5],ae&&(ge=a[5],a[5]=ge?th(ge,ae,u[6]):ae,a[6]=ge?qr(a[5],w):u[6]),ae=u[7],ae&&(a[7]=ae),x&L&&(a[8]=a[8]==null?u[8]:Qn(a[8],u[8])),a[9]==null&&(a[9]=u[9]),a[0]=u[0],a[1]=z,a}function tp(a){var u=[];if(a!=null)for(var m in Gt(a))u.push(m);return u}function dh(a){return Fu.call(a)}function Lc(a,u,m){return u=_n(u===t?a.length-1:u,0),function(){for(var x=arguments,z=-1,Q=_n(x.length-u,0),ne=Ee(Q);++z<Q;)ne[z]=x[u+z];z=-1;for(var ae=Ee(u+1);++z<u;)ae[z]=x[z];return ae[u]=m(ne),xn(a,this,ae)}}function Ln(a,u){return u.length<2?a:ds(a,tr(u,0,-1))}function Ei(a,u){for(var m=a.length,x=Qn(u.length,m),z=or(a);x--;){var Q=u[x];a[x]=rn(Q,m)?z[Q]:t}return a}function Gi(a,u){if(!(u==="constructor"&&typeof a[u]=="function")&&u!="__proto__")return a[u]}var ph=wi(vc),Xa=Lf||function(a,u){return $t.setTimeout(a,u)},Lr=wi($i);function gh(a,u,m){var x=u+"";return Lr(a,zg(x,np(Xd(x),m)))}function wi(a){var u=0,m=0;return function(){var x=Fg(),z=V-(x-m);if(m=x,z>0){if(++u>=U)return arguments[0]}else u=0;return a.apply(t,arguments)}}function Dc(a,u){var m=-1,x=a.length,z=x-1;for(u=u===t?x:u;++m<u;){var Q=ja(m,z),ne=a[Q];a[Q]=a[m],a[m]=ne}return a.length=u,a}var mh=Zd(function(a){var u=[];return a.charCodeAt(0)===46&&u.push(""),a.replace(fn,function(m,x,z,Q){u.push(z?Q.replace(Ll,"$1"):x||m)}),u});function Ti(a){if(typeof a=="string"||Si(a))return a;var u=a+"";return u=="0"&&1/a==-1/0?"-0":u}function Ys(a){if(a!=null){try{return Uu.call(a)}catch{}try{return a+""}catch{}}return""}function np(a,u){return In(ue,function(m){var x="_."+m[0];u&m[1]&&!ko(a,x)&&a.push(x)}),a.sort()}function rp(a){if(a instanceof gt)return a.clone();var u=new Yn(a.__wrapped__,a.__chain__);return u.__actions__=or(a.__actions__),u.__index__=a.__index__,u.__values__=a.__values__,u}function Mc(a,u,m){(m?ur(a,u,m):u===t)?u=1:u=_n(_t(u),0);var x=a==null?0:a.length;if(!x||u<1)return[];for(var z=0,Q=0,ne=Ee(xo(x/u));z<x;)ne[Q++]=tr(a,z,z+=u);return ne}function yh(a){for(var u=-1,m=a==null?0:a.length,x=0,z=[];++u<m;){var Q=a[u];Q&&(z[x++]=Q)}return z}function Yr(){var a=arguments.length;if(!a)return[];for(var u=Ee(a-1),m=arguments[0],x=a;x--;)u[x-1]=arguments[x];return pi(mt(m)?or(m):[m],un(u,1))}var Nt=vt(function(a,u){return Pn(a)?Bi(a,un(u,1,Pn,!0)):[]}),Dn=vt(function(a,u){var m=lr(u);return Pn(m)&&(m=t),Pn(a)?Bi(a,un(u,1,Pn,!0),tt(m,2)):[]}),En=vt(function(a,u){var m=lr(u);return Pn(m)&&(m=t),Pn(a)?Bi(a,un(u,1,Pn,!0),t,m):[]});function jn(a,u,m){var x=a==null?0:a.length;return x?(u=m||u===t?1:_t(u),tr(a,u<0?0:u,x)):[]}function Dr(a,u,m){var x=a==null?0:a.length;return x?(u=m||u===t?1:_t(u),u=x-u,tr(a,0,u<0?0:u)):[]}function Ja(a,u){return a&&a.length?tl(a,tt(u,3),!0,!0):[]}function bn(a,u){return a&&a.length?tl(a,tt(u,3),!0):[]}function dl(a,u,m,x){var z=a==null?0:a.length;return z?(m&&typeof m!="number"&&ur(a,u,m)&&(m=0,x=z),Vd(a,u,m,x)):[]}function Xs(a,u,m){var x=a==null?0:a.length;if(!x)return-1;var z=m==null?0:_t(m);return z<0&&(z=_n(x+z,0)),Oo(a,tt(u,3),z)}function pl(a,u,m){var x=a==null?0:a.length;if(!x)return-1;var z=x-1;return m!==t&&(z=_t(m),z=m<0?_n(x+z,0):Qn(z,x-1)),Oo(a,tt(u,3),z,!0)}function Vc(a){var u=a==null?0:a.length;return u?un(a,1):[]}function gl(a){var u=a==null?0:a.length;return u?un(a,ce):[]}function wr(a,u){var m=a==null?0:a.length;return m?(u=u===t?1:_t(u),un(a,u)):[]}function vh(a){for(var u=-1,m=a==null?0:a.length,x={};++u<m;){var z=a[u];x[z[0]]=z[1]}return x}function Wo(a){return a&&a.length?a[0]:t}function ws(a,u,m){var x=a==null?0:a.length;if(!x)return-1;var z=m==null?0:_t(m);return z<0&&(z=_n(x+z,0)),as(a,u,z)}function Uc(a){var u=a==null?0:a.length;return u?tr(a,0,-1):[]}var _h=vt(function(a){var u=Ht(a,Ha);return u.length&&u[0]===a[0]?dc(u):[]}),Js=vt(function(a){var u=lr(a),m=Ht(a,Ha);return u===lr(m)?u=t:m.pop(),m.length&&m[0]===a[0]?dc(m,tt(u,2)):[]}),Fc=vt(function(a){var u=lr(a),m=Ht(a,Ha);return u=typeof u=="function"?u:t,u&&m.pop(),m.length&&m[0]===a[0]?dc(m,t,u):[]});function Zs(a,u){return a==null?"":tc.call(a,u)}function lr(a){var u=a==null?0:a.length;return u?a[u-1]:t}function ml(a,u,m){var x=a==null?0:a.length;if(!x)return-1;var z=x;return m!==t&&(z=_t(m),z=z<0?_n(x+z,0):Qn(z,x-1)),u===u?Dg(a,u,z):Oo(a,h,z,!0)}function Eh(a,u){return a&&a.length?yc(a,_t(u)):t}var qc=vt(yl);function yl(a,u){return a&&a.length&&u&&u.length?dn(a,u):a}function cr(a,u,m){return a&&a.length&&u&&u.length?dn(a,u,tt(m,2)):a}function eo(a,u,m){return a&&a.length&&u&&u.length?dn(a,u,t,m):a}var Ii=Ki(function(a,u){var m=a==null?0:a.length,x=cc(a,u);return Sn(a,Ht(u,function(z){return rn(z,m)?+z:z}).sort(eh)),x});function Tr(a,u){var m=[];if(!(a&&a.length))return m;var x=-1,z=[],Q=a.length;for(u=tt(u,3);++x<Q;){var ne=a[x];u(ne,x,a)&&(m.push(ne),z.push(x))}return Sn(a,z),m}function Bc(a){return a==null?a:nc.call(a)}function wh(a,u,m){var x=a==null?0:a.length;return x?(m&&typeof m!="number"&&ur(a,u,m)?(u=0,m=x):(u=u==null?0:_t(u),m=m===t?x:_t(m)),tr(a,u,m)):[]}function Th(a,u){return za(a,u)}function Hg(a,u,m){return _c(a,u,tt(m,2))}function to(a,u){var m=a==null?0:a.length;if(m){var x=za(a,u);if(x<m&&Ts(a[x],u))return x}return-1}function ip(a,u){return za(a,u,!0)}function Ih(a,u,m){return _c(a,u,tt(m,2),!0)}function Ko(a,u){var m=a==null?0:a.length;if(m){var x=za(a,u,!0)-1;if(Ts(a[x],u))return x}return-1}function Ah(a){return a&&a.length?Qf(a):[]}function Go(a,u){return a&&a.length?Qf(a,tt(u,2)):[]}function sp(a){var u=a==null?0:a.length;return u?tr(a,1,u):[]}function op(a,u,m){return a&&a.length?(u=m||u===t?1:_t(u),tr(a,0,u<0?0:u)):[]}function Sh(a,u,m){var x=a==null?0:a.length;return x?(u=m||u===t?1:_t(u),u=x-u,tr(a,u<0?0:u,x)):[]}function jc(a,u){return a&&a.length?tl(a,tt(u,3),!1,!0):[]}function Wg(a,u){return a&&a.length?tl(a,tt(u,3)):[]}var Kg=vt(function(a){return ys(un(a,1,Pn,!0))}),ap=vt(function(a){var u=lr(a);return Pn(u)&&(u=t),ys(un(a,1,Pn,!0),tt(u,2))}),up=vt(function(a){var u=lr(a);return u=typeof u=="function"?u:t,ys(un(a,1,Pn,!0),t,u)});function Qo(a){return a&&a.length?ys(a):[]}function Gg(a,u){return a&&a.length?ys(a,tt(u,2)):[]}function Za(a,u){return u=typeof u=="function"?u:t,a&&a.length?ys(a,t,u):[]}function zc(a){if(!(a&&a.length))return[];var u=0;return a=Fr(a,function(m){if(Pn(m))return u=_n(m.length,u),!0}),Bt(u,function(m){return Ht(a,j(m))})}function on(a,u){if(!(a&&a.length))return[];var m=zc(a);return u==null?m:Ht(m,function(x){return xn(u,t,x)})}var Qg=vt(function(a,u){return Pn(a)?Bi(a,u):[]}),lp=vt(function(a){return wc(Fr(a,Pn))}),Yg=vt(function(a){var u=lr(a);return Pn(u)&&(u=t),wc(Fr(a,Pn),tt(u,2))}),Xg=vt(function(a){var u=lr(a);return u=typeof u=="function"?u:t,wc(Fr(a,Pn),t,u)}),cp=vt(zc);function fp(a,u){return nl(a||[],u||[],Uo)}function Jg(a,u){return nl(a||[],u||[],zo)}var Xr=vt(function(a){var u=a.length,m=u>1?a[u-1]:t;return m=typeof m=="function"?(a.pop(),m):t,on(a,m)});function $c(a){var u=K(a);return u.__chain__=!0,u}function Zg(a,u){return u(a),a}function Ai(a,u){return u(a)}var Hc=Ki(function(a){var u=a.length,m=u?a[0]:0,x=this.__wrapped__,z=function(Q){return cc(Q,a)};return u>1||this.__actions__.length||!(x instanceof gt)||!rn(m)?this.thru(z):(x=x.slice(m,+m+(u?1:0)),x.__actions__.push({func:Ai,args:[z],thisArg:t}),new Yn(x,this.__chain__).thru(function(Q){return u&&!Q.length&&Q.push(t),Q}))});function Yo(){return $c(this)}function Wc(){return new Yn(this.value(),this.__chain__)}function bh(){this.__values__===t&&(this.__values__=x_(this.value()));var a=this.__index__>=this.__values__.length,u=a?t:this.__values__[this.__index__++];return{done:a,value:u}}function Rh(){return this}function em(a){for(var u,m=this;m instanceof Vi;){var x=rp(m);x.__index__=0,x.__values__=t,u?z.__wrapped__=x:u=x;var z=x;m=m.__wrapped__}return z.__wrapped__=a,u}function Ph(){var a=this.__wrapped__;if(a instanceof gt){var u=a;return this.__actions__.length&&(u=new gt(this)),u=u.reverse(),u.__actions__.push({func:Ai,args:[Bc],thisArg:t}),new Yn(u,this.__chain__)}return this.thru(Bc)}function tm(){return $a(this.__wrapped__,this.__actions__)}var hp=Ac(function(a,u,m){Vt.call(a,m)?++a[m]:qi(a,m,1)});function dp(a,u,m){var x=mt(a)?Po:Qu;return m&&ur(a,u,m)&&(u=t),x(a,tt(u,3))}function Kc(a,u){var m=mt(a)?Fr:qf;return m(a,tt(u,3))}var Gc=Ho(Xs),pp=Ho(pl);function kh(a,u){return un(Jc(a,u),1)}function gp(a,u){return un(Jc(a,u),ce)}function Oh(a,u,m){return m=m===t?1:_t(m),un(Jc(a,u),m)}function vl(a,u){var m=mt(a)?In:ji;return m(a,tt(u,3))}function Qc(a,u){var m=mt(a)?Ro:Md;return m(a,tt(u,3))}var Yc=Ac(function(a,u,m){Vt.call(a,m)?a[m].push(u):qi(a,m,[u])});function mp(a,u,m,x){a=Jr(a)?a:tf(a),m=m&&!x?_t(m):0;var z=a.length;return m<0&&(m=_n(z+m,0)),vp(a)?m<=z&&a.indexOf(u,m)>-1:!!z&&as(a,u,m)>-1}var nm=vt(function(a,u,m){var x=-1,z=typeof u=="function",Q=Jr(a)?Ee(a.length):[];return ji(a,function(ne){Q[++x]=z?xn(u,ne,m):Wr(ne,u,m)}),Q}),Xc=Ac(function(a,u,m){qi(a,m,u)});function Jc(a,u){var m=mt(a)?Ht:$f;return m(a,tt(u,3))}function _l(a,u,m,x){return a==null?[]:(mt(u)||(u=u==null?[]:[u]),m=x?t:m,mt(m)||(m=m==null?[]:[m]),Zu(a,u,m))}var rm=Ac(function(a,u,m){a[m?0:1].push(u)},function(){return[[],[]]});function Zc(a,u,m){var x=mt(a)?gi:ye,z=arguments.length<3;return x(a,tt(u,4),m,z,ji)}function n(a,u,m){var x=mt(a)?$l:ye,z=arguments.length<3;return x(a,tt(u,4),m,z,Md)}function s(a,u){var m=mt(a)?Fr:qf;return m(a,Ge(tt(u,3)))}function c(a){var u=mt(a)?Fi:er;return u(a)}function d(a,u,m){(m?ur(a,u,m):u===t)?u=1:u=_t(u);var x=mt(a)?Vo:Kf;return x(a,u)}function T(a){var u=mt(a)?Ld:Gr;return u(a)}function N(a){if(a==null)return 0;if(Jr(a))return vp(a)?Co(a):a.length;var u=qn(a);return u==Xe||u==Ue?a.size:ms(a).length}function H(a,u,m){var x=mt(a)?Ta:Gf;return m&&ur(a,u,m)&&(u=t),x(a,tt(u,3))}var te=vt(function(a,u){if(a==null)return[];var m=u.length;return m>1&&ur(a,u[0],u[1])?u=[]:m>2&&ur(u[0],u[1],u[2])&&(u=[u[0]]),Zu(a,un(u,1),[])}),oe=Jt||function(){return $t.Date.now()};function we(a,u){if(typeof u!="function")throw new Br(f);return a=_t(a),function(){if(--a<1)return u.apply(this,arguments)}}function Ne(a,u,m){return u=m?t:u,u=a&&u==null?a.length:u,Wi(a,L,t,t,t,t,u)}function Le(a,u){var m;if(typeof u!="function")throw new Br(f);return a=_t(a),function(){return--a>0&&(m=u.apply(this,arguments)),a<=1&&(u=t),m}}var Ce=vt(function(a,u,m){var x=A;if(m.length){var z=qr(m,_s(Ce));x|=q}return Wi(a,x,u,m,z)}),ze=vt(function(a,u,m){var x=A|b;if(m.length){var z=qr(m,_s(ze));x|=q}return Wi(u,x,a,m,z)});function We(a,u,m){u=m?t:u;var x=Wi(a,M,t,t,t,t,t,u);return x.placeholder=We.placeholder,x}function Ke(a,u,m){u=m?t:u;var x=Wi(a,I,t,t,t,t,t,u);return x.placeholder=Ke.placeholder,x}function ln(a,u,m){var x,z,Q,ne,ae,ge,Re=0,Pe=!1,xe=!1,Be=!0;if(typeof a!="function")throw new Br(f);u=Qi(u)||0,pn(m)&&(Pe=!!m.leading,xe="maxWait"in m,Q=xe?_n(Qi(m.maxWait)||0,u):Q,Be="trailing"in m?!!m.trailing:Be);function Qe(kn){var Is=x,Zo=z;return x=z=t,Re=kn,ne=a.apply(Zo,Is),ne}function ot(kn){return Re=kn,ae=Xa(Pt,u),Pe?Qe(kn):ne}function wt(kn){var Is=kn-ge,Zo=kn-Re,W_=u-Is;return xe?Qn(W_,Q-Zo):W_}function at(kn){var Is=kn-ge,Zo=kn-Re;return ge===t||Is>=u||Is<0||xe&&Zo>=Q}function Pt(){var kn=oe();if(at(kn))return xt(kn);ae=Xa(Pt,wt(kn))}function xt(kn){return ae=t,Be&&x?Qe(kn):(x=z=t,ne)}function bi(){ae!==t&&Jf(ae),Re=0,x=ge=z=ae=t}function Mr(){return ae===t?ne:xt(oe())}function Ri(){var kn=oe(),Is=at(kn);if(x=arguments,z=this,ge=kn,Is){if(ae===t)return ot(ge);if(xe)return Jf(ae),ae=Xa(Pt,u),Qe(ge)}return ae===t&&(ae=Xa(Pt,u)),ne}return Ri.cancel=bi,Ri.flush=Mr,Ri}var ve=vt(function(a,u){return Ff(a,1,u)}),le=vt(function(a,u,m){return Ff(a,Qi(u)||0,m)});function _e(a){return Wi(a,F)}function Me(a,u){if(typeof a!="function"||u!=null&&typeof u!="function")throw new Br(f);var m=function(){var x=arguments,z=u?u.apply(this,x):x[0],Q=m.cache;if(Q.has(z))return Q.get(z);var ne=a.apply(this,x);return m.cache=Q.set(z,ne)||Q,ne};return m.cache=new(Me.Cache||jr),m}Me.Cache=jr;function Ge(a){if(typeof a!="function")throw new Br(f);return function(){var u=arguments;switch(u.length){case 0:return!a.call(this);case 1:return!a.call(this,u[0]);case 2:return!a.call(this,u[0],u[1]);case 3:return!a.call(this,u[0],u[1],u[2])}return!a.apply(this,u)}}function Ze(a){return Le(2,a)}var et=qd(function(a,u){u=u.length==1&&mt(u[0])?Ht(u[0],jt(tt())):Ht(un(u,1),jt(tt()));var m=u.length;return vt(function(x){for(var z=-1,Q=Qn(x.length,m);++z<Q;)x[z]=u[z].call(this,x[z]);return xn(a,this,x)})}),rt=vt(function(a,u){var m=qr(u,_s(rt));return Wi(a,q,t,u,m)}),Rn=vt(function(a,u){var m=qr(u,_s(Rn));return Wi(a,$,t,u,m)}),Ut=Ki(function(a,u){return Wi(a,O,t,t,t,u)});function no(a,u){if(typeof a!="function")throw new Br(f);return u=u===t?u:_t(u),vt(a,u)}function im(a,u){if(typeof a!="function")throw new Br(f);return u=u==null?0:_n(_t(u),0),vt(function(m){var x=m[u],z=vs(m,0,u);return x&&pi(z,x),xn(a,this,z)})}function BI(a,u,m){var x=!0,z=!0;if(typeof a!="function")throw new Br(f);return pn(m)&&(x="leading"in m?!!m.leading:x,z="trailing"in m?!!m.trailing:z),ln(a,u,{leading:x,maxWait:u,trailing:z})}function jI(a){return Ne(a,1)}function zI(a,u){return rt(Tc(u),a)}function $I(){if(!arguments.length)return[];var a=arguments[0];return mt(a)?a:[a]}function HI(a){return _r(a,_)}function WI(a,u){return u=typeof u=="function"?u:t,_r(a,_,u)}function KI(a){return _r(a,v|_)}function GI(a,u){return u=typeof u=="function"?u:t,_r(a,v|_,u)}function QI(a,u){return u==null||Gu(a,u,nr(u))}function Ts(a,u){return a===u||a!==a&&u!==u}var YI=kc(Ws),XI=kc(function(a,u){return a>=u}),El=pc(function(){return arguments}())?pc:function(a){return wn(a)&&Vt.call(a,"callee")&&!Jl.call(a,"callee")},mt=Ee.isArray,JI=wa?jt(wa):Ud;function Jr(a){return a!=null&&yp(a.length)&&!Xo(a)}function Pn(a){return wn(a)&&Jr(a)}function ZI(a){return a===!0||a===!1||wn(a)&&Un(a)==pe}var eu=Df||gm,eA=Nn?jt(Nn):gs;function tA(a){return wn(a)&&a.nodeType===1&&!Ch(a)}function nA(a){if(a==null)return!0;if(Jr(a)&&(mt(a)||typeof a=="string"||typeof a.splice=="function"||eu(a)||ef(a)||El(a)))return!a.length;var u=qn(a);if(u==Xe||u==Ue)return!a.size;if(Es(a))return!ms(a).length;for(var m in a)if(Vt.call(a,m))return!1;return!0}function rA(a,u){return Kr(a,u)}function iA(a,u,m){m=typeof m=="function"?m:t;var x=m?m(a,u):t;return x===t?Kr(a,u,t,m):!!x}function sm(a){if(!wn(a))return!1;var u=Un(a);return u==qe||u==Se||typeof a.message=="string"&&typeof a.name=="string"&&!Ch(a)}function sA(a){return typeof a=="number"&&Oa(a)}function Xo(a){if(!pn(a))return!1;var u=Un(a);return u==Ye||u==Je||u==ie||u==be}function k_(a){return typeof a=="number"&&a==_t(a)}function yp(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=de}function pn(a){var u=typeof a;return a!=null&&(u=="object"||u=="function")}function wn(a){return a!=null&&typeof a=="object"}var O_=Ur?jt(Ur):Fd;function oA(a,u){return a===u||qa(a,u,ll(u))}function aA(a,u,m){return m=typeof m=="function"?m:t,qa(a,u,ll(u),m)}function uA(a){return C_(a)&&a!=+a}function lA(a){if($g(a))throw new ct(l);return jf(a)}function cA(a){return a===null}function fA(a){return a==null}function C_(a){return typeof a=="number"||wn(a)&&Un(a)==yt}function Ch(a){if(!wn(a)||Un(a)!=Ot)return!1;var u=mi(a);if(u===null)return!0;var m=Vt.call(u,"constructor")&&u.constructor;return typeof m=="function"&&m instanceof m&&Uu.call(m)==Yl}var om=bo?jt(bo):Xu;function hA(a){return k_(a)&&a>=-9007199254740991&&a<=de}var N_=di?jt(di):zi;function vp(a){return typeof a=="string"||!mt(a)&&wn(a)&&Un(a)==Oe}function Si(a){return typeof a=="symbol"||wn(a)&&Un(a)==st}var ef=zl?jt(zl):Ju;function dA(a){return a===t}function pA(a){return wn(a)&&qn(a)==ut}function gA(a){return wn(a)&&Un(a)==Dt}var mA=kc(Ks),yA=kc(function(a,u){return a<=u});function x_(a){if(!a)return[];if(Jr(a))return vp(a)?Or(a):or(a);if(cs&&a[cs])return xg(a[cs]());var u=qn(a),m=u==Xe?Wl:u==Ue?Us:tf;return m(a)}function Jo(a){if(!a)return a===0?a:0;if(a=Qi(a),a===ce||a===-1/0){var u=a<0?-1:1;return u*re}return a===a?a:0}function _t(a){var u=Jo(a),m=u%1;return u===u?m?u-m:u:0}function L_(a){return a?hs(_t(a),0,B):0}function Qi(a){if(typeof a=="number")return a;if(Si(a))return X;if(pn(a)){var u=typeof a.valueOf=="function"?a.valueOf():a;a=pn(u)?u+"":u}if(typeof a!="string")return a===0?a:+a;a=Rt(a);var m=Dl.test(a);return m||pa.test(a)?Ao(a.slice(2),m?2:8):li.test(a)?X:+a}function D_(a){return vi(a,Zr(a))}function vA(a){return a?hs(_t(a),-9007199254740991,de):a===0?a:0}function Qt(a){return a==null?"":Er(a)}var _A=Wa(function(a,u){if(Es(u)||Jr(u)){vi(u,nr(u),a);return}for(var m in u)Vt.call(u,m)&&Uo(a,m,u[m])}),M_=Wa(function(a,u){vi(u,Zr(u),a)}),_p=Wa(function(a,u,m,x){vi(u,Zr(u),a,x)}),EA=Wa(function(a,u,m,x){vi(u,nr(u),a,x)}),wA=Ki(cc);function TA(a,u){var m=Da(a);return u==null?m:en(m,u)}var IA=vt(function(a,u){a=Gt(a);var m=-1,x=u.length,z=x>2?u[2]:t;for(z&&ur(u[0],u[1],z)&&(x=1);++m<x;)for(var Q=u[m],ne=Zr(Q),ae=-1,ge=ne.length;++ae<ge;){var Re=ne[ae],Pe=a[Re];(Pe===t||Ts(Pe,Di[Re])&&!Vt.call(a,Re))&&(a[Re]=Q[Re])}return a}),AA=vt(function(a){return a.push(t,ah),xn(V_,t,a)});function SA(a,u){return Kn(a,tt(u,3),xr)}function bA(a,u){return Kn(a,tt(u,3),Hs)}function RA(a,u){return a==null?a:fc(a,tt(u,3),Zr)}function PA(a,u){return a==null?a:Yu(a,tt(u,3),Zr)}function kA(a,u){return a&&xr(a,tt(u,3))}function OA(a,u){return a&&Hs(a,tt(u,3))}function CA(a){return a==null?[]:Fa(a,nr(a))}function NA(a){return a==null?[]:Fa(a,Zr(a))}function am(a,u,m){var x=a==null?t:ds(a,u);return x===t?m:x}function xA(a,u){return a!=null&&hh(a,u,Hr)}function um(a,u){return a!=null&&hh(a,u,qo)}var LA=Wd(function(a,u,m){u!=null&&typeof u.toString!="function"&&(u=Fu.call(u)),a[u]=m},cm(ei)),DA=Wd(function(a,u,m){u!=null&&typeof u.toString!="function"&&(u=Fu.call(u)),Vt.call(a,u)?a[u].push(m):a[u]=[m]},tt),MA=vt(Wr);function nr(a){return Jr(a)?Ui(a):ms(a)}function Zr(a){return Jr(a)?Ui(a,!0):zf(a)}function VA(a,u){var m={};return u=tt(u,3),xr(a,function(x,z,Q){qi(m,u(x,z,Q),x)}),m}function UA(a,u){var m={};return u=tt(u,3),xr(a,function(x,z,Q){qi(m,z,u(x,z,Q))}),m}var FA=Wa(function(a,u,m){Bo(a,u,m)}),V_=Wa(function(a,u,m,x){Bo(a,u,m,x)}),qA=Ki(function(a,u){var m={};if(a==null)return m;var x=!1;u=Ht(u,function(Q){return Q=Hi(Q,a),x||(x=Q.length>1),Q}),vi(a,al(a),m),x&&(m=_r(m,v|y|_,uh));for(var z=u.length;z--;)Ec(m,u[z]);return m});function BA(a,u){return U_(a,Ge(tt(u)))}var jA=Ki(function(a,u){return a==null?{}:Wf(a,u)});function U_(a,u){if(a==null)return{};var m=Ht(al(a),function(x){return[x]});return u=tt(u),Gs(a,m,function(x,z){return u(x,z[0])})}function zA(a,u,m){u=Hi(u,a);var x=-1,z=u.length;for(z||(z=1,a=t);++x<z;){var Q=a==null?t:a[Ti(u[x])];Q===t&&(x=z,Q=m),a=Xo(Q)?Q.call(a):Q}return a}function $A(a,u,m){return a==null?a:zo(a,u,m)}function HA(a,u,m,x){return x=typeof x=="function"?x:t,a==null?a:zo(a,u,m,x)}var F_=sh(nr),q_=sh(Zr);function WA(a,u,m){var x=mt(a),z=x||eu(a)||ef(a);if(u=tt(u,4),m==null){var Q=a&&a.constructor;z?m=x?new Q:[]:pn(a)?m=Xo(Q)?Da(mi(a)):{}:m={}}return(z?In:xr)(a,function(ne,ae,ge){return u(m,ne,ae,ge)}),m}function KA(a,u){return a==null?!0:Ec(a,u)}function GA(a,u,m){return a==null?a:Xf(a,u,Tc(m))}function QA(a,u,m,x){return x=typeof x=="function"?x:t,a==null?a:Xf(a,u,Tc(m),x)}function tf(a){return a==null?[]:an(a,nr(a))}function YA(a){return a==null?[]:an(a,Zr(a))}function XA(a,u,m){return m===t&&(m=u,u=t),m!==t&&(m=Qi(m),m=m===m?m:0),u!==t&&(u=Qi(u),u=u===u?u:0),hs(Qi(a),u,m)}function JA(a,u,m){return u=Jo(u),m===t?(m=u,u=0):m=Jo(m),a=Qi(a),Bf(a,u,m)}function ZA(a,u,m){if(m&&typeof m!="boolean"&&ur(a,u,m)&&(u=m=t),m===t&&(typeof u=="boolean"?(m=u,u=t):typeof a=="boolean"&&(m=a,a=t)),a===t&&u===t?(a=0,u=1):(a=Jo(a),u===t?(u=a,a=0):u=Jo(u)),a>u){var x=a;a=u,u=x}if(m||a%1||u%1){var z=zu();return Qn(a+z*(u-a+Lu("1e-"+((z+"").length-1))),u)}return ja(a,u)}var eS=$o(function(a,u,m){return u=u.toLowerCase(),a+(m?B_(u):u)});function B_(a){return lm(Qt(a).toLowerCase())}function j_(a){return a=Qt(a),a&&a.replace(Ru,vd).replace(ql,"")}function tS(a,u,m){a=Qt(a),u=Er(u);var x=a.length;m=m===t?x:hs(_t(m),0,x);var z=m;return m-=u.length,m>=0&&a.slice(m,z)==u}function nS(a){return a=Qt(a),a&&ki.test(a)?a.replace(si,_d):a}function rS(a){return a=Qt(a),a&&oi.test(a)?a.replace(Rs,"\\$&"):a}var iS=$o(function(a,u,m){return a+(m?"-":"")+u.toLowerCase()}),sS=$o(function(a,u,m){return a+(m?" ":"")+u.toLowerCase()}),oS=nh("toLowerCase");function aS(a,u,m){a=Qt(a),u=_t(u);var x=u?Co(a):0;if(!u||x>=u)return a;var z=(u-x)/2;return sl(Fs(z),m)+a+sl(xo(z),m)}function uS(a,u,m){a=Qt(a),u=_t(u);var x=u?Co(a):0;return u&&x<u?a+sl(u-x,m):a}function lS(a,u,m){a=Qt(a),u=_t(u);var x=u?Co(a):0;return u&&x<u?sl(u-x,m)+a:a}function cS(a,u,m){return m||u==null?u=0:u&&(u=+u),Pd(Qt(a).replace(es,""),u||0)}function fS(a,u,m){return(m?ur(a,u,m):u===t)?u=1:u=_t(u),jo(Qt(a),u)}function hS(){var a=arguments,u=Qt(a[0]);return a.length<3?u:u.replace(a[1],a[2])}var dS=$o(function(a,u,m){return a+(m?"_":"")+u.toLowerCase()});function pS(a,u,m){return m&&typeof m!="number"&&ur(a,u,m)&&(u=m=t),m=m===t?B:m>>>0,m?(a=Qt(a),a&&(typeof u=="string"||u!=null&&!om(u))&&(u=Er(u),!u&&ba(a))?vs(Or(a),0,m):a.split(u,m)):[]}var gS=$o(function(a,u,m){return a+(m?" ":"")+lm(u)});function mS(a,u,m){return a=Qt(a),m=m==null?0:hs(_t(m),0,a.length),u=Er(u),a.slice(m,m+u.length)==u}function yS(a,u,m){var x=K.templateSettings;m&&ur(a,u,m)&&(u=t),a=Qt(a),u=_p({},u,x,oh);var z=_p({},u.imports,x.imports,oh),Q=nr(z),ne=an(z,Q),ae,ge,Re=0,Pe=u.interpolate||_o,xe="__p += '",Be=Vu((u.escape||_o).source+"|"+Pe.source+"|"+(Pe===fa?ui:_o).source+"|"+(u.evaluate||_o).source+"|$","g"),Qe="//# sourceURL="+(Vt.call(u,"sourceURL")?(u.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++jl+"]")+`
`;a.replace(Be,function(at,Pt,xt,bi,Mr,Ri){return xt||(xt=bi),xe+=a.slice(Re,Ri).replace(Rf,Ed),Pt&&(ae=!0,xe+=`' +
__e(`+Pt+`) +
'`),Mr&&(ge=!0,xe+=`';
`+Mr+`;
__p += '`),xt&&(xe+=`' +
((__t = (`+xt+`)) == null ? '' : __t) +
'`),Re=Ri+at.length,at}),xe+=`';
`;var ot=Vt.call(u,"variable")&&u.variable;if(!ot)xe=`with (obj) {
`+xe+`
}
`;else if(da.test(ot))throw new ct(p);xe=(ge?xe.replace(mo,""):xe).replace(ua,"$1").replace(la,"$1;"),xe="function("+(ot||"obj")+`) {
`+(ot?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(ae?", __e = _.escape":"")+(ge?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+xe+`return __p
}`;var wt=$_(function(){return Mt(Q,Qe+"return "+xe).apply(t,ne)});if(wt.source=xe,sm(wt))throw wt;return wt}function vS(a){return Qt(a).toLowerCase()}function _S(a){return Qt(a).toUpperCase()}function ES(a,u,m){if(a=Qt(a),a&&(m||u===t))return Rt(a);if(!a||!(u=Er(u)))return a;var x=Or(a),z=Or(u),Q=gr(x,z),ne=Vs(x,z)+1;return vs(x,Q,ne).join("")}function wS(a,u,m){if(a=Qt(a),a&&(m||u===t))return a.slice(0,Gl(a)+1);if(!a||!(u=Er(u)))return a;var x=Or(a),z=Vs(x,Or(u))+1;return vs(x,0,z).join("")}function TS(a,u,m){if(a=Qt(a),a&&(m||u===t))return a.replace(es,"");if(!a||!(u=Er(u)))return a;var x=Or(a),z=gr(x,Or(u));return vs(x,z).join("")}function IS(a,u){var m=D,x=k;if(pn(u)){var z="separator"in u?u.separator:z;m="length"in u?_t(u.length):m,x="omission"in u?Er(u.omission):x}a=Qt(a);var Q=a.length;if(ba(a)){var ne=Or(a);Q=ne.length}if(m>=Q)return a;var ae=m-Co(x);if(ae<1)return x;var ge=ne?vs(ne,0,ae).join(""):a.slice(0,ae);if(z===t)return ge+x;if(ne&&(ae+=ge.length-ae),om(z)){if(a.slice(ae).search(z)){var Re,Pe=ge;for(z.global||(z=Vu(z.source,Qt(Ps.exec(z))+"g")),z.lastIndex=0;Re=z.exec(Pe);)var xe=Re.index;ge=ge.slice(0,xe===t?ae:xe)}}else if(a.indexOf(Er(z),ae)!=ae){var Be=ge.lastIndexOf(z);Be>-1&&(ge=ge.slice(0,Be))}return ge+x}function AS(a){return a=Qt(a),a&&ca.test(a)?a.replace(br,wd):a}var SS=$o(function(a,u,m){return a+(m?" ":"")+u.toUpperCase()}),lm=nh("toUpperCase");function z_(a,u,m){return a=Qt(a),u=m?t:u,u===t?Ng(a)?Mg(a):Ia(a):a.match(u)||[]}var $_=vt(function(a,u){try{return xn(a,t,u)}catch(m){return sm(m)?m:new ct(m)}}),bS=Ki(function(a,u){return In(u,function(m){m=Ti(m),qi(a,m,Ce(a[m],a))}),a});function RS(a){var u=a==null?0:a.length,m=tt();return a=u?Ht(a,function(x){if(typeof x[1]!="function")throw new Br(f);return[m(x[0]),x[1]]}):[],vt(function(x){for(var z=-1;++z<u;){var Q=a[z];if(xn(Q[0],this,x))return xn(Q[1],this,x)}})}function PS(a){return Dd(_r(a,v))}function cm(a){return function(){return a}}function kS(a,u){return a==null||a!==a?u:a}var OS=Rc(),CS=Rc(!0);function ei(a){return a}function fm(a){return Ba(typeof a=="function"?a:_r(a,v))}function NS(a){return mc(_r(a,v))}function xS(a,u){return nn(a,_r(u,v))}var LS=vt(function(a,u){return function(m){return Wr(m,a,u)}}),DS=vt(function(a,u){return function(m){return Wr(a,m,u)}});function hm(a,u,m){var x=nr(u),z=Fa(u,x);m==null&&!(pn(u)&&(z.length||!x.length))&&(m=u,u=a,a=this,z=Fa(u,nr(u)));var Q=!(pn(m)&&"chain"in m)||!!m.chain,ne=Xo(a);return In(z,function(ae){var ge=u[ae];a[ae]=ge,ne&&(a.prototype[ae]=function(){var Re=this.__chain__;if(Q||Re){var Pe=a(this.__wrapped__),xe=Pe.__actions__=or(this.__actions__);return xe.push({func:ge,args:arguments,thisArg:a}),Pe.__chain__=Re,Pe}return ge.apply(a,pi([this.value()],arguments))})}),a}function MS(){return $t._===this&&($t._=Ad),this}function dm(){}function VS(a){return a=_t(a),vt(function(u){return yc(u,a)})}var US=Pc(Ht),FS=Pc(Po),qS=Pc(Ta);function H_(a){return $e(a)?j(Ti(a)):sn(a)}function BS(a){return function(u){return a==null?t:ds(a,u)}}var jS=ih(),zS=ih(!0);function pm(){return[]}function gm(){return!1}function $S(){return{}}function HS(){return""}function WS(){return!0}function KS(a,u){if(a=_t(a),a<1||a>de)return[];var m=B,x=Qn(a,B);u=tt(u),a-=B;for(var z=Bt(x,u);++m<a;)u(m);return z}function GS(a){return mt(a)?Ht(a,Ti):Si(a)?[a]:or(mh(Qt(a)))}function QS(a){var u=++ka;return Qt(a)+u}var YS=il(function(a,u){return a+u},0),XS=Fn("ceil"),JS=il(function(a,u){return a/u},1),ZS=Fn("floor");function eb(a){return a&&a.length?Fo(a,ei,Ws):t}function tb(a,u){return a&&a.length?Fo(a,tt(u,2),Ws):t}function nb(a){return C(a,ei)}function rb(a,u){return C(a,tt(u,2))}function ib(a){return a&&a.length?Fo(a,ei,Ks):t}function sb(a,u){return a&&a.length?Fo(a,tt(u,2),Ks):t}var ob=il(function(a,u){return a*u},1),ab=Fn("round"),ub=il(function(a,u){return a-u},0);function lb(a){return a&&a.length?Fe(a,ei):0}function cb(a,u){return a&&a.length?Fe(a,tt(u,2)):0}return K.after=we,K.ary=Ne,K.assign=_A,K.assignIn=M_,K.assignInWith=_p,K.assignWith=EA,K.at=wA,K.before=Le,K.bind=Ce,K.bindAll=bS,K.bindKey=ze,K.castArray=$I,K.chain=$c,K.chunk=Mc,K.compact=yh,K.concat=Yr,K.cond=RS,K.conforms=PS,K.constant=cm,K.countBy=hp,K.create=TA,K.curry=We,K.curryRight=Ke,K.debounce=ln,K.defaults=IA,K.defaultsDeep=AA,K.defer=ve,K.delay=le,K.difference=Nt,K.differenceBy=Dn,K.differenceWith=En,K.drop=jn,K.dropRight=Dr,K.dropRightWhile=Ja,K.dropWhile=bn,K.fill=dl,K.filter=Kc,K.flatMap=kh,K.flatMapDeep=gp,K.flatMapDepth=Oh,K.flatten=Vc,K.flattenDeep=gl,K.flattenDepth=wr,K.flip=_e,K.flow=OS,K.flowRight=CS,K.fromPairs=vh,K.functions=CA,K.functionsIn=NA,K.groupBy=Yc,K.initial=Uc,K.intersection=_h,K.intersectionBy=Js,K.intersectionWith=Fc,K.invert=LA,K.invertBy=DA,K.invokeMap=nm,K.iteratee=fm,K.keyBy=Xc,K.keys=nr,K.keysIn=Zr,K.map=Jc,K.mapKeys=VA,K.mapValues=UA,K.matches=NS,K.matchesProperty=xS,K.memoize=Me,K.merge=FA,K.mergeWith=V_,K.method=LS,K.methodOf=DS,K.mixin=hm,K.negate=Ge,K.nthArg=VS,K.omit=qA,K.omitBy=BA,K.once=Ze,K.orderBy=_l,K.over=US,K.overArgs=et,K.overEvery=FS,K.overSome=qS,K.partial=rt,K.partialRight=Rn,K.partition=rm,K.pick=jA,K.pickBy=U_,K.property=H_,K.propertyOf=BS,K.pull=qc,K.pullAll=yl,K.pullAllBy=cr,K.pullAllWith=eo,K.pullAt=Ii,K.range=jS,K.rangeRight=zS,K.rearg=Ut,K.reject=s,K.remove=Tr,K.rest=no,K.reverse=Bc,K.sampleSize=d,K.set=$A,K.setWith=HA,K.shuffle=T,K.slice=wh,K.sortBy=te,K.sortedUniq=Ah,K.sortedUniqBy=Go,K.split=pS,K.spread=im,K.tail=sp,K.take=op,K.takeRight=Sh,K.takeRightWhile=jc,K.takeWhile=Wg,K.tap=Zg,K.throttle=BI,K.thru=Ai,K.toArray=x_,K.toPairs=F_,K.toPairsIn=q_,K.toPath=GS,K.toPlainObject=D_,K.transform=WA,K.unary=jI,K.union=Kg,K.unionBy=ap,K.unionWith=up,K.uniq=Qo,K.uniqBy=Gg,K.uniqWith=Za,K.unset=KA,K.unzip=zc,K.unzipWith=on,K.update=GA,K.updateWith=QA,K.values=tf,K.valuesIn=YA,K.without=Qg,K.words=z_,K.wrap=zI,K.xor=lp,K.xorBy=Yg,K.xorWith=Xg,K.zip=cp,K.zipObject=fp,K.zipObjectDeep=Jg,K.zipWith=Xr,K.entries=F_,K.entriesIn=q_,K.extend=M_,K.extendWith=_p,hm(K,K),K.add=YS,K.attempt=$_,K.camelCase=eS,K.capitalize=B_,K.ceil=XS,K.clamp=XA,K.clone=HI,K.cloneDeep=KI,K.cloneDeepWith=GI,K.cloneWith=WI,K.conformsTo=QI,K.deburr=j_,K.defaultTo=kS,K.divide=JS,K.endsWith=tS,K.eq=Ts,K.escape=nS,K.escapeRegExp=rS,K.every=dp,K.find=Gc,K.findIndex=Xs,K.findKey=SA,K.findLast=pp,K.findLastIndex=pl,K.findLastKey=bA,K.floor=ZS,K.forEach=vl,K.forEachRight=Qc,K.forIn=RA,K.forInRight=PA,K.forOwn=kA,K.forOwnRight=OA,K.get=am,K.gt=YI,K.gte=XI,K.has=xA,K.hasIn=um,K.head=Wo,K.identity=ei,K.includes=mp,K.indexOf=ws,K.inRange=JA,K.invoke=MA,K.isArguments=El,K.isArray=mt,K.isArrayBuffer=JI,K.isArrayLike=Jr,K.isArrayLikeObject=Pn,K.isBoolean=ZI,K.isBuffer=eu,K.isDate=eA,K.isElement=tA,K.isEmpty=nA,K.isEqual=rA,K.isEqualWith=iA,K.isError=sm,K.isFinite=sA,K.isFunction=Xo,K.isInteger=k_,K.isLength=yp,K.isMap=O_,K.isMatch=oA,K.isMatchWith=aA,K.isNaN=uA,K.isNative=lA,K.isNil=fA,K.isNull=cA,K.isNumber=C_,K.isObject=pn,K.isObjectLike=wn,K.isPlainObject=Ch,K.isRegExp=om,K.isSafeInteger=hA,K.isSet=N_,K.isString=vp,K.isSymbol=Si,K.isTypedArray=ef,K.isUndefined=dA,K.isWeakMap=pA,K.isWeakSet=gA,K.join=Zs,K.kebabCase=iS,K.last=lr,K.lastIndexOf=ml,K.lowerCase=sS,K.lowerFirst=oS,K.lt=mA,K.lte=yA,K.max=eb,K.maxBy=tb,K.mean=nb,K.meanBy=rb,K.min=ib,K.minBy=sb,K.stubArray=pm,K.stubFalse=gm,K.stubObject=$S,K.stubString=HS,K.stubTrue=WS,K.multiply=ob,K.nth=Eh,K.noConflict=MS,K.noop=dm,K.now=oe,K.pad=aS,K.padEnd=uS,K.padStart=lS,K.parseInt=cS,K.random=ZA,K.reduce=Zc,K.reduceRight=n,K.repeat=fS,K.replace=hS,K.result=zA,K.round=ab,K.runInContext=he,K.sample=c,K.size=N,K.snakeCase=dS,K.some=H,K.sortedIndex=Th,K.sortedIndexBy=Hg,K.sortedIndexOf=to,K.sortedLastIndex=ip,K.sortedLastIndexBy=Ih,K.sortedLastIndexOf=Ko,K.startCase=gS,K.startsWith=mS,K.subtract=ub,K.sum=lb,K.sumBy=cb,K.template=yS,K.times=KS,K.toFinite=Jo,K.toInteger=_t,K.toLength=L_,K.toLower=vS,K.toNumber=Qi,K.toSafeInteger=vA,K.toString=Qt,K.toUpper=_S,K.trim=ES,K.trimEnd=wS,K.trimStart=TS,K.truncate=IS,K.unescape=AS,K.uniqueId=QS,K.upperCase=SS,K.upperFirst=lm,K.each=vl,K.eachRight=Qc,K.first=Wo,hm(K,function(){var a={};return xr(K,function(u,m){Vt.call(K.prototype,m)||(a[m]=u)}),a}(),{chain:!1}),K.VERSION=r,In(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){K[a].placeholder=K}),In(["drop","take"],function(a,u){gt.prototype[a]=function(m){m=m===t?1:_n(_t(m),0);var x=this.__filtered__&&!u?new gt(this):this.clone();return x.__filtered__?x.__takeCount__=Qn(m,x.__takeCount__):x.__views__.push({size:Qn(m,B),type:a+(x.__dir__<0?"Right":"")}),x},gt.prototype[a+"Right"]=function(m){return this.reverse()[a](m).reverse()}}),In(["filter","map","takeWhile"],function(a,u){var m=u+1,x=m==J||m==fe;gt.prototype[a]=function(z){var Q=this.clone();return Q.__iteratees__.push({iteratee:tt(z,3),type:m}),Q.__filtered__=Q.__filtered__||x,Q}}),In(["head","last"],function(a,u){var m="take"+(u?"Right":"");gt.prototype[a]=function(){return this[m](1).value()[0]}}),In(["initial","tail"],function(a,u){var m="drop"+(u?"":"Right");gt.prototype[a]=function(){return this.__filtered__?new gt(this):this[m](1)}}),gt.prototype.compact=function(){return this.filter(ei)},gt.prototype.find=function(a){return this.filter(a).head()},gt.prototype.findLast=function(a){return this.reverse().find(a)},gt.prototype.invokeMap=vt(function(a,u){return typeof a=="function"?new gt(this):this.map(function(m){return Wr(m,a,u)})}),gt.prototype.reject=function(a){return this.filter(Ge(tt(a)))},gt.prototype.slice=function(a,u){a=_t(a);var m=this;return m.__filtered__&&(a>0||u<0)?new gt(m):(a<0?m=m.takeRight(-a):a&&(m=m.drop(a)),u!==t&&(u=_t(u),m=u<0?m.dropRight(-u):m.take(u-a)),m)},gt.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},gt.prototype.toArray=function(){return this.take(B)},xr(gt.prototype,function(a,u){var m=/^(?:filter|find|map|reject)|While$/.test(u),x=/^(?:head|last)$/.test(u),z=K[x?"take"+(u=="last"?"Right":""):u],Q=x||/^find/.test(u);z&&(K.prototype[u]=function(){var ne=this.__wrapped__,ae=x?[1]:arguments,ge=ne instanceof gt,Re=ae[0],Pe=ge||mt(ne),xe=function(Pt){var xt=z.apply(K,pi([Pt],ae));return x&&Be?xt[0]:xt};Pe&&m&&typeof Re=="function"&&Re.length!=1&&(ge=Pe=!1);var Be=this.__chain__,Qe=!!this.__actions__.length,ot=Q&&!Be,wt=ge&&!Qe;if(!Q&&Pe){ne=wt?ne:new gt(this);var at=a.apply(ne,ae);return at.__actions__.push({func:Ai,args:[xe],thisArg:t}),new Yn(at,Be)}return ot&&wt?a.apply(this,ae):(at=this.thru(xe),ot?x?at.value()[0]:at.value():at)})}),In(["pop","push","shift","sort","splice","unshift"],function(a){var u=us[a],m=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",x=/^(?:pop|shift)$/.test(a);K.prototype[a]=function(){var z=arguments;if(x&&!this.__chain__){var Q=this.value();return u.apply(mt(Q)?Q:[],z)}return this[m](function(ne){return u.apply(mt(ne)?ne:[],z)})}}),xr(gt.prototype,function(a,u){var m=K[u];if(m){var x=m.name+"";Vt.call(xa,x)||(xa[x]=[]),xa[x].push({name:u,func:m})}}),xa[Ga(t,b).name]=[{name:"wrapper",func:t}],gt.prototype.clone=sc,gt.prototype.reverse=Vf,gt.prototype.value=Ma,K.prototype.at=Hc,K.prototype.chain=Yo,K.prototype.commit=Wc,K.prototype.next=bh,K.prototype.plant=em,K.prototype.reverse=Ph,K.prototype.toJSON=K.prototype.valueOf=K.prototype.value=tm,K.prototype.first=K.prototype.head,cs&&(K.prototype[cs]=Rh),K},Ra=Vg();yn?((yn.exports=Ra)._=Ra,Ls._=Ra):$t._=Ra}).call(iL)}(qh,qh.exports)),qh.exports}var oL=sL();function aL(){const[i,e]=af.useState(!1),t=af.useRef(null),r=NN(e2,"documents","example-doc"),o=af.useRef(!1),l=oL.throttle(()=>{if(t.current&&o.current){const f=t.current.getEditor().getContents();console.log("Saving content to Firestore:",f),YN(r,{content:f.ops},{merge:!0}).then(()=>console.log("Content saved successfully")).catch(console.error),o.current=!1}},1e3);return af.useEffect(()=>{if(t.current){QN(r).then(g=>{if(g.exists()){const E=g.data().content;E&&t.current.getEditor().setContents(E)}else console.log("No document found, starting with empty editor.")}).catch(console.error);const f=XN(r,g=>{var E;if(g.exists()){const w=g.data().content;if(!i){const v=t.current.getEditor(),y=((E=v.getSelection())==null?void 0:E.index)||0;v.setContents(w,"silent"),v.setSelection(y)}}}),p=t.current.getEditor();return p.on("text-change",(g,E,w)=>{w==="user"&&(o.current=!0,e(!0),l(),console.log(g,E),setTimeout(()=>e(!1),5e3))}),()=>{f(),p.off("text-change")}}},[]),uu.jsx("div",{className:"google-docs-editor",children:uu.jsx(rL,{ref:t})})}function uL(){return af.useEffect(()=>{x2(d0),L2(d0,i=>{i&&console.log(`User signed in: ${i.uid}`)})},[]),uu.jsxs("div",{className:"App",children:[uu.jsx("header",{children:uu.jsx("h1",{children:"Google Doc Clone"})}),uu.jsx(aL,{})]})}_b.createRoot(document.getElementById("root")).render(uu.jsx(af.StrictMode,{children:uu.jsx(uL,{})}));
